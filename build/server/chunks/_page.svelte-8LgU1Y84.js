import { c as create_ssr_component, a as subscribe, o as onDestroy, d as escape, e as each, b as add_attribute } from './ssr-DUmth7AN.js';
import './client-C3KLrhj1.js';
import { p as page } from './stores-CjFwPvAb.js';
import { u as userProfile } from './userProfile-BJElsKeo.js';
import { c as competitionJudgingStore, b as currentEntry, a as activeSession, i as isJudging } from './competitionJudgingStore-zb8flal6.js';
import './exports-DKuYoYKl.js';
import './index-D3y4l4qv.js';
import './false-CRHihH2U.js';
import './supabaseClient-D_8i9Ohq.js';
import '@supabase/supabase-js';

const css = {
  code: ".judging-container.svelte-5hsbci{max-width:900px;margin:0 auto;padding:1rem;min-height:100vh;background:#f8fafc}.header.svelte-5hsbci{background:white;border-radius:12px;padding:1.5rem;margin-bottom:1rem;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1)}.competition-title.svelte-5hsbci{font-size:1.5rem;font-weight:600;color:#333;margin:0 0 0.5rem}.progress-bar.svelte-5hsbci{background:#e5e7eb;border-radius:8px;height:8px;margin:1rem 0;overflow:hidden}.progress-fill.svelte-5hsbci{background:linear-gradient(90deg, #ff3e00, #059669);height:100%;border-radius:8px;transition:width 0.3s ease}.progress-text.svelte-5hsbci{font-size:0.875rem;color:#666;text-align:center}.entry-nav.svelte-5hsbci{display:flex;gap:0.5rem;margin-bottom:1rem;overflow-x:auto;padding-bottom:0.5rem}.entry-nav-item.svelte-5hsbci{min-width:60px;height:40px;border:none;border-radius:6px;font-size:0.875rem;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center;font-weight:500}.entry-nav-item.active.svelte-5hsbci{background:#ff3e00;color:white}.entry-nav-item.judged.svelte-5hsbci{background:#059669;color:white}.entry-nav-item.pending.svelte-5hsbci{background:#e5e7eb;color:#6b7280}.main-content.svelte-5hsbci{display:grid;gap:1rem;grid-template-columns:1fr}.entry-card.svelte-5hsbci{background:white;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1)}.entry-header.svelte-5hsbci{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #f1f5f9}.entry-number.svelte-5hsbci{font-size:1.25rem;font-weight:600;color:#ff3e00;margin:0 0 0.5rem}.entry-details.svelte-5hsbci{display:grid;grid-template-columns:1fr 1fr;gap:1rem;font-size:0.9rem}.detail-item.svelte-5hsbci{display:flex;flex-direction:column}.detail-label.svelte-5hsbci{color:#666;margin-bottom:0.25rem}.detail-value.svelte-5hsbci{color:#333;font-weight:500}.scoring-section.svelte-5hsbci{margin-bottom:1.5rem}.section-title.svelte-5hsbci{font-size:1.1rem;font-weight:600;color:#333;margin-bottom:1rem}.score-grid.svelte-5hsbci{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr))}.score-item.svelte-5hsbci{background:#f8fafc;padding:1rem;border-radius:8px;border:1px solid #e2e8f0;display:flex;flex-direction:column;align-items:stretch}.score-label.svelte-5hsbci{display:block;font-size:0.875rem;font-weight:500;color:#374151;margin-bottom:0.5rem}.score-max.svelte-5hsbci{font-size:0.75rem;color:#6b7280;font-weight:normal}.score-input.svelte-5hsbci{width:100%;padding:0.75rem;border:2px solid #e5e7eb;border-radius:6px;font-size:1.1rem;font-weight:600;text-align:center;transition:border-color 0.2s ease;box-sizing:border-box;margin:0;background-color:white;display:block}.score-input.svelte-5hsbci:focus{outline:none;border-color:#ff3e00}.score-input.svelte-5hsbci:invalid{border-color:#dc2626}.total-score.svelte-5hsbci{background:linear-gradient(135deg, #ff3e00 0%, #e63600 100%);color:white;padding:1.5rem;border-radius:12px;text-align:center;margin-bottom:1rem}.total-score-value.svelte-5hsbci{font-size:2.5rem;font-weight:100;margin:0}.total-score-label.svelte-5hsbci{font-size:0.875rem;opacity:0.9;margin:0.5rem 0}.score-description.svelte-5hsbci{font-size:1.1rem;font-weight:500;opacity:0.95}.notes-section.svelte-5hsbci{margin-bottom:1.5rem}.notes-grid.svelte-5hsbci{display:grid;gap:1rem;grid-template-columns:1fr}.notes-item.svelte-5hsbci{display:flex;flex-direction:column}.notes-label.svelte-5hsbci{font-size:0.875rem;font-weight:500;color:#374151;margin-bottom:0.5rem}.notes-textarea.svelte-5hsbci{width:100%;min-height:100px;padding:0.75rem;border:2px solid #e5e7eb;border-radius:6px;font-size:1rem;resize:vertical;font-family:inherit;transition:border-color 0.2s ease}.notes-textarea.svelte-5hsbci:focus{outline:none;border-color:#ff3e00}.nav-buttons.svelte-5hsbci{display:flex;gap:1rem;justify-content:space-between;margin-top:2rem;flex-wrap:wrap}.nav-btn.svelte-5hsbci{flex:1;min-width:120px;padding:1rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;gap:0.5rem}.nav-btn.svelte-5hsbci:disabled{opacity:0.5;cursor:not-allowed}.nav-btn-secondary.svelte-5hsbci{background:#6b7280;color:white}.nav-btn-secondary.svelte-5hsbci:hover:not(:disabled){background:#4b5563}.nav-btn-primary.svelte-5hsbci{background:linear-gradient(135deg, #059669 0%, #047857 100%);color:white}.nav-btn-primary.svelte-5hsbci:hover:not(:disabled){background:linear-gradient(135deg, #047857 0%, #065f46 100%)}.nav-btn-finish.svelte-5hsbci{background:linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);color:white}.nav-btn-finish.svelte-5hsbci:hover:not(:disabled){background:linear-gradient(135deg, #b91c1c 0%, #991b1b 100%)}@media(max-width: 768px){.judging-container.svelte-5hsbci{padding:0.5rem}.entry-details.svelte-5hsbci{grid-template-columns:1fr}.score-grid.svelte-5hsbci{grid-template-columns:1fr 1fr}.nav-buttons.svelte-5hsbci{flex-direction:column}.nav-btn.svelte-5hsbci{width:100%}.total-score-value.svelte-5hsbci{font-size:2rem}}@media(max-width: 480px){.score-grid.svelte-5hsbci{grid-template-columns:1fr}.header.svelte-5hsbci{padding:1rem}.entry-card.svelte-5hsbci{padding:1rem}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<!-- Digital Judging Interface -->\\r\\n<script>\\r\\n  import { onMount, onDestroy } from 'svelte';\\r\\n  import { goto } from '$app/navigation';\\r\\n  import { page } from '$app/stores';\\r\\n  import { userProfile } from '$lib/stores/userProfile';\\r\\n  import { \\r\\n    competitionJudgingStore, \\r\\n    activeSession,\\r\\n    isJudging,\\r\\n    currentEntry\\r\\n  } from '$lib/stores/competitionJudgingStore';\\r\\n\\r\\n  // Get competition ID from URL\\r\\n  $: competitionId = $page.params.id;\\r\\n\\r\\n  let currentEntryIndex = 0;\\r\\n  let judgingData = {\\r\\n    aroma_score: '',\\r\\n    appearance_score: '',\\r\\n    flavor_score: '',\\r\\n    mouthfeel_score: '',\\r\\n    overall_score: '',\\r\\n    judge_notes: '',\\r\\n    private_notes: ''\\r\\n  };\\r\\n\\r\\n  let isSaving = false;\\r\\n  let showScoreBreakdown = false;\\r\\n  let autoSaveTimeout = null;\\r\\n\\r\\n  // Score maximums for validation\\r\\n  const scoreMaximums = {\\r\\n    aroma_score: 12,\\r\\n    appearance_score: 3, \\r\\n    flavor_score: 20,\\r\\n    mouthfeel_score: 5,\\r\\n    overall_score: 10\\r\\n  };\\r\\n\\r\\n  onMount(async () => {\\r\\n    if (!$userProfile) {\\r\\n      goto('/auth');\\r\\n      return;\\r\\n    }\\r\\n\\r\\n    try {\\r\\n      // Start or resume judging session\\r\\n      if (!$isJudging || $activeSession.activeCompetition?.id !== competitionId) {\\r\\n        await competitionJudgingStore.startJudgingSession(competitionId, $userProfile.id);\\r\\n      }\\r\\n      \\r\\n      // Load data for current entry\\r\\n      loadCurrentEntryData();\\r\\n    } catch (err) {\\r\\n      console.error('Error starting judging session:', err);\\r\\n      alert(\`Failed to start judging: \${err.message}\`);\\r\\n      goto('/judge');\\r\\n    }\\r\\n  });\\r\\n\\r\\n  onDestroy(() => {\\r\\n    if (autoSaveTimeout) {\\r\\n      clearTimeout(autoSaveTimeout);\\r\\n    }\\r\\n  });\\r\\n\\r\\n  // Reactive statements - reference individual fields to ensure reactivity\\r\\n  $: totalScore = (parseInt(judgingData.aroma_score) || 0) + \\r\\n                 (parseInt(judgingData.appearance_score) || 0) + \\r\\n                 (parseInt(judgingData.flavor_score) || 0) + \\r\\n                 (parseInt(judgingData.mouthfeel_score) || 0) + \\r\\n                 (parseInt(judgingData.overall_score) || 0);\\r\\n  $: progress = competitionJudgingStore.getJudgingProgress();\\r\\n  \\r\\n  // Load judging data for current entry\\r\\n  function loadCurrentEntryData() {\\r\\n    if (!$currentEntry) return;\\r\\n    \\r\\n    const existingJudging = $currentEntry.judging;\\r\\n    if (existingJudging) {\\r\\n      judgingData = {\\r\\n        aroma_score: existingJudging.aroma_score || '',\\r\\n        appearance_score: existingJudging.appearance_score || '',\\r\\n        flavor_score: existingJudging.flavor_score || '',\\r\\n        mouthfeel_score: existingJudging.mouthfeel_score || '',\\r\\n        overall_score: existingJudging.overall_score || '',\\r\\n        judge_notes: existingJudging.judge_notes || '',\\r\\n        private_notes: existingJudging.private_notes || ''\\r\\n      };\\r\\n    } else {\\r\\n      // Reset form for new entry\\r\\n      judgingData = {\\r\\n        aroma_score: '',\\r\\n        appearance_score: '',\\r\\n        flavor_score: '',\\r\\n        mouthfeel_score: '',\\r\\n        overall_score: '',\\r\\n        judge_notes: '',\\r\\n        private_notes: ''\\r\\n      };\\r\\n    }\\r\\n  }\\r\\n\\r\\n  function calculateTotalScore() {\\r\\n    return ['aroma_score', 'appearance_score', 'flavor_score', 'mouthfeel_score', 'overall_score']\\r\\n      .reduce((sum, field) => {\\r\\n        const score = parseInt(judgingData[field]) || 0;\\r\\n        return sum + score;\\r\\n      }, 0);\\r\\n  }\\r\\n\\r\\n  function validateScore(field, value) {\\r\\n    const numValue = parseInt(value);\\r\\n    const max = scoreMaximums[field];\\r\\n    \\r\\n    if (isNaN(numValue) || numValue < 0 || numValue > max) {\\r\\n      return false;\\r\\n    }\\r\\n    return true;\\r\\n  }\\r\\n\\r\\n  function handleScoreInput(field, event) {\\r\\n    const value = event.target.value;\\r\\n    \\r\\n    if (value === '' || validateScore(field, value)) {\\r\\n      judgingData[field] = value;\\r\\n      scheduleAutoSave();\\r\\n    } else {\\r\\n      // Reset to previous valid value\\r\\n      event.target.value = judgingData[field];\\r\\n    }\\r\\n  }\\r\\n\\r\\n  function handleNotesInput() {\\r\\n    scheduleAutoSave();\\r\\n  }\\r\\n\\r\\n  function scheduleAutoSave() {\\r\\n    if (autoSaveTimeout) {\\r\\n      clearTimeout(autoSaveTimeout);\\r\\n    }\\r\\n    \\r\\n    autoSaveTimeout = setTimeout(() => {\\r\\n      saveProgress();\\r\\n    }, 2000); // Auto-save after 2 seconds of inactivity\\r\\n  }\\r\\n\\r\\n  async function saveProgress() {\\r\\n    if (!$currentEntry || isSaving) return;\\r\\n\\r\\n    try {\\r\\n      const dataToSave = {\\r\\n        ...judgingData\\r\\n        // total_score is auto-calculated by database\\r\\n      };\\r\\n\\r\\n      // Convert empty strings to null for database\\r\\n      Object.keys(dataToSave).forEach(key => {\\r\\n        if (dataToSave[key] === '') {\\r\\n          dataToSave[key] = null;\\r\\n        } else if (key.includes('_score')) {\\r\\n          dataToSave[key] = parseInt(dataToSave[key]) || null;\\r\\n        }\\r\\n      });\\r\\n\\r\\n      await competitionJudgingStore.saveJudgingResults($currentEntry.id, dataToSave);\\r\\n      showToast('Progress saved', 'success');\\r\\n    } catch (err) {\\r\\n      console.error('Error auto-saving:', err);\\r\\n      showToast('Failed to save progress', 'error');\\r\\n    }\\r\\n  }\\r\\n\\r\\n  async function saveAndNext() {\\r\\n    if (!$currentEntry) return;\\r\\n\\r\\n    isSaving = true;\\r\\n    try {\\r\\n      await saveProgress();\\r\\n      navigateToNext();\\r\\n    } finally {\\r\\n      isSaving = false;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  async function saveAndPrevious() {\\r\\n    if (!$currentEntry) return;\\r\\n\\r\\n    isSaving = true;\\r\\n    try {\\r\\n      await saveProgress();\\r\\n      navigateToPrevious();\\r\\n    } finally {\\r\\n      isSaving = false;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  function navigateToNext() {\\r\\n    const entries = $activeSession.assignedEntries;\\r\\n    const nextIndex = currentEntryIndex + 1;\\r\\n    \\r\\n    if (nextIndex < entries.length) {\\r\\n      currentEntryIndex = nextIndex;\\r\\n      competitionJudgingStore.setCurrentEntry(nextIndex);\\r\\n      loadCurrentEntryData();\\r\\n    }\\r\\n  }\\r\\n\\r\\n  function navigateToPrevious() {\\r\\n    if (currentEntryIndex > 0) {\\r\\n      currentEntryIndex = currentEntryIndex - 1;\\r\\n      competitionJudgingStore.setCurrentEntry(currentEntryIndex);\\r\\n      loadCurrentEntryData();\\r\\n    }\\r\\n  }\\r\\n\\r\\n  function navigateToEntry(index) {\\r\\n    currentEntryIndex = index;\\r\\n    competitionJudgingStore.setCurrentEntry(index);\\r\\n    loadCurrentEntryData();\\r\\n  }\\r\\n\\r\\n  function getScoreColor(score) {\\r\\n    if (score >= 45) return '#059669'; // Excellent\\r\\n    if (score >= 38) return '#0891b2'; // Very Good  \\r\\n    if (score >= 30) return '#eab308'; // Good\\r\\n    if (score >= 21) return '#f59e0b'; // Fair\\r\\n    return '#dc2626'; // Poor\\r\\n  }\\r\\n\\r\\n  function getScoreDescription(score) {\\r\\n    if (score >= 45) return 'Excellent';\\r\\n    if (score >= 38) return 'Very Good';\\r\\n    if (score >= 30) return 'Good';\\r\\n    if (score >= 21) return 'Fair';\\r\\n    if (score > 0) return 'Poor';\\r\\n    return '';\\r\\n  }\\r\\n\\r\\n  async function finishJudging() {\\r\\n    if (!confirm('Are you sure you want to finish judging? You can still make changes later if needed.')) {\\r\\n      return;\\r\\n    }\\r\\n\\r\\n    // Save current progress\\r\\n    await saveProgress();\\r\\n    \\r\\n    showToast('Judging session saved successfully!', 'success');\\r\\n    setTimeout(() => {\\r\\n      goto('/judge');\\r\\n    }, 1500);\\r\\n  }\\r\\n\\r\\n  function showToast(message, type = 'info') {\\r\\n    const toast = document.createElement('div');\\r\\n    toast.textContent = message;\\r\\n    toast.style.cssText = \`\\r\\n      position: fixed;\\r\\n      top: 20px;\\r\\n      right: 20px;\\r\\n      padding: 1rem 1.5rem;\\r\\n      border-radius: 6px;\\r\\n      color: white;\\r\\n      font-weight: 500;\\r\\n      z-index: 1000;\\r\\n      background: \${type === 'success' ? '#059669' : type === 'error' ? '#dc2626' : '#6b7280'};\\r\\n      box-shadow: 0 4px 12px rgba(0,0,0,0.15);\\r\\n    \`;\\r\\n\\r\\n    document.body.appendChild(toast);\\r\\n    setTimeout(() => document.body.removeChild(toast), 3000);\\r\\n  }\\r\\n\\r\\n  // Watch for current entry changes\\r\\n  $: if ($currentEntry) {\\r\\n    loadCurrentEntryData();\\r\\n  }\\r\\n<\/script>\\r\\n\\r\\n<style>\\r\\n  .judging-container {\\r\\n    max-width: 900px;\\r\\n    margin: 0 auto;\\r\\n    padding: 1rem;\\r\\n    min-height: 100vh;\\r\\n    background: #f8fafc;\\r\\n  }\\r\\n\\r\\n  /* Header */\\r\\n  .header {\\r\\n    background: white;\\r\\n    border-radius: 12px;\\r\\n    padding: 1.5rem;\\r\\n    margin-bottom: 1rem;\\r\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n  }\\r\\n\\r\\n  .competition-title {\\r\\n    font-size: 1.5rem;\\r\\n    font-weight: 600;\\r\\n    color: #333;\\r\\n    margin: 0 0 0.5rem;\\r\\n  }\\r\\n\\r\\n  .progress-bar {\\r\\n    background: #e5e7eb;\\r\\n    border-radius: 8px;\\r\\n    height: 8px;\\r\\n    margin: 1rem 0;\\r\\n    overflow: hidden;\\r\\n  }\\r\\n\\r\\n  .progress-fill {\\r\\n    background: linear-gradient(90deg, #ff3e00, #059669);\\r\\n    height: 100%;\\r\\n    border-radius: 8px;\\r\\n    transition: width 0.3s ease;\\r\\n  }\\r\\n\\r\\n  .progress-text {\\r\\n    font-size: 0.875rem;\\r\\n    color: #666;\\r\\n    text-align: center;\\r\\n  }\\r\\n\\r\\n  /* Entry Navigation */\\r\\n  .entry-nav {\\r\\n    display: flex;\\r\\n    gap: 0.5rem;\\r\\n    margin-bottom: 1rem;\\r\\n    overflow-x: auto;\\r\\n    padding-bottom: 0.5rem;\\r\\n  }\\r\\n\\r\\n  .entry-nav-item {\\r\\n    min-width: 60px;\\r\\n    height: 40px;\\r\\n    border: none;\\r\\n    border-radius: 6px;\\r\\n    font-size: 0.875rem;\\r\\n    cursor: pointer;\\r\\n    transition: all 0.2s ease;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    font-weight: 500;\\r\\n  }\\r\\n\\r\\n  .entry-nav-item.active {\\r\\n    background: #ff3e00;\\r\\n    color: white;\\r\\n  }\\r\\n\\r\\n  .entry-nav-item.judged {\\r\\n    background: #059669;\\r\\n    color: white;\\r\\n  }\\r\\n\\r\\n  .entry-nav-item.pending {\\r\\n    background: #e5e7eb;\\r\\n    color: #6b7280;\\r\\n  }\\r\\n\\r\\n  /* Main Content */\\r\\n  .main-content {\\r\\n    display: grid;\\r\\n    gap: 1rem;\\r\\n    grid-template-columns: 1fr;\\r\\n  }\\r\\n\\r\\n  .entry-card {\\r\\n    background: white;\\r\\n    border-radius: 12px;\\r\\n    padding: 1.5rem;\\r\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n  }\\r\\n\\r\\n  .entry-header {\\r\\n    margin-bottom: 1.5rem;\\r\\n    padding-bottom: 1rem;\\r\\n    border-bottom: 2px solid #f1f5f9;\\r\\n  }\\r\\n\\r\\n  .entry-number {\\r\\n    font-size: 1.25rem;\\r\\n    font-weight: 600;\\r\\n    color: #ff3e00;\\r\\n    margin: 0 0 0.5rem;\\r\\n  }\\r\\n\\r\\n  .entry-details {\\r\\n    display: grid;\\r\\n    grid-template-columns: 1fr 1fr;\\r\\n    gap: 1rem;\\r\\n    font-size: 0.9rem;\\r\\n  }\\r\\n\\r\\n  .detail-item {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n  }\\r\\n\\r\\n  .detail-label {\\r\\n    color: #666;\\r\\n    margin-bottom: 0.25rem;\\r\\n  }\\r\\n\\r\\n  .detail-value {\\r\\n    color: #333;\\r\\n    font-weight: 500;\\r\\n  }\\r\\n\\r\\n  /* Scoring Section */\\r\\n  .scoring-section {\\r\\n    margin-bottom: 1.5rem;\\r\\n  }\\r\\n\\r\\n  .section-title {\\r\\n    font-size: 1.1rem;\\r\\n    font-weight: 600;\\r\\n    color: #333;\\r\\n    margin-bottom: 1rem;\\r\\n  }\\r\\n\\r\\n  .score-grid {\\r\\n    display: grid;\\r\\n    gap: 1rem;\\r\\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\r\\n  }\\r\\n\\r\\n  .score-item {\\r\\n    background: #f8fafc;\\r\\n    padding: 1rem;\\r\\n    border-radius: 8px;\\r\\n    border: 1px solid #e2e8f0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: stretch;\\r\\n  }\\r\\n\\r\\n  .score-label {\\r\\n    display: block;\\r\\n    font-size: 0.875rem;\\r\\n    font-weight: 500;\\r\\n    color: #374151;\\r\\n    margin-bottom: 0.5rem;\\r\\n  }\\r\\n\\r\\n  .score-max {\\r\\n    font-size: 0.75rem;\\r\\n    color: #6b7280;\\r\\n    font-weight: normal;\\r\\n  }\\r\\n\\r\\n  .score-input {\\r\\n    width: 100%;\\r\\n    padding: 0.75rem;\\r\\n    border: 2px solid #e5e7eb;\\r\\n    border-radius: 6px;\\r\\n    font-size: 1.1rem;\\r\\n    font-weight: 600;\\r\\n    text-align: center;\\r\\n    transition: border-color 0.2s ease;\\r\\n    box-sizing: border-box;\\r\\n    margin: 0;\\r\\n    background-color: white;\\r\\n    display: block;\\r\\n  }\\r\\n\\r\\n  .score-input:focus {\\r\\n    outline: none;\\r\\n    border-color: #ff3e00;\\r\\n  }\\r\\n\\r\\n  .score-input:invalid {\\r\\n    border-color: #dc2626;\\r\\n  }\\r\\n\\r\\n  /* Total Score Display */\\r\\n  .total-score {\\r\\n    background: linear-gradient(135deg, #ff3e00 0%, #e63600 100%);\\r\\n    color: white;\\r\\n    padding: 1.5rem;\\r\\n    border-radius: 12px;\\r\\n    text-align: center;\\r\\n    margin-bottom: 1rem;\\r\\n  }\\r\\n\\r\\n  .total-score-value {\\r\\n    font-size: 2.5rem;\\r\\n    font-weight: 100;\\r\\n    margin: 0;\\r\\n  }\\r\\n\\r\\n  .total-score-label {\\r\\n    font-size: 0.875rem;\\r\\n    opacity: 0.9;\\r\\n    margin: 0.5rem 0;\\r\\n  }\\r\\n\\r\\n  .score-description {\\r\\n    font-size: 1.1rem;\\r\\n    font-weight: 500;\\r\\n    opacity: 0.95;\\r\\n  }\\r\\n\\r\\n  /* Notes Section */\\r\\n  .notes-section {\\r\\n    margin-bottom: 1.5rem;\\r\\n  }\\r\\n\\r\\n  .notes-grid {\\r\\n    display: grid;\\r\\n    gap: 1rem;\\r\\n    grid-template-columns: 1fr;\\r\\n  }\\r\\n\\r\\n  .notes-item {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n  }\\r\\n\\r\\n  .notes-label {\\r\\n    font-size: 0.875rem;\\r\\n    font-weight: 500;\\r\\n    color: #374151;\\r\\n    margin-bottom: 0.5rem;\\r\\n  }\\r\\n\\r\\n  .notes-textarea {\\r\\n    width: 100%;\\r\\n    min-height: 100px;\\r\\n    padding: 0.75rem;\\r\\n    border: 2px solid #e5e7eb;\\r\\n    border-radius: 6px;\\r\\n    font-size: 1rem;\\r\\n    resize: vertical;\\r\\n    font-family: inherit;\\r\\n    transition: border-color 0.2s ease;\\r\\n  }\\r\\n\\r\\n  .notes-textarea:focus {\\r\\n    outline: none;\\r\\n    border-color: #ff3e00;\\r\\n  }\\r\\n\\r\\n  /* Navigation Buttons */\\r\\n  .nav-buttons {\\r\\n    display: flex;\\r\\n    gap: 1rem;\\r\\n    justify-content: space-between;\\r\\n    margin-top: 2rem;\\r\\n    flex-wrap: wrap;\\r\\n  }\\r\\n\\r\\n  .nav-btn {\\r\\n    flex: 1;\\r\\n    min-width: 120px;\\r\\n    padding: 1rem 1.5rem;\\r\\n    border: none;\\r\\n    border-radius: 8px;\\r\\n    font-size: 1rem;\\r\\n    font-weight: 500;\\r\\n    cursor: pointer;\\r\\n    transition: all 0.3s ease;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    gap: 0.5rem;\\r\\n  }\\r\\n\\r\\n  .nav-btn:disabled {\\r\\n    opacity: 0.5;\\r\\n    cursor: not-allowed;\\r\\n  }\\r\\n\\r\\n  .nav-btn-secondary {\\r\\n    background: #6b7280;\\r\\n    color: white;\\r\\n  }\\r\\n\\r\\n  .nav-btn-secondary:hover:not(:disabled) {\\r\\n    background: #4b5563;\\r\\n  }\\r\\n\\r\\n  .nav-btn-primary {\\r\\n    background: linear-gradient(135deg, #059669 0%, #047857 100%);\\r\\n    color: white;\\r\\n  }\\r\\n\\r\\n  .nav-btn-primary:hover:not(:disabled) {\\r\\n    background: linear-gradient(135deg, #047857 0%, #065f46 100%);\\r\\n  }\\r\\n\\r\\n  .nav-btn-finish {\\r\\n    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);\\r\\n    color: white;\\r\\n  }\\r\\n\\r\\n  .nav-btn-finish:hover:not(:disabled) {\\r\\n    background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);\\r\\n  }\\r\\n\\r\\n  /* Mobile optimizations */\\r\\n  @media (max-width: 768px) {\\r\\n    .judging-container {\\r\\n      padding: 0.5rem;\\r\\n    }\\r\\n\\r\\n    .entry-details {\\r\\n      grid-template-columns: 1fr;\\r\\n    }\\r\\n\\r\\n    .score-grid {\\r\\n      grid-template-columns: 1fr 1fr;\\r\\n    }\\r\\n\\r\\n    .nav-buttons {\\r\\n      flex-direction: column;\\r\\n    }\\r\\n\\r\\n    .nav-btn {\\r\\n      width: 100%;\\r\\n    }\\r\\n\\r\\n    .total-score-value {\\r\\n      font-size: 2rem;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  @media (max-width: 480px) {\\r\\n    .score-grid {\\r\\n      grid-template-columns: 1fr;\\r\\n    }\\r\\n\\r\\n    .header {\\r\\n      padding: 1rem;\\r\\n    }\\r\\n\\r\\n    .entry-card {\\r\\n      padding: 1rem;\\r\\n    }\\r\\n  }\\r\\n</style>\\r\\n\\r\\n<div class=\\"judging-container\\">\\r\\n  {#if !$isJudging}\\r\\n    <div style=\\"text-align: center; padding: 3rem;\\">\\r\\n      <h2>Starting judging session...</h2>\\r\\n    </div>\\r\\n  {:else if !$currentEntry}\\r\\n    <div style=\\"text-align: center; padding: 3rem;\\">\\r\\n      <h2>No entries to judge</h2>\\r\\n      <button class=\\"nav-btn nav-btn-secondary\\" on:click={() => goto('/judge')}>\\r\\n        Back to Judge Portal\\r\\n      </button>\\r\\n    </div>\\r\\n  {:else}\\r\\n    <!-- Header -->\\r\\n    <div class=\\"header\\">\\r\\n      <h1 class=\\"competition-title\\">{$activeSession.activeCompetition?.name}</h1>\\r\\n      \\r\\n      <div class=\\"progress-bar\\">\\r\\n        <div \\r\\n          class=\\"progress-fill\\" \\r\\n          style=\\"width: {progress.percentage}%\\"\\r\\n        ></div>\\r\\n      </div>\\r\\n      <div class=\\"progress-text\\">\\r\\n        {progress.completed} of {progress.total} entries judged ({progress.percentage}%)\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Entry Navigation -->\\r\\n    <div class=\\"entry-nav\\">\\r\\n      {#each $activeSession.assignedEntries as entry, index}\\r\\n        <button \\r\\n          class=\\"entry-nav-item {index === currentEntryIndex ? 'active' : entry.hasBeenJudged ? 'judged' : 'pending'}\\"\\r\\n          on:click={() => navigateToEntry(index)}\\r\\n        >\\r\\n          {entry.entry_number}\\r\\n        </button>\\r\\n      {/each}\\r\\n    </div>\\r\\n\\r\\n    <!-- Main Content -->\\r\\n    <div class=\\"main-content\\">\\r\\n      <div class=\\"entry-card\\">\\r\\n        <!-- Entry Header -->\\r\\n        <div class=\\"entry-header\\">\\r\\n          <h2 class=\\"entry-number\\">Entry #{$currentEntry.entry_number}</h2>\\r\\n          <div class=\\"entry-details\\">\\r\\n            <div class=\\"detail-item\\">\\r\\n              <span class=\\"detail-label\\">Beer Name</span>\\r\\n              <span class=\\"detail-value\\">{$currentEntry.beer_name || 'No name provided'}</span>\\r\\n            </div>\\r\\n            <div class=\\"detail-item\\">\\r\\n              <span class=\\"detail-label\\">Category</span>\\r\\n              <span class=\\"detail-value\\">\\r\\n                {$currentEntry.category?.category_number || ''}{$currentEntry.category?.subcategory_letter || ''} - {$currentEntry.category?.category_name || 'Unknown'}\\r\\n              </span>\\r\\n            </div>\\r\\n            <div class=\\"detail-item\\">\\r\\n              <span class=\\"detail-label\\">Subcategory</span>\\r\\n              <span class=\\"detail-value\\">{$currentEntry.category?.subcategory_name || 'N/A'}</span>\\r\\n            </div>\\r\\n            <div class=\\"detail-item\\">\\r\\n              <span class=\\"detail-label\\">Entry Notes</span>\\r\\n              <span class=\\"detail-value\\">{$currentEntry.beer_notes || 'None'}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- Total Score Display -->\\r\\n        <div class=\\"total-score\\" style=\\"background: {totalScore > 0 ? getScoreColor(totalScore) : '#6b7280'}\\">\\r\\n          <h3 class=\\"total-score-value\\">{totalScore}/50</h3>\\r\\n          <p class=\\"total-score-label\\">Total Score</p>\\r\\n          {#if totalScore > 0}\\r\\n            <p class=\\"score-description\\">{getScoreDescription(totalScore)}</p>\\r\\n          {/if}\\r\\n        </div>\\r\\n\\r\\n        <!-- Scoring Section -->\\r\\n        <div class=\\"scoring-section\\">\\r\\n          <h3 class=\\"section-title\\">BJCP Scoring (50 points total)</h3>\\r\\n          \\r\\n          <div class=\\"score-grid\\">\\r\\n            <div class=\\"score-item\\">\\r\\n              <label class=\\"score-label\\" for=\\"aroma\\">\\r\\n                Aroma <span class=\\"score-max\\">(0-12)</span>\\r\\n              </label>\\r\\n              <input \\r\\n                id=\\"aroma\\"\\r\\n                type=\\"number\\" \\r\\n                class=\\"score-input\\"\\r\\n                min=\\"0\\" \\r\\n                max=\\"12\\"\\r\\n                bind:value={judgingData.aroma_score}\\r\\n                on:input={(e) => handleScoreInput('aroma_score', e)}\\r\\n                placeholder=\\"0\\"\\r\\n              />\\r\\n            </div>\\r\\n\\r\\n            <div class=\\"score-item\\">\\r\\n              <label class=\\"score-label\\" for=\\"appearance\\">\\r\\n                Appearance <span class=\\"score-max\\">(0-3)</span>\\r\\n              </label>\\r\\n              <input \\r\\n                id=\\"appearance\\"\\r\\n                type=\\"number\\" \\r\\n                class=\\"score-input\\"\\r\\n                min=\\"0\\" \\r\\n                max=\\"3\\"\\r\\n                bind:value={judgingData.appearance_score}\\r\\n                on:input={(e) => handleScoreInput('appearance_score', e)}\\r\\n                placeholder=\\"0\\"\\r\\n              />\\r\\n            </div>\\r\\n\\r\\n            <div class=\\"score-item\\">\\r\\n              <label class=\\"score-label\\" for=\\"flavor\\">\\r\\n                Flavor <span class=\\"score-max\\">(0-20)</span>\\r\\n              </label>\\r\\n              <input \\r\\n                id=\\"flavor\\"\\r\\n                type=\\"number\\" \\r\\n                class=\\"score-input\\"\\r\\n                min=\\"0\\" \\r\\n                max=\\"20\\"\\r\\n                bind:value={judgingData.flavor_score}\\r\\n                on:input={(e) => handleScoreInput('flavor_score', e)}\\r\\n                placeholder=\\"0\\"\\r\\n              />\\r\\n            </div>\\r\\n\\r\\n            <div class=\\"score-item\\">\\r\\n              <label class=\\"score-label\\" for=\\"mouthfeel\\">\\r\\n                Mouthfeel <span class=\\"score-max\\">(0-5)</span>\\r\\n              </label>\\r\\n              <input \\r\\n                id=\\"mouthfeel\\"\\r\\n                type=\\"number\\" \\r\\n                class=\\"score-input\\"\\r\\n                min=\\"0\\" \\r\\n                max=\\"5\\"\\r\\n                bind:value={judgingData.mouthfeel_score}\\r\\n                on:input={(e) => handleScoreInput('mouthfeel_score', e)}\\r\\n                placeholder=\\"0\\"\\r\\n              />\\r\\n            </div>\\r\\n\\r\\n            <div class=\\"score-item\\">\\r\\n              <label class=\\"score-label\\" for=\\"overall\\">\\r\\n                Overall <span class=\\"score-max\\">(0-10)</span>\\r\\n              </label>\\r\\n              <input \\r\\n                id=\\"overall\\"\\r\\n                type=\\"number\\" \\r\\n                class=\\"score-input\\"\\r\\n                min=\\"0\\" \\r\\n                max=\\"10\\"\\r\\n                bind:value={judgingData.overall_score}\\r\\n                on:input={(e) => handleScoreInput('overall_score', e)}\\r\\n                placeholder=\\"0\\"\\r\\n              />\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- Notes Section -->\\r\\n        <div class=\\"notes-section\\">\\r\\n          <h3 class=\\"section-title\\">Judging Notes</h3>\\r\\n          \\r\\n          <div class=\\"notes-grid\\">\\r\\n            <div class=\\"notes-item\\">\\r\\n              <label class=\\"notes-label\\" for=\\"public-notes\\">\\r\\n                Judge Notes (visible to entrant)\\r\\n              </label>\\r\\n              <textarea \\r\\n                id=\\"public-notes\\"\\r\\n                class=\\"notes-textarea\\"\\r\\n                bind:value={judgingData.judge_notes}\\r\\n                on:input={handleNotesInput}\\r\\n                placeholder=\\"Provide constructive feedback about aroma, appearance, flavor, mouthfeel, and overall impression...\\"\\r\\n              ></textarea>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\"notes-item\\">\\r\\n              <label class=\\"notes-label\\" for=\\"private-notes\\">\\r\\n                Private Notes (only visible to judges and officers)\\r\\n              </label>\\r\\n              <textarea \\r\\n                id=\\"private-notes\\"\\r\\n                class=\\"notes-textarea\\"\\r\\n                bind:value={judgingData.private_notes}\\r\\n                on:input={handleNotesInput}\\r\\n                placeholder=\\"Internal judging notes, comparisons, or other observations...\\"\\r\\n              ></textarea>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- Navigation Buttons -->\\r\\n        <div class=\\"nav-buttons\\">\\r\\n          <button \\r\\n            class=\\"nav-btn nav-btn-secondary\\"\\r\\n            on:click={saveAndPrevious}\\r\\n            disabled={currentEntryIndex === 0 || isSaving}\\r\\n          >\\r\\n            ‚¨ÖÔ∏è Previous Entry\\r\\n          </button>\\r\\n\\r\\n          <a \\r\\n            href=\\"/judge/competition/{competitionId}/scoresheet\\"\\r\\n            class=\\"nav-btn nav-btn-secondary\\"\\r\\n            style=\\"text-decoration: none; display: flex; align-items: center; justify-content: center;\\"\\r\\n          >\\r\\n            üìã BJCP Scoresheet\\r\\n          </a>\\r\\n\\r\\n          <a \\r\\n            href=\\"/judge/competition/{competitionId}/rankings\\"\\r\\n            class=\\"nav-btn nav-btn-secondary\\"\\r\\n            style=\\"text-decoration: none; display: flex; align-items: center; justify-content: center;\\"\\r\\n          >\\r\\n            üèÜ Rankings\\r\\n          </a>\\r\\n\\r\\n          {#if currentEntryIndex < $activeSession.assignedEntries.length - 1}\\r\\n            <button \\r\\n              class=\\"nav-btn nav-btn-primary\\"\\r\\n              on:click={saveAndNext}\\r\\n              disabled={isSaving}\\r\\n            >\\r\\n              Next Entry ‚û°Ô∏è\\r\\n            </button>\\r\\n          {:else}\\r\\n            <button \\r\\n              class=\\"nav-btn nav-btn-finish\\"\\r\\n              on:click={finishJudging}\\r\\n              disabled={isSaving}\\r\\n            >\\r\\n              üèÅ Finish Judging\\r\\n            </button>\\r\\n          {/if}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  {/if}\\r\\n</div>"],"names":[],"mappings":"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"}`
};
function getScoreColor(score) {
  if (score >= 45) return "#059669";
  if (score >= 38) return "#0891b2";
  if (score >= 30) return "#eab308";
  if (score >= 21) return "#f59e0b";
  return "#dc2626";
}
function getScoreDescription(score) {
  if (score >= 45) return "Excellent";
  if (score >= 38) return "Very Good";
  if (score >= 30) return "Good";
  if (score >= 21) return "Fair";
  if (score > 0) return "Poor";
  return "";
}
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let competitionId;
  let totalScore;
  let progress;
  let $currentEntry, $$unsubscribe_currentEntry;
  let $activeSession, $$unsubscribe_activeSession;
  let $$unsubscribe_userProfile;
  let $isJudging, $$unsubscribe_isJudging;
  let $page, $$unsubscribe_page;
  $$unsubscribe_currentEntry = subscribe(currentEntry, (value) => $currentEntry = value);
  $$unsubscribe_activeSession = subscribe(activeSession, (value) => $activeSession = value);
  $$unsubscribe_userProfile = subscribe(userProfile, (value) => value);
  $$unsubscribe_isJudging = subscribe(isJudging, (value) => $isJudging = value);
  $$unsubscribe_page = subscribe(page, (value) => $page = value);
  let currentEntryIndex = 0;
  let judgingData = {
    aroma_score: "",
    appearance_score: "",
    flavor_score: "",
    mouthfeel_score: "",
    overall_score: "",
    judge_notes: "",
    private_notes: ""
  };
  onDestroy(() => {
  });
  function loadCurrentEntryData() {
    if (!$currentEntry) return;
    const existingJudging = $currentEntry.judging;
    if (existingJudging) {
      judgingData = {
        aroma_score: existingJudging.aroma_score || "",
        appearance_score: existingJudging.appearance_score || "",
        flavor_score: existingJudging.flavor_score || "",
        mouthfeel_score: existingJudging.mouthfeel_score || "",
        overall_score: existingJudging.overall_score || "",
        judge_notes: existingJudging.judge_notes || "",
        private_notes: existingJudging.private_notes || ""
      };
    } else {
      judgingData = {
        aroma_score: "",
        appearance_score: "",
        flavor_score: "",
        mouthfeel_score: "",
        overall_score: "",
        judge_notes: "",
        private_notes: ""
      };
    }
  }
  $$result.css.add(css);
  competitionId = $page.params.id;
  totalScore = (parseInt(judgingData.aroma_score) || 0) + (parseInt(judgingData.appearance_score) || 0) + (parseInt(judgingData.flavor_score) || 0) + (parseInt(judgingData.mouthfeel_score) || 0) + (parseInt(judgingData.overall_score) || 0);
  progress = competitionJudgingStore.getJudgingProgress();
  {
    if ($currentEntry) {
      loadCurrentEntryData();
    }
  }
  $$unsubscribe_currentEntry();
  $$unsubscribe_activeSession();
  $$unsubscribe_userProfile();
  $$unsubscribe_isJudging();
  $$unsubscribe_page();
  return `   <div class="judging-container svelte-5hsbci">${!$isJudging ? `<div style="text-align: center; padding: 3rem;" data-svelte-h="svelte-dn045j"><h2>Starting judging session...</h2></div>` : `${!$currentEntry ? `<div style="text-align: center; padding: 3rem;"><h2 data-svelte-h="svelte-dovhs3">No entries to judge</h2> <button class="nav-btn nav-btn-secondary svelte-5hsbci" data-svelte-h="svelte-4py7n9">Back to Judge Portal</button></div>` : ` <div class="header svelte-5hsbci"><h1 class="competition-title svelte-5hsbci">${escape($activeSession.activeCompetition?.name)}</h1> <div class="progress-bar svelte-5hsbci"><div class="progress-fill svelte-5hsbci" style="${"width: " + escape(progress.percentage, true) + "%"}"></div></div> <div class="progress-text svelte-5hsbci">${escape(progress.completed)} of ${escape(progress.total)} entries judged (${escape(progress.percentage)}%)</div></div>  <div class="entry-nav svelte-5hsbci">${each($activeSession.assignedEntries, (entry, index) => {
    return `<button class="${"entry-nav-item " + escape(
      index === currentEntryIndex ? "active" : entry.hasBeenJudged ? "judged" : "pending",
      true
    ) + " svelte-5hsbci"}">${escape(entry.entry_number)} </button>`;
  })}</div>  <div class="main-content svelte-5hsbci"><div class="entry-card svelte-5hsbci"> <div class="entry-header svelte-5hsbci"><h2 class="entry-number svelte-5hsbci">Entry #${escape($currentEntry.entry_number)}</h2> <div class="entry-details svelte-5hsbci"><div class="detail-item svelte-5hsbci"><span class="detail-label svelte-5hsbci" data-svelte-h="svelte-15a86sm">Beer Name</span> <span class="detail-value svelte-5hsbci">${escape($currentEntry.beer_name || "No name provided")}</span></div> <div class="detail-item svelte-5hsbci"><span class="detail-label svelte-5hsbci" data-svelte-h="svelte-15re40r">Category</span> <span class="detail-value svelte-5hsbci">${escape($currentEntry.category?.category_number || "")}${escape($currentEntry.category?.subcategory_letter || "")} - ${escape($currentEntry.category?.category_name || "Unknown")}</span></div> <div class="detail-item svelte-5hsbci"><span class="detail-label svelte-5hsbci" data-svelte-h="svelte-1bsaegp">Subcategory</span> <span class="detail-value svelte-5hsbci">${escape($currentEntry.category?.subcategory_name || "N/A")}</span></div> <div class="detail-item svelte-5hsbci"><span class="detail-label svelte-5hsbci" data-svelte-h="svelte-8vljau">Entry Notes</span> <span class="detail-value svelte-5hsbci">${escape($currentEntry.beer_notes || "None")}</span></div></div></div>  <div class="total-score svelte-5hsbci" style="${"background: " + escape(totalScore > 0 ? getScoreColor(totalScore) : "#6b7280", true)}"><h3 class="total-score-value svelte-5hsbci">${escape(totalScore)}/50</h3> <p class="total-score-label svelte-5hsbci" data-svelte-h="svelte-h4i2gr">Total Score</p> ${totalScore > 0 ? `<p class="score-description svelte-5hsbci">${escape(getScoreDescription(totalScore))}</p>` : ``}</div>  <div class="scoring-section svelte-5hsbci"><h3 class="section-title svelte-5hsbci" data-svelte-h="svelte-3tiq5s">BJCP Scoring (50 points total)</h3> <div class="score-grid svelte-5hsbci"><div class="score-item svelte-5hsbci"><label class="score-label svelte-5hsbci" for="aroma" data-svelte-h="svelte-xqfdtg">Aroma <span class="score-max svelte-5hsbci">(0-12)</span></label> <input id="aroma" type="number" class="score-input svelte-5hsbci" min="0" max="12" placeholder="0"${add_attribute("value", judgingData.aroma_score, 0)}></div> <div class="score-item svelte-5hsbci"><label class="score-label svelte-5hsbci" for="appearance" data-svelte-h="svelte-ljiog4">Appearance <span class="score-max svelte-5hsbci">(0-3)</span></label> <input id="appearance" type="number" class="score-input svelte-5hsbci" min="0" max="3" placeholder="0"${add_attribute("value", judgingData.appearance_score, 0)}></div> <div class="score-item svelte-5hsbci"><label class="score-label svelte-5hsbci" for="flavor" data-svelte-h="svelte-1h3mxuj">Flavor <span class="score-max svelte-5hsbci">(0-20)</span></label> <input id="flavor" type="number" class="score-input svelte-5hsbci" min="0" max="20" placeholder="0"${add_attribute("value", judgingData.flavor_score, 0)}></div> <div class="score-item svelte-5hsbci"><label class="score-label svelte-5hsbci" for="mouthfeel" data-svelte-h="svelte-1ijxj1i">Mouthfeel <span class="score-max svelte-5hsbci">(0-5)</span></label> <input id="mouthfeel" type="number" class="score-input svelte-5hsbci" min="0" max="5" placeholder="0"${add_attribute("value", judgingData.mouthfeel_score, 0)}></div> <div class="score-item svelte-5hsbci"><label class="score-label svelte-5hsbci" for="overall" data-svelte-h="svelte-1fijyxa">Overall <span class="score-max svelte-5hsbci">(0-10)</span></label> <input id="overall" type="number" class="score-input svelte-5hsbci" min="0" max="10" placeholder="0"${add_attribute("value", judgingData.overall_score, 0)}></div></div></div>  <div class="notes-section svelte-5hsbci"><h3 class="section-title svelte-5hsbci" data-svelte-h="svelte-ed27gq">Judging Notes</h3> <div class="notes-grid svelte-5hsbci"><div class="notes-item svelte-5hsbci"><label class="notes-label svelte-5hsbci" for="public-notes" data-svelte-h="svelte-1jlf7qm">Judge Notes (visible to entrant)</label> <textarea id="public-notes" class="notes-textarea svelte-5hsbci" placeholder="Provide constructive feedback about aroma, appearance, flavor, mouthfeel, and overall impression...">${escape(judgingData.judge_notes || "")}</textarea></div> <div class="notes-item svelte-5hsbci"><label class="notes-label svelte-5hsbci" for="private-notes" data-svelte-h="svelte-3nxa16">Private Notes (only visible to judges and officers)</label> <textarea id="private-notes" class="notes-textarea svelte-5hsbci" placeholder="Internal judging notes, comparisons, or other observations...">${escape(judgingData.private_notes || "")}</textarea></div></div></div>  <div class="nav-buttons svelte-5hsbci"><button class="nav-btn nav-btn-secondary svelte-5hsbci" ${"disabled"}>‚¨ÖÔ∏è Previous Entry</button> <a href="${"/judge/competition/" + escape(competitionId, true) + "/scoresheet"}" class="nav-btn nav-btn-secondary svelte-5hsbci" style="text-decoration: none; display: flex; align-items: center; justify-content: center;">üìã BJCP Scoresheet</a> <a href="${"/judge/competition/" + escape(competitionId, true) + "/rankings"}" class="nav-btn nav-btn-secondary svelte-5hsbci" style="text-decoration: none; display: flex; align-items: center; justify-content: center;">üèÜ Rankings</a> ${currentEntryIndex < $activeSession.assignedEntries.length - 1 ? `<button class="nav-btn nav-btn-primary svelte-5hsbci" ${""}>Next Entry ‚û°Ô∏è</button>` : `<button class="nav-btn nav-btn-finish svelte-5hsbci" ${""}>üèÅ Finish Judging</button>`}</div></div></div>`}`}</div>`;
});

export { Page as default };
//# sourceMappingURL=_page.svelte-8LgU1Y84.js.map
