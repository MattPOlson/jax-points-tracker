import { c as create_ssr_component, a as subscribe, o as onDestroy, d as escape, e as each } from './ssr-CFMHIens.js';
import { p as page } from './stores-C-uFbAzB.js';
import './supabaseClient-D_8i9Ohq.js';
import { u as userProfile } from './userProfile-BAUZwBX2.js';
import { a as allSubmissions, l as loadMySubmissions, m as message, b as loading } from './mySubmissionsStore-fjtplp0E.js';
import { f as formatDate } from './dateUtils-D_vm5-qZ.js';
import './client-C3KLrhj1.js';
import './exports-DKuYoYKl.js';
import '@supabase/supabase-js';
import './index-Ct3aIOD7.js';
import './false-CRHihH2U.js';

const css = {
  code: 'main.svelte-173081c.svelte-173081c{margin:0 auto;padding:1rem;width:90%;max-width:1200px;text-align:center}.hero-section.svelte-173081c.svelte-173081c{margin-bottom:3rem}h1.svelte-173081c.svelte-173081c{color:#ff3e00;text-transform:uppercase;font-size:3.5rem;font-weight:100;margin:0 0 0.25em;line-height:1.1}.subtitle.svelte-173081c.svelte-173081c{font-size:1.2rem;color:#333;font-weight:500;margin-bottom:2rem}.loading-state.svelte-173081c.svelte-173081c{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:3rem;color:#666}.spinner.svelte-173081c.svelte-173081c{width:40px;height:40px;border:4px solid rgba(255, 62, 0, 0.2);border-top:4px solid #ff3e00;border-radius:50%;animation:svelte-173081c-spin 1s linear infinite}@keyframes svelte-173081c-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.stats-section.svelte-173081c.svelte-173081c{margin-bottom:2rem}.stats-grid.svelte-173081c.svelte-173081c{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1rem;max-width:800px;margin:0 auto}.stat-card.svelte-173081c.svelte-173081c{background:white;border-radius:6px;padding:1.5rem;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1);display:flex;align-items:center;gap:1rem;border-left:4px solid}.stat-card.approved.svelte-173081c.svelte-173081c{border-left-color:#059669}.stat-card.pending.svelte-173081c.svelte-173081c{border-left-color:#d97706}.stat-card.rejected.svelte-173081c.svelte-173081c{border-left-color:#dc2626}.stat-card.points.svelte-173081c.svelte-173081c{border-left-color:#ff3e00}.stat-icon.svelte-173081c.svelte-173081c{font-size:2rem}.stat-number.svelte-173081c.svelte-173081c{font-size:2rem;font-weight:700;color:#333;line-height:1}.stat-label.svelte-173081c.svelte-173081c{font-size:0.9rem;color:#666;font-weight:500}.controls-section.svelte-173081c.svelte-173081c{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1rem;background:white;border-radius:6px;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1)}.filter-button.svelte-173081c.svelte-173081c{background-color:#6b7280;color:white;border:none;border-radius:6px;padding:0.75rem 1.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.filter-button.svelte-173081c.svelte-173081c:hover{background-color:#4b5563;transform:translateY(-1px)}.filter-button.active.svelte-173081c.svelte-173081c{background-color:#ff3e00}.filter-button.active.svelte-173081c.svelte-173081c:hover{background-color:#e63600}.count-display.svelte-173081c.svelte-173081c{font-weight:500;color:#666}.submissions-container.svelte-173081c.svelte-173081c{background:white;border-radius:6px;box-shadow:0 4px 6px rgba(0, 0, 0, 0.1);overflow:hidden}.table-wrapper.svelte-173081c.svelte-173081c{overflow-x:auto}.desktop-table.svelte-173081c.svelte-173081c{width:100%;border-collapse:collapse}.desktop-table.svelte-173081c th.svelte-173081c{background:#f8fafc;padding:1rem;text-align:left;font-weight:600;color:#333;border-bottom:2px solid #e5e7eb;white-space:nowrap}.desktop-table.svelte-173081c th.sortable.svelte-173081c{cursor:pointer;user-select:none;position:relative;transition:background-color 0.2s}.desktop-table.svelte-173081c th.sortable.svelte-173081c:hover{background:#f1f5f9}.desktop-table.svelte-173081c th.sort-asc.svelte-173081c::after{content:" ▲";font-size:0.75rem;color:#ff3e00}.desktop-table.svelte-173081c th.sort-desc.svelte-173081c::after{content:" ▼";font-size:0.75rem;color:#ff3e00}.desktop-table.svelte-173081c td.svelte-173081c{padding:1rem;border-bottom:1px solid #f1f5f9;vertical-align:middle}.submission-row.svelte-173081c.svelte-173081c{transition:background-color 0.2s}.submission-row.svelte-173081c.svelte-173081c:hover{background-color:#f8fafc}.category-cell.svelte-173081c.svelte-173081c{font-weight:500;color:#333}.points-cell.svelte-173081c.svelte-173081c{font-weight:700;color:#ff3e00}.status-badge.svelte-173081c.svelte-173081c{display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0.75rem;border-radius:12px;font-size:0.8rem;font-weight:600;white-space:nowrap}.status-badge.status-approved.svelte-173081c.svelte-173081c{background:#dcfce7;color:#166534}.status-badge.status-pending.svelte-173081c.svelte-173081c{background:#fef3c7;color:#92400e}.status-badge.status-rejected.svelte-173081c.svelte-173081c{background:#fecaca;color:#991b1b}.rejection-reason.svelte-173081c.svelte-173081c{color:#dc2626;font-style:italic;font-size:0.9rem}.no-reason.svelte-173081c.svelte-173081c{color:#9ca3af}.mobile-cards.svelte-173081c.svelte-173081c{display:none}.mobile-card.svelte-173081c.svelte-173081c{border-bottom:1px solid #f1f5f9;padding:1.5rem}.mobile-card.svelte-173081c.svelte-173081c:last-child{border-bottom:none}.card-header.svelte-173081c.svelte-173081c{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.category-badge.svelte-173081c.svelte-173081c{background:#f3f4f6;color:#374151;padding:0.25rem 0.75rem;border-radius:6px;font-size:0.85rem;font-weight:600}.card-body.svelte-173081c.svelte-173081c{display:flex;flex-direction:column;gap:0.75rem}.card-row.svelte-173081c.svelte-173081c{display:flex;justify-content:space-between;align-items:center}.card-row.svelte-173081c .label.svelte-173081c{font-weight:500;color:#666;min-width:100px}.card-row.svelte-173081c .value.svelte-173081c{font-weight:600;color:#333;text-align:right}.points-value.svelte-173081c.svelte-173081c{color:#ff3e00}.rejection-row.svelte-173081c.svelte-173081c{background:#fef2f2;border:1px solid #fecaca;border-radius:4px;padding:0.75rem;margin-top:0.5rem}.rejection-text.svelte-173081c.svelte-173081c{color:#dc2626;font-style:italic}.empty-state.svelte-173081c.svelte-173081c{background:white;border-radius:6px;padding:3rem 2rem;box-shadow:0 4px 6px rgba(0, 0, 0, 0.1);text-align:center}.empty-icon.svelte-173081c.svelte-173081c{font-size:4rem;margin-bottom:1rem}.empty-state.svelte-173081c h3.svelte-173081c{color:#333;font-size:1.5rem;margin-bottom:1rem;text-transform:none}.empty-state.svelte-173081c p.svelte-173081c{color:#666;margin-bottom:2rem;font-size:1.1rem}.login-button.svelte-173081c.svelte-173081c,.submit-button.svelte-173081c.svelte-173081c,.toggle-button.svelte-173081c.svelte-173081c{background-color:#ff3e00;color:white;text-decoration:none;border:none;border-radius:6px;padding:0.75rem 2rem;font-size:1rem;font-weight:500;cursor:pointer;display:inline-block;transition:all 0.2s ease}.login-button.svelte-173081c.svelte-173081c:hover,.submit-button.svelte-173081c.svelte-173081c:hover,.toggle-button.svelte-173081c.svelte-173081c:hover{background-color:#e63600;transform:translateY(-2px);box-shadow:0 4px 12px rgba(255, 62, 0, 0.3)}@media(max-width: 768px){main.svelte-173081c.svelte-173081c{padding:4.5rem 1rem 1rem}h1.svelte-173081c.svelte-173081c{font-size:2.5rem}.subtitle.svelte-173081c.svelte-173081c{font-size:1rem}.stats-grid.svelte-173081c.svelte-173081c{grid-template-columns:repeat(2, 1fr);gap:0.75rem}.stat-card.svelte-173081c.svelte-173081c{padding:1rem}.stat-icon.svelte-173081c.svelte-173081c{font-size:1.5rem}.stat-number.svelte-173081c.svelte-173081c{font-size:1.5rem}.controls-section.svelte-173081c.svelte-173081c{flex-direction:column;gap:1rem;text-align:center}.table-wrapper.svelte-173081c.svelte-173081c{display:none}.mobile-cards.svelte-173081c.svelte-173081c{display:block}.empty-state.svelte-173081c.svelte-173081c{padding:2rem 1rem}}@media(max-width: 480px){.stats-grid.svelte-173081c.svelte-173081c{grid-template-columns:1fr}.card-row.svelte-173081c.svelte-173081c{flex-direction:column;align-items:flex-start;gap:0.25rem}.card-row.svelte-173081c .value.svelte-173081c{text-align:left}}@media(min-width: 769px){.mobile-cards.svelte-173081c.svelte-173081c{display:none}}',
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n  import { onMount, onDestroy } from \\"svelte\\";\\n  import { page } from \\"$app/stores\\";\\n  import { supabase } from \\"$lib/supabaseClient\\";\\n  import { userProfile } from \\"$lib/stores/userProfile\\";\\n  import {\\n    allSubmissions as storeAll,\\n    message as storeMessage,\\n    loadMySubmissions,\\n    loading,\\n  } from \\"$lib/stores/mySubmissionsStore.js\\";\\n  import { formatDate, formatSubmissionTime } from \\"$lib/utils/dateUtils.js\\";\\n\\n  let submissions = [];\\n  let message = \\"\\";\\n  let showAll = false;\\n  let sortColumn = \\"event_date\\";\\n  let sortDirection = \\"desc\\";\\n  let lastUserId = null;\\n  let currentUserId;\\n  let cleanupFunctions = [];\\n\\n  $: currentUserId = $userProfile?.id;\\n\\n  // Setup tab focus handler - removed problematic reload for tab switching fix\\n  function setupEventHandlers() {\\n    // Previously had auto-reload on tab visibility change, but this caused issues\\n    // with Supabase connection handling during tab switching\\n    return () => {\\n      // No cleanup needed now\\n    };\\n  }\\n\\n  // Load submissions when user changes\\n  $: if (currentUserId && currentUserId !== lastUserId) {\\n    lastUserId = currentUserId;\\n    loadAllSubmissions(true);\\n  }\\n\\n  // Derive filtered/pending submissions\\n  $: {\\n    const list = $storeAll;\\n    if ($storeMessage) {\\n      submissions = list ?? [];\\n      message = $storeMessage;\\n    } else if (!list) {\\n      submissions = [];\\n      message = \\"No submissions found.\\";\\n    } else if (showAll) {\\n      submissions = list;\\n      message = list.length > 0 ? \\"\\" : \\"No submissions found.\\";\\n    } else {\\n      const pending = list.filter(\\n        (sub) => sub.approved === false && sub.rejection_reason === null,\\n      );\\n      submissions = pending;\\n      message = pending.length > 0 ? \\"\\" : \\"No pending submissions found.\\";\\n    }\\n  }\\n\\n  async function loadAllSubmissions(force = false) {\\n    if (!currentUserId) {\\n      message = \\"Please log in to view your submissions.\\";\\n      storeAll.set([]);\\n      return;\\n    }\\n\\n    await loadMySubmissions(currentUserId, sortColumn, sortDirection, force);\\n    message = $storeMessage;\\n  }\\n\\n  function toggleView() {\\n    showAll = !showAll;\\n    console.log(\\"[submissions] toggleView clicked → showAll =\\", showAll);\\n  }\\n\\n  function sortTable(column) {\\n    if (sortColumn === column) {\\n      sortDirection = sortDirection === \\"asc\\" ? \\"desc\\" : \\"asc\\";\\n    } else {\\n      sortColumn = column;\\n      sortDirection = \\"asc\\";\\n    }\\n    console.log(\\n      \`[submissions] sortTable: sortColumn = \${sortColumn}, sortDirection = \${sortDirection}\`,\\n    );\\n    loadAllSubmissions(true);\\n  }\\n\\n  function formatStatus(sub) {\\n    if (sub.approved === true) return { text: \\"Approved\\", icon: \\"✅\\", class: \\"status-approved\\" };\\n    if (sub.rejection_reason) return { text: \\"Rejected\\", icon: \\"❌\\", class: \\"status-rejected\\" };\\n    return { text: \\"Pending\\", icon: \\"⏳\\", class: \\"status-pending\\" };\\n  }\\n\\n // function formatDate(dateString) {\\n //   try {\\n //     return new Date(dateString).toLocaleDateString('en-US', {\\n //       year: 'numeric',\\n //       month: 'short',\\n //       day: 'numeric'\\n //     });\\n //   } catch {\\n //     return 'Invalid Date';\\n //   }\\n // }\\n\\n  function getStatusCounts() {\\n    // Use the full store data, not the filtered submissions\\n    const allSubs = $storeAll || [];\\n    console.log('Stats calculation - allSubs:', allSubs.length, allSubs);\\n    \\n    const approved = allSubs.filter(s => s.approved === true).length;\\n    const rejected = allSubs.filter(s => s.rejection_reason).length;\\n    const pending = allSubs.filter(s => s.approved === false && !s.rejection_reason).length;\\n    const totalPoints = allSubs\\n      .filter(s => s.approved === true)\\n      .reduce((sum, s) => sum + (s.points || 0), 0);\\n    \\n    console.log('Stats result:', { approved, rejected, pending, totalPoints });\\n    return { approved, rejected, pending, totalPoints };\\n  }\\n\\n  // Make stats reactive to the store data - only calculate when we have data\\n  $: stats = $storeAll && $storeAll.length > 0 ? getStatusCounts() : { approved: 0, rejected: 0, pending: 0, totalPoints: 0 };\\n\\n  // Reload when navigating to submissions page\\n  $: if ($page.url.pathname === \\"/my-submissions\\" && currentUserId) {\\n    console.log(\\"[submissions] $page.url.pathname triggered reload\\");\\n    loadAllSubmissions(true);\\n  }\\n\\n  onMount(() => {\\n    console.log(\\"[submissions] onMount → initial loadAllSubmissions\\");\\n    loadAllSubmissions(true);\\n    \\n    // Setup tab focus handling\\n    const cleanup = setupEventHandlers();\\n    cleanupFunctions.push(cleanup);\\n  });\\n\\n  onDestroy(() => {\\n    // Cleanup all event listeners\\n    cleanupFunctions.forEach(cleanup => cleanup());\\n  });\\n<\/script>\\n\\n<main>\\n  <div class=\\"hero-section\\">\\n    <h1>📋 My Submissions</h1>\\n    <p class=\\"subtitle\\">Track your brewing achievements and points</p>\\n  </div>\\n\\n  {#if $loading}\\n    <div class=\\"loading-state\\">\\n      <div class=\\"spinner\\"></div>\\n      <p>Loading your submissions...</p>\\n    </div>\\n  {:else if !currentUserId}\\n    <div class=\\"empty-state\\">\\n      <div class=\\"empty-icon\\">🔒</div>\\n      <h3>Authentication Required</h3>\\n      <p>Please log in to view your submissions.</p>\\n      <a href=\\"/login\\" class=\\"login-button\\">Sign In</a>\\n    </div>\\n  {:else}\\n    <!-- Stats Overview -->\\n    {#if !$loading && $storeAll && $storeAll.length > 0}\\n      <div class=\\"stats-section\\">\\n        <div class=\\"stats-grid\\">\\n          <div class=\\"stat-card approved\\">\\n            <div class=\\"stat-icon\\">✅</div>\\n            <div class=\\"stat-content\\">\\n              <div class=\\"stat-number\\">{stats?.approved || 0}</div>\\n              <div class=\\"stat-label\\">Approved</div>\\n            </div>\\n          </div>\\n          <div class=\\"stat-card pending\\">\\n            <div class=\\"stat-icon\\">⏳</div>\\n            <div class=\\"stat-content\\">\\n              <div class=\\"stat-number\\">{stats?.pending || 0}</div>\\n              <div class=\\"stat-label\\">Pending</div>\\n            </div>\\n          </div>\\n          <div class=\\"stat-card rejected\\">\\n            <div class=\\"stat-icon\\">❌</div>\\n            <div class=\\"stat-content\\">\\n              <div class=\\"stat-number\\">{stats?.rejected || 0}</div>\\n              <div class=\\"stat-label\\">Rejected</div>\\n            </div>\\n          </div>\\n          <div class=\\"stat-card points\\">\\n            <div class=\\"stat-icon\\">🏆</div>\\n            <div class=\\"stat-content\\">\\n              <div class=\\"stat-number\\">{stats?.totalPoints?.toLocaleString() || 0}</div>\\n              <div class=\\"stat-label\\">Total Points</div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    {:else if !$loading && currentUserId}\\n      <!-- Debug info - only show when not loading and user is logged in -->\\n      <div class=\\"debug-info\\" style=\\"background: #f0f0f0; padding: 1rem; margin: 1rem 0; font-family: monospace; text-align: left;\\">\\n        <div>Store All Length: {$storeAll?.length || 0}</div>\\n        <div>Store Message: {$storeMessage || 'none'}</div>\\n        <div>Loading: {$loading}</div>\\n        <div>Current User ID: {currentUserId || 'none'}</div>\\n        <div>Data: {JSON.stringify($storeAll?.slice(0, 2) || [], null, 2)}</div>\\n      </div>\\n    {/if}\\n\\n    <!-- Filter Controls -->\\n    <div class=\\"controls-section\\">\\n      <button on:click={toggleView} class=\\"filter-button {showAll ? 'active' : ''}\\">\\n        {showAll ? \\"📋 Show All\\" : \\"⏳ Pending Only\\"}\\n      </button>\\n      \\n      <div class=\\"view-info\\">\\n        <span class=\\"count-display\\">\\n          {submissions.length} {submissions.length === 1 ? 'submission' : 'submissions'}\\n          {showAll ? 'total' : 'pending'}\\n        </span>\\n      </div>\\n    </div>\\n\\n    {#if submissions.length > 0}\\n      <div class=\\"submissions-container\\">\\n        <!-- Desktop Table -->\\n        <div class=\\"table-wrapper\\">\\n          <table class=\\"desktop-table\\">\\n            <thead>\\n              <tr>\\n                <th\\n                  on:click={() => sortTable(\\"category\\")}\\n                  class=\\"sortable\\"\\n                  class:sort-asc={sortColumn === \\"category\\" && sortDirection === \\"asc\\"}\\n                  class:sort-desc={sortColumn === \\"category\\" && sortDirection === \\"desc\\"}>\\n                  Category\\n                </th>\\n                <th\\n                  on:click={() => sortTable(\\"description\\")}\\n                  class=\\"sortable\\"\\n                  class:sort-asc={sortColumn === \\"description\\" && sortDirection === \\"asc\\"}\\n                  class:sort-desc={sortColumn === \\"description\\" && sortDirection === \\"desc\\"}>\\n                  Description\\n                </th>\\n                <th\\n                  on:click={() => sortTable(\\"points\\")}\\n                  class=\\"sortable\\"\\n                  class:sort-asc={sortColumn === \\"points\\" && sortDirection === \\"asc\\"}\\n                  class:sort-desc={sortColumn === \\"points\\" && sortDirection === \\"desc\\"}>\\n                  Points\\n                </th>\\n                <th\\n                  on:click={() => sortTable(\\"event_date\\")}\\n                  class=\\"sortable\\"\\n                  class:sort-asc={sortColumn === \\"event_date\\" && sortDirection === \\"asc\\"}\\n                  class:sort-desc={sortColumn === \\"event_date\\" && sortDirection === \\"desc\\"}>\\n                  Event Date\\n                </th>\\n                <th>Status</th>\\n                <th>Reason</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              {#each submissions as s}\\n                <tr class=\\"submission-row\\">\\n                  <td class=\\"category-cell\\">{s.category}</td>\\n                  <td class=\\"description-cell\\">{s.description}</td>\\n                  <td class=\\"points-cell\\">{s.points}</td>\\n                  <td class=\\"date-cell\\">{formatDate(s.event_date)}</td>\\n                  <td class=\\"status-cell\\">\\n                    <span class=\\"status-badge {formatStatus(s).class}\\">\\n                      <span class=\\"status-icon\\">{formatStatus(s).icon}</span>\\n                      {formatStatus(s).text}\\n                    </span>\\n                  </td>\\n                  <td class=\\"reason-cell\\">\\n                    {#if s.rejection_reason}\\n                      <span class=\\"rejection-reason\\">{s.rejection_reason}</span>\\n                    {:else}\\n                      <span class=\\"no-reason\\">—</span>\\n                    {/if}\\n                  </td>\\n                </tr>\\n              {/each}\\n            </tbody>\\n          </table>\\n        </div>\\n\\n        <!-- Mobile Cards -->\\n        <div class=\\"mobile-cards\\">\\n          {#each submissions as s}\\n            <div class=\\"mobile-card\\">\\n              <div class=\\"card-header\\">\\n                <div class=\\"category-badge\\">{s.category}</div>\\n                <span class=\\"status-badge {formatStatus(s).class}\\">\\n                  <span class=\\"status-icon\\">{formatStatus(s).icon}</span>\\n                  {formatStatus(s).text}\\n                </span>\\n              </div>\\n              \\n              <div class=\\"card-body\\">\\n                <div class=\\"card-row\\">\\n                  <span class=\\"label\\">Description:</span>\\n                  <span class=\\"value\\">{s.description}</span>\\n                </div>\\n                <div class=\\"card-row\\">\\n                  <span class=\\"label\\">Points:</span>\\n                  <span class=\\"value points-value\\">{s.points}</span>\\n                </div>\\n                <div class=\\"card-row\\">\\n                  <span class=\\"label\\">Event Date:</span>\\n                  <span class=\\"value\\">{formatDate(s.event_date)}</span>\\n                </div>\\n                {#if s.rejection_reason}\\n                  <div class=\\"card-row rejection-row\\">\\n                    <span class=\\"label\\">Reason:</span>\\n                    <span class=\\"value rejection-text\\">{s.rejection_reason}</span>\\n                  </div>\\n                {/if}\\n              </div>\\n            </div>\\n          {/each}\\n        </div>\\n      </div>\\n    {:else}\\n      <div class=\\"empty-state\\">\\n        <div class=\\"empty-icon\\">\\n          {#if showAll}\\n            📋\\n          {:else}\\n            ⏳\\n          {/if}\\n        </div>\\n        <h3>\\n          {#if showAll}\\n            No Submissions Found\\n          {:else}\\n            No Pending Submissions\\n          {/if}\\n        </h3>\\n        <p>{message}</p>\\n        {#if !showAll && $storeAll && $storeAll.length > 0}\\n          <button on:click={toggleView} class=\\"toggle-button\\">\\n            View All Submissions\\n          </button>\\n        {:else}\\n          <a href=\\"/submit\\" class=\\"submit-button\\">Submit Points</a>\\n        {/if}\\n      </div>\\n    {/if}\\n  {/if}\\n</main>\\n\\n<style>\\n  /* Base styles */\\n  main {\\n    margin: 0 auto;\\n    padding: 1rem;\\n    width: 90%;\\n    max-width: 1200px;\\n    text-align: center;\\n  }\\n\\n  .hero-section {\\n    margin-bottom: 3rem;\\n  }\\n\\n  h1 {\\n    color: #ff3e00;\\n    text-transform: uppercase;\\n    font-size: 3.5rem;\\n    font-weight: 100;\\n    margin: 0 0 0.25em;\\n    line-height: 1.1;\\n  }\\n\\n  .subtitle {\\n    font-size: 1.2rem;\\n    color: #333;\\n    font-weight: 500;\\n    margin-bottom: 2rem;\\n  }\\n\\n  .loading-state {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    gap: 1rem;\\n    padding: 3rem;\\n    color: #666;\\n  }\\n\\n  .spinner {\\n    width: 40px;\\n    height: 40px;\\n    border: 4px solid rgba(255, 62, 0, 0.2);\\n    border-top: 4px solid #ff3e00;\\n    border-radius: 50%;\\n    animation: spin 1s linear infinite;\\n  }\\n\\n  @keyframes spin {\\n    0% { transform: rotate(0deg); }\\n    100% { transform: rotate(360deg); }\\n  }\\n\\n  /* Stats Section */\\n  .stats-section {\\n    margin-bottom: 2rem;\\n  }\\n\\n  .stats-grid {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n    gap: 1rem;\\n    max-width: 800px;\\n    margin: 0 auto;\\n  }\\n\\n  .stat-card {\\n    background: white;\\n    border-radius: 6px;\\n    padding: 1.5rem;\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n    display: flex;\\n    align-items: center;\\n    gap: 1rem;\\n    border-left: 4px solid;\\n  }\\n\\n  .stat-card.approved { border-left-color: #059669; }\\n  .stat-card.pending { border-left-color: #d97706; }\\n  .stat-card.rejected { border-left-color: #dc2626; }\\n  .stat-card.points { border-left-color: #ff3e00; }\\n\\n  .stat-icon {\\n    font-size: 2rem;\\n  }\\n\\n  .stat-number {\\n    font-size: 2rem;\\n    font-weight: 700;\\n    color: #333;\\n    line-height: 1;\\n  }\\n\\n  .stat-label {\\n    font-size: 0.9rem;\\n    color: #666;\\n    font-weight: 500;\\n  }\\n\\n  /* Controls Section */\\n  .controls-section {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-bottom: 2rem;\\n    padding: 1rem;\\n    background: white;\\n    border-radius: 6px;\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  }\\n\\n  .filter-button {\\n    background-color: #6b7280;\\n    color: white;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 0.75rem 1.5rem;\\n    font-size: 1rem;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s ease;\\n  }\\n\\n  .filter-button:hover {\\n    background-color: #4b5563;\\n    transform: translateY(-1px);\\n  }\\n\\n  .filter-button.active {\\n    background-color: #ff3e00;\\n  }\\n\\n  .filter-button.active:hover {\\n    background-color: #e63600;\\n  }\\n\\n  .count-display {\\n    font-weight: 500;\\n    color: #666;\\n  }\\n\\n  /* Table Styles */\\n  .submissions-container {\\n    background: white;\\n    border-radius: 6px;\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n    overflow: hidden;\\n  }\\n\\n  .table-wrapper {\\n    overflow-x: auto;\\n  }\\n\\n  .desktop-table {\\n    width: 100%;\\n    border-collapse: collapse;\\n  }\\n\\n  .desktop-table th {\\n    background: #f8fafc;\\n    padding: 1rem;\\n    text-align: left;\\n    font-weight: 600;\\n    color: #333;\\n    border-bottom: 2px solid #e5e7eb;\\n    white-space: nowrap;\\n  }\\n\\n  .desktop-table th.sortable {\\n    cursor: pointer;\\n    user-select: none;\\n    position: relative;\\n    transition: background-color 0.2s;\\n  }\\n\\n  .desktop-table th.sortable:hover {\\n    background: #f1f5f9;\\n  }\\n\\n  .desktop-table th.sort-asc::after {\\n    content: \\" ▲\\";\\n    font-size: 0.75rem;\\n    color: #ff3e00;\\n  }\\n\\n  .desktop-table th.sort-desc::after {\\n    content: \\" ▼\\";\\n    font-size: 0.75rem;\\n    color: #ff3e00;\\n  }\\n\\n  .desktop-table td {\\n    padding: 1rem;\\n    border-bottom: 1px solid #f1f5f9;\\n    vertical-align: middle;\\n  }\\n\\n  .submission-row {\\n    transition: background-color 0.2s;\\n  }\\n\\n  .submission-row:hover {\\n    background-color: #f8fafc;\\n  }\\n\\n  .category-cell {\\n    font-weight: 500;\\n    color: #333;\\n  }\\n\\n  .points-cell {\\n    font-weight: 700;\\n    color: #ff3e00;\\n  }\\n\\n  .status-badge {\\n    display: inline-flex;\\n    align-items: center;\\n    gap: 0.25rem;\\n    padding: 0.25rem 0.75rem;\\n    border-radius: 12px;\\n    font-size: 0.8rem;\\n    font-weight: 600;\\n    white-space: nowrap;\\n  }\\n\\n  .status-badge.status-approved {\\n    background: #dcfce7;\\n    color: #166534;\\n  }\\n\\n  .status-badge.status-pending {\\n    background: #fef3c7;\\n    color: #92400e;\\n  }\\n\\n  .status-badge.status-rejected {\\n    background: #fecaca;\\n    color: #991b1b;\\n  }\\n\\n  .rejection-reason {\\n    color: #dc2626;\\n    font-style: italic;\\n    font-size: 0.9rem;\\n  }\\n\\n  .no-reason {\\n    color: #9ca3af;\\n  }\\n\\n  /* Mobile Cards */\\n  .mobile-cards {\\n    display: none;\\n  }\\n\\n  .mobile-card {\\n    border-bottom: 1px solid #f1f5f9;\\n    padding: 1.5rem;\\n  }\\n\\n  .mobile-card:last-child {\\n    border-bottom: none;\\n  }\\n\\n  .card-header {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .category-badge {\\n    background: #f3f4f6;\\n    color: #374151;\\n    padding: 0.25rem 0.75rem;\\n    border-radius: 6px;\\n    font-size: 0.85rem;\\n    font-weight: 600;\\n  }\\n\\n  .card-body {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 0.75rem;\\n  }\\n\\n  .card-row {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n\\n  .card-row .label {\\n    font-weight: 500;\\n    color: #666;\\n    min-width: 100px;\\n  }\\n\\n  .card-row .value {\\n    font-weight: 600;\\n    color: #333;\\n    text-align: right;\\n  }\\n\\n  .points-value {\\n    color: #ff3e00;\\n  }\\n\\n  .rejection-row {\\n    background: #fef2f2;\\n    border: 1px solid #fecaca;\\n    border-radius: 4px;\\n    padding: 0.75rem;\\n    margin-top: 0.5rem;\\n  }\\n\\n  .rejection-text {\\n    color: #dc2626;\\n    font-style: italic;\\n  }\\n\\n  /* Empty State */\\n  .empty-state {\\n    background: white;\\n    border-radius: 6px;\\n    padding: 3rem 2rem;\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n    text-align: center;\\n  }\\n\\n  .empty-icon {\\n    font-size: 4rem;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .empty-state h3 {\\n    color: #333;\\n    font-size: 1.5rem;\\n    margin-bottom: 1rem;\\n    text-transform: none;\\n  }\\n\\n  .empty-state p {\\n    color: #666;\\n    margin-bottom: 2rem;\\n    font-size: 1.1rem;\\n  }\\n\\n  .login-button,\\n  .submit-button,\\n  .toggle-button {\\n    background-color: #ff3e00;\\n    color: white;\\n    text-decoration: none;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 0.75rem 2rem;\\n    font-size: 1rem;\\n    font-weight: 500;\\n    cursor: pointer;\\n    display: inline-block;\\n    transition: all 0.2s ease;\\n  }\\n\\n  .login-button:hover,\\n  .submit-button:hover,\\n  .toggle-button:hover {\\n    background-color: #e63600;\\n    transform: translateY(-2px);\\n    box-shadow: 0 4px 12px rgba(255, 62, 0, 0.3);\\n  }\\n\\n  /* Mobile Responsive */\\n  @media (max-width: 768px) {\\n    main {\\n      padding: 4.5rem 1rem 1rem;\\n    }\\n\\n    h1 {\\n      font-size: 2.5rem;\\n    }\\n\\n    .subtitle {\\n      font-size: 1rem;\\n    }\\n\\n    .stats-grid {\\n      grid-template-columns: repeat(2, 1fr);\\n      gap: 0.75rem;\\n    }\\n\\n    .stat-card {\\n      padding: 1rem;\\n    }\\n\\n    .stat-icon {\\n      font-size: 1.5rem;\\n    }\\n\\n    .stat-number {\\n      font-size: 1.5rem;\\n    }\\n\\n    .controls-section {\\n      flex-direction: column;\\n      gap: 1rem;\\n      text-align: center;\\n    }\\n\\n    .table-wrapper {\\n      display: none;\\n    }\\n\\n    .mobile-cards {\\n      display: block;\\n    }\\n\\n    .empty-state {\\n      padding: 2rem 1rem;\\n    }\\n  }\\n\\n  @media (max-width: 480px) {\\n    .stats-grid {\\n      grid-template-columns: 1fr;\\n    }\\n\\n    .card-row {\\n      flex-direction: column;\\n      align-items: flex-start;\\n      gap: 0.25rem;\\n    }\\n\\n    .card-row .value {\\n      text-align: left;\\n    }\\n  }\\n\\n  @media (min-width: 769px) {\\n    .mobile-cards {\\n      display: none;\\n    }\\n  }\\n</style>"],"names":[],"mappings":"AAqWE,kCAAK,CACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,GAAG,CACV,SAAS,CAAE,MAAM,CACjB,UAAU,CAAE,MACd,CAEA,2CAAc,CACZ,aAAa,CAAE,IACjB,CAEA,gCAAG,CACD,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAClB,WAAW,CAAE,GACf,CAEA,uCAAU,CACR,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,IAAI,CACX,WAAW,CAAE,GAAG,CAChB,aAAa,CAAE,IACjB,CAEA,4CAAe,CACb,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IAAI,CACT,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,IACT,CAEA,sCAAS,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACvC,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAC7B,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,mBAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAC5B,CAEA,WAAW,mBAAK,CACd,EAAG,CAAE,SAAS,CAAE,OAAO,IAAI,CAAG,CAC9B,IAAK,CAAE,SAAS,CAAE,OAAO,MAAM,CAAG,CACpC,CAGA,4CAAe,CACb,aAAa,CAAE,IACjB,CAEA,yCAAY,CACV,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,OAAO,QAAQ,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAC3D,GAAG,CAAE,IAAI,CACT,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IACZ,CAEA,wCAAW,CACT,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,MAAM,CACf,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACxC,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IAAI,CACT,WAAW,CAAE,GAAG,CAAC,KACnB,CAEA,UAAU,uCAAU,CAAE,iBAAiB,CAAE,OAAS,CAClD,UAAU,sCAAS,CAAE,iBAAiB,CAAE,OAAS,CACjD,UAAU,uCAAU,CAAE,iBAAiB,CAAE,OAAS,CAClD,UAAU,qCAAQ,CAAE,iBAAiB,CAAE,OAAS,CAEhD,wCAAW,CACT,SAAS,CAAE,IACb,CAEA,0CAAa,CACX,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,CACX,WAAW,CAAE,CACf,CAEA,yCAAY,CACV,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,IAAI,CACX,WAAW,CAAE,GACf,CAGA,+CAAkB,CAChB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,aAAa,CAAE,IAAI,CACnB,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CACzC,CAEA,4CAAe,CACb,gBAAgB,CAAE,OAAO,CACzB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,OAAO,CAAC,MAAM,CACvB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IACvB,CAEA,4CAAc,MAAO,CACnB,gBAAgB,CAAE,OAAO,CACzB,SAAS,CAAE,WAAW,IAAI,CAC5B,CAEA,cAAc,qCAAQ,CACpB,gBAAgB,CAAE,OACpB,CAEA,cAAc,qCAAO,MAAO,CAC1B,gBAAgB,CAAE,OACpB,CAEA,4CAAe,CACb,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IACT,CAGA,oDAAuB,CACrB,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACxC,QAAQ,CAAE,MACZ,CAEA,4CAAe,CACb,UAAU,CAAE,IACd,CAEA,4CAAe,CACb,KAAK,CAAE,IAAI,CACX,eAAe,CAAE,QACnB,CAEA,6BAAc,CAAC,iBAAG,CAChB,UAAU,CAAE,OAAO,CACnB,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,IAAI,CAChB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,WAAW,CAAE,MACf,CAEA,6BAAc,CAAC,EAAE,wBAAU,CACzB,MAAM,CAAE,OAAO,CACf,WAAW,CAAE,IAAI,CACjB,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,gBAAgB,CAAC,IAC/B,CAEA,6BAAc,CAAC,EAAE,wBAAS,MAAO,CAC/B,UAAU,CAAE,OACd,CAEA,6BAAc,CAAC,EAAE,wBAAS,OAAQ,CAChC,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,OAAO,CAClB,KAAK,CAAE,OACT,CAEA,6BAAc,CAAC,EAAE,yBAAU,OAAQ,CACjC,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,OAAO,CAClB,KAAK,CAAE,OACT,CAEA,6BAAc,CAAC,iBAAG,CAChB,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,cAAc,CAAE,MAClB,CAEA,6CAAgB,CACd,UAAU,CAAE,gBAAgB,CAAC,IAC/B,CAEA,6CAAe,MAAO,CACpB,gBAAgB,CAAE,OACpB,CAEA,4CAAe,CACb,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IACT,CAEA,0CAAa,CACX,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,OACT,CAEA,2CAAc,CACZ,OAAO,CAAE,WAAW,CACpB,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,OAAO,CACZ,OAAO,CAAE,OAAO,CAAC,OAAO,CACxB,aAAa,CAAE,IAAI,CACnB,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GAAG,CAChB,WAAW,CAAE,MACf,CAEA,aAAa,8CAAiB,CAC5B,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT,CAEA,aAAa,6CAAgB,CAC3B,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT,CAEA,aAAa,8CAAiB,CAC5B,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT,CAEA,+CAAkB,CAChB,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,MAAM,CAClB,SAAS,CAAE,MACb,CAEA,wCAAW,CACT,KAAK,CAAE,OACT,CAGA,2CAAc,CACZ,OAAO,CAAE,IACX,CAEA,0CAAa,CACX,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,OAAO,CAAE,MACX,CAEA,0CAAY,WAAY,CACtB,aAAa,CAAE,IACjB,CAEA,0CAAa,CACX,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,aAAa,CAAE,IACjB,CAEA,6CAAgB,CACd,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,OAAO,CAAC,OAAO,CACxB,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,GACf,CAEA,wCAAW,CACT,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,OACP,CAEA,uCAAU,CACR,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MACf,CAEA,wBAAS,CAAC,qBAAO,CACf,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KACb,CAEA,wBAAS,CAAC,qBAAO,CACf,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,KACd,CAEA,2CAAc,CACZ,KAAK,CAAE,OACT,CAEA,4CAAe,CACb,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,OAAO,CAChB,UAAU,CAAE,MACd,CAEA,6CAAgB,CACd,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,MACd,CAGA,0CAAa,CACX,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACxC,UAAU,CAAE,MACd,CAEA,yCAAY,CACV,SAAS,CAAE,IAAI,CACf,aAAa,CAAE,IACjB,CAEA,2BAAY,CAAC,iBAAG,CACd,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,MAAM,CACjB,aAAa,CAAE,IAAI,CACnB,cAAc,CAAE,IAClB,CAEA,2BAAY,CAAC,gBAAE,CACb,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,IAAI,CACnB,SAAS,CAAE,MACb,CAEA,2CAAa,CACb,4CAAc,CACd,4CAAe,CACb,gBAAgB,CAAE,OAAO,CACzB,KAAK,CAAE,KAAK,CACZ,eAAe,CAAE,IAAI,CACrB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,OAAO,CAAC,IAAI,CACrB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,OAAO,CACf,OAAO,CAAE,YAAY,CACrB,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IACvB,CAEA,2CAAa,MAAM,CACnB,4CAAc,MAAM,CACpB,4CAAc,MAAO,CACnB,gBAAgB,CAAE,OAAO,CACzB,SAAS,CAAE,WAAW,IAAI,CAAC,CAC3B,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAC7C,CAGA,MAAO,YAAY,KAAK,CAAE,CACxB,kCAAK,CACH,OAAO,CAAE,MAAM,CAAC,IAAI,CAAC,IACvB,CAEA,gCAAG,CACD,SAAS,CAAE,MACb,CAEA,uCAAU,CACR,SAAS,CAAE,IACb,CAEA,yCAAY,CACV,qBAAqB,CAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CACrC,GAAG,CAAE,OACP,CAEA,wCAAW,CACT,OAAO,CAAE,IACX,CAEA,wCAAW,CACT,SAAS,CAAE,MACb,CAEA,0CAAa,CACX,SAAS,CAAE,MACb,CAEA,+CAAkB,CAChB,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,IAAI,CACT,UAAU,CAAE,MACd,CAEA,4CAAe,CACb,OAAO,CAAE,IACX,CAEA,2CAAc,CACZ,OAAO,CAAE,KACX,CAEA,0CAAa,CACX,OAAO,CAAE,IAAI,CAAC,IAChB,CACF,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,yCAAY,CACV,qBAAqB,CAAE,GACzB,CAEA,uCAAU,CACR,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,UAAU,CACvB,GAAG,CAAE,OACP,CAEA,wBAAS,CAAC,qBAAO,CACf,UAAU,CAAE,IACd,CACF,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,2CAAc,CACZ,OAAO,CAAE,IACX,CACF"}`
};
function formatStatus(sub) {
  if (sub.approved === true) return {
    text: "Approved",
    icon: "✅",
    class: "status-approved"
  };
  if (sub.rejection_reason) return {
    text: "Rejected",
    icon: "❌",
    class: "status-rejected"
  };
  return {
    text: "Pending",
    icon: "⏳",
    class: "status-pending"
  };
}
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let stats;
  let $page, $$unsubscribe_page;
  let $storeAll, $$unsubscribe_storeAll;
  let $storeMessage, $$unsubscribe_storeMessage;
  let $userProfile, $$unsubscribe_userProfile;
  let $loading, $$unsubscribe_loading;
  $$unsubscribe_page = subscribe(page, (value) => $page = value);
  $$unsubscribe_storeAll = subscribe(allSubmissions, (value) => $storeAll = value);
  $$unsubscribe_storeMessage = subscribe(message, (value) => $storeMessage = value);
  $$unsubscribe_userProfile = subscribe(userProfile, (value) => $userProfile = value);
  $$unsubscribe_loading = subscribe(loading, (value) => $loading = value);
  let submissions = [];
  let message$1 = "";
  let sortColumn = "event_date";
  let sortDirection = "desc";
  let lastUserId = null;
  let currentUserId;
  let cleanupFunctions = [];
  async function loadAllSubmissions(force = false) {
    if (!currentUserId) {
      message$1 = "Please log in to view your submissions.";
      allSubmissions.set([]);
      return;
    }
    await loadMySubmissions(currentUserId, sortColumn, sortDirection, force);
    message$1 = $storeMessage;
  }
  function getStatusCounts() {
    const allSubs = $storeAll || [];
    console.log("Stats calculation - allSubs:", allSubs.length, allSubs);
    const approved = allSubs.filter((s) => s.approved === true).length;
    const rejected = allSubs.filter((s) => s.rejection_reason).length;
    const pending = allSubs.filter((s) => s.approved === false && !s.rejection_reason).length;
    const totalPoints = allSubs.filter((s) => s.approved === true).reduce((sum, s) => sum + (s.points || 0), 0);
    console.log("Stats result:", { approved, rejected, pending, totalPoints });
    return { approved, rejected, pending, totalPoints };
  }
  onDestroy(() => {
    cleanupFunctions.forEach((cleanup) => cleanup());
  });
  $$result.css.add(css);
  currentUserId = $userProfile?.id;
  {
    if (currentUserId && currentUserId !== lastUserId) {
      lastUserId = currentUserId;
      loadAllSubmissions(true);
    }
  }
  {
    {
      const list = $storeAll;
      if ($storeMessage) {
        submissions = list ?? [];
        message$1 = $storeMessage;
      } else if (!list) {
        submissions = [];
        message$1 = "No submissions found.";
      } else {
        const pending = list.filter((sub) => sub.approved === false && sub.rejection_reason === null);
        submissions = pending;
        message$1 = pending.length > 0 ? "" : "No pending submissions found.";
      }
    }
  }
  stats = $storeAll && $storeAll.length > 0 ? getStatusCounts() : {
    approved: 0,
    rejected: 0,
    pending: 0,
    totalPoints: 0
  };
  {
    if ($page.url.pathname === "/my-submissions" && currentUserId) {
      console.log("[submissions] $page.url.pathname triggered reload");
      loadAllSubmissions(true);
    }
  }
  $$unsubscribe_page();
  $$unsubscribe_storeAll();
  $$unsubscribe_storeMessage();
  $$unsubscribe_userProfile();
  $$unsubscribe_loading();
  return `<main class="svelte-173081c"><div class="hero-section svelte-173081c" data-svelte-h="svelte-qzt9mt"><h1 class="svelte-173081c">📋 My Submissions</h1> <p class="subtitle svelte-173081c">Track your brewing achievements and points</p></div> ${$loading ? `<div class="loading-state svelte-173081c" data-svelte-h="svelte-vt137z"><div class="spinner svelte-173081c"></div> <p>Loading your submissions...</p></div>` : `${!currentUserId ? `<div class="empty-state svelte-173081c" data-svelte-h="svelte-ik9eoc"><div class="empty-icon svelte-173081c">🔒</div> <h3 class="svelte-173081c">Authentication Required</h3> <p class="svelte-173081c">Please log in to view your submissions.</p> <a href="/login" class="login-button svelte-173081c">Sign In</a></div>` : ` ${!$loading && $storeAll && $storeAll.length > 0 ? `<div class="stats-section svelte-173081c"><div class="stats-grid svelte-173081c"><div class="stat-card approved svelte-173081c"><div class="stat-icon svelte-173081c" data-svelte-h="svelte-1vwwmbk">✅</div> <div class="stat-content"><div class="stat-number svelte-173081c">${escape(stats?.approved || 0)}</div> <div class="stat-label svelte-173081c" data-svelte-h="svelte-1fy62d5">Approved</div></div></div> <div class="stat-card pending svelte-173081c"><div class="stat-icon svelte-173081c" data-svelte-h="svelte-jdd5wu">⏳</div> <div class="stat-content"><div class="stat-number svelte-173081c">${escape(stats?.pending || 0)}</div> <div class="stat-label svelte-173081c" data-svelte-h="svelte-1o4fkd1">Pending</div></div></div> <div class="stat-card rejected svelte-173081c"><div class="stat-icon svelte-173081c" data-svelte-h="svelte-z5l57j">❌</div> <div class="stat-content"><div class="stat-number svelte-173081c">${escape(stats?.rejected || 0)}</div> <div class="stat-label svelte-173081c" data-svelte-h="svelte-1eic7q8">Rejected</div></div></div> <div class="stat-card points svelte-173081c"><div class="stat-icon svelte-173081c" data-svelte-h="svelte-cwrisn">🏆</div> <div class="stat-content"><div class="stat-number svelte-173081c">${escape(stats?.totalPoints?.toLocaleString() || 0)}</div> <div class="stat-label svelte-173081c" data-svelte-h="svelte-tth6u3">Total Points</div></div></div></div></div>` : `${!$loading && currentUserId ? ` <div class="debug-info" style="background: #f0f0f0; padding: 1rem; margin: 1rem 0; font-family: monospace; text-align: left;"><div>Store All Length: ${escape($storeAll?.length || 0)}</div> <div>Store Message: ${escape($storeMessage || "none")}</div> <div>Loading: ${escape($loading)}</div> <div>Current User ID: ${escape(currentUserId || "none")}</div> <div>Data: ${escape(JSON.stringify($storeAll?.slice(0, 2) || [], null, 2))}</div></div>` : ``}`}  <div class="controls-section svelte-173081c"><button class="${"filter-button " + escape("", true) + " svelte-173081c"}">${escape("⏳ Pending Only")}</button> <div class="view-info"><span class="count-display svelte-173081c">${escape(submissions.length)} ${escape(submissions.length === 1 ? "submission" : "submissions")} ${escape("pending")}</span></div></div> ${submissions.length > 0 ? `<div class="submissions-container svelte-173081c"> <div class="table-wrapper svelte-173081c"><table class="desktop-table svelte-173081c"><thead><tr><th class="${[
    "sortable svelte-173081c",
    " "
  ].join(" ").trim()}" data-svelte-h="svelte-1xkofps">Category</th> <th class="${[
    "sortable svelte-173081c",
    " "
  ].join(" ").trim()}" data-svelte-h="svelte-103rnjg">Description</th> <th class="${[
    "sortable svelte-173081c",
    " "
  ].join(" ").trim()}" data-svelte-h="svelte-1f5az52">Points</th> <th class="${[
    "sortable svelte-173081c",
    " sort-desc"
  ].join(" ").trim()}" data-svelte-h="svelte-1uq2j65">Event Date</th> <th class="svelte-173081c" data-svelte-h="svelte-bi34jg">Status</th> <th class="svelte-173081c" data-svelte-h="svelte-whh8g2">Reason</th></tr></thead> <tbody>${each(submissions, (s) => {
    return `<tr class="submission-row svelte-173081c"><td class="category-cell svelte-173081c">${escape(s.category)}</td> <td class="description-cell svelte-173081c">${escape(s.description)}</td> <td class="points-cell svelte-173081c">${escape(s.points)}</td> <td class="date-cell svelte-173081c">${escape(formatDate(s.event_date))}</td> <td class="status-cell svelte-173081c"><span class="${"status-badge " + escape(formatStatus(s).class, true) + " svelte-173081c"}"><span class="status-icon">${escape(formatStatus(s).icon)}</span> ${escape(formatStatus(s).text)} </span></td> <td class="reason-cell svelte-173081c">${s.rejection_reason ? `<span class="rejection-reason svelte-173081c">${escape(s.rejection_reason)}</span>` : `<span class="no-reason svelte-173081c" data-svelte-h="svelte-55qnxv">—</span>`}</td> </tr>`;
  })}</tbody></table></div>  <div class="mobile-cards svelte-173081c">${each(submissions, (s) => {
    return `<div class="mobile-card svelte-173081c"><div class="card-header svelte-173081c"><div class="category-badge svelte-173081c">${escape(s.category)}</div> <span class="${"status-badge " + escape(formatStatus(s).class, true) + " svelte-173081c"}"><span class="status-icon">${escape(formatStatus(s).icon)}</span> ${escape(formatStatus(s).text)} </span></div> <div class="card-body svelte-173081c"><div class="card-row svelte-173081c"><span class="label svelte-173081c" data-svelte-h="svelte-18hxrur">Description:</span> <span class="value svelte-173081c">${escape(s.description)}</span></div> <div class="card-row svelte-173081c"><span class="label svelte-173081c" data-svelte-h="svelte-11v1tm">Points:</span> <span class="value points-value svelte-173081c">${escape(s.points)}</span></div> <div class="card-row svelte-173081c"><span class="label svelte-173081c" data-svelte-h="svelte-1c8g29x">Event Date:</span> <span class="value svelte-173081c">${escape(formatDate(s.event_date))}</span></div> ${s.rejection_reason ? `<div class="card-row rejection-row svelte-173081c"><span class="label svelte-173081c" data-svelte-h="svelte-1ynsys5">Reason:</span> <span class="value rejection-text svelte-173081c">${escape(s.rejection_reason)}</span> </div>` : ``}</div> </div>`;
  })}</div></div>` : `<div class="empty-state svelte-173081c"><div class="empty-icon svelte-173081c">${`⏳`}</div> <h3 class="svelte-173081c">${`No Pending Submissions`}</h3> <p class="svelte-173081c">${escape(message$1)}</p> ${$storeAll && $storeAll.length > 0 ? `<button class="toggle-button svelte-173081c" data-svelte-h="svelte-12i0hvs">View All Submissions</button>` : `<a href="/submit" class="submit-button svelte-173081c" data-svelte-h="svelte-1h3e8sw">Submit Points</a>`}</div>`}`}`} </main>`;
});

export { Page as default };
//# sourceMappingURL=_page.svelte-05FFe_15.js.map
