{"version":3,"file":"categoryStore-VMqni9tI.js","sources":["../../../.svelte-kit/adapter-node/chunks/categoryStore.js"],"sourcesContent":["import { w as writable } from \"./index.js\";\nimport { s as supabase } from \"./supabaseClient.js\";\nconst categories = writable([]);\nconst placementOptions = writable([]);\nconst monthlyEvents = writable([]);\nconst floridaCircuitEvents = writable([]);\nconst isLoaded = writable(false);\nconst isLoading = writable(false);\nconst clubEventTypes = writable([]);\nlet lastFetched = 0;\nconst CACHE_MS = 1e4;\nasync function loadCategoryData(force = false) {\n  const now = Date.now();\n  if (!force && now - lastFetched < CACHE_MS) return;\n  isLoading.set(true);\n  try {\n    const [catRes, placementRes, monthlyRes, floridaRes] = await Promise.all([\n      supabase.from(\"categories\").select(\"*\").eq(\"active\", true),\n      supabase.from(\"point_categories\").select(\"*\").eq(\"active\", true),\n      supabase.from(\"monthly_challenge\").select(\"*\").eq(\"active\", true),\n      supabase.from(\"florida_circuit_events\").select(\"*\").eq(\"active\", true)\n    ]);\n    const { data: clubEventTypesData, error: clubEventTypesError } = await supabase.from(\"club_events_types\").select(\"*\").eq(\"active\", true).order(\"event_type\");\n    if (catRes.error || placementRes.error || monthlyRes.error || floridaRes.error) {\n      console.error(\"Supabase query failed:\", { catRes, placementRes, monthlyRes, floridaRes });\n      throw catRes.error || placementRes.error || monthlyRes.error || floridaRes.error;\n    }\n    if (clubEventTypesError) {\n      console.error(\"Error loading club event types:\", clubEventTypesError);\n    } else {\n      clubEventTypes.set(clubEventTypesData || []);\n    }\n    categories.set(catRes.data);\n    placementOptions.set(placementRes.data);\n    monthlyEvents.set(monthlyRes.data);\n    floridaCircuitEvents.set(floridaRes.data);\n    lastFetched = now;\n    isLoaded.set(true);\n  } catch (err) {\n    console.error(\"❌ Failed to load category data:\", err);\n    isLoaded.set(false);\n  } finally {\n    isLoading.set(false);\n  }\n}\nexport {\n  isLoaded as a,\n  clubEventTypes as b,\n  categories as c,\n  floridaCircuitEvents as f,\n  isLoading as i,\n  loadCategoryData as l,\n  monthlyEvents as m,\n  placementOptions as p\n};\n"],"names":[],"mappings":"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"}