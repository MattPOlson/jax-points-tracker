{"version":3,"file":"_page.svelte-oK_kDdnI.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/competitions/submit-entry/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, h as subscribe, e as escape, i as each, g as add_attribute } from \"../../../../chunks/ssr.js\";\nimport \"../../../../chunks/client.js\";\nimport { u as userProfile } from \"../../../../chunks/userProfile.js\";\nimport { e as error, i as isLoading, b as isLoaded, m as mainCategories, a as activeCompetitions, d as competitions, h as bjcpCategories, c as categoriesByNumber, f as formatDeadline } from \"../../../../chunks/bjcpCategoryStore.js\";\nimport \"../../../../chunks/supabaseClient.js\";\nconst css = {\n  code: \".container.svelte-xk3fkh.svelte-xk3fkh{max-width:800px;margin:0 auto;padding:1rem}.hero.svelte-xk3fkh.svelte-xk3fkh{text-align:center;margin-bottom:2rem;padding:2rem 1rem}.hero.svelte-xk3fkh h1.svelte-xk3fkh{color:#ff3e00;font-size:2.5rem;font-weight:100;text-transform:uppercase;margin:0 0 0.5rem 0;letter-spacing:2px}.hero.svelte-xk3fkh p.svelte-xk3fkh{font-size:1.1rem;color:#666;margin:0}.loading-container.svelte-xk3fkh.svelte-xk3fkh,.error-container.svelte-xk3fkh.svelte-xk3fkh,.empty-state.svelte-xk3fkh.svelte-xk3fkh{text-align:center;padding:3rem 2rem;background:white;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,0.1);border-left:4px solid #ff3e00}.loading-spinner.svelte-xk3fkh.svelte-xk3fkh{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #ff3e00;border-radius:50%;animation:svelte-xk3fkh-spin 1s linear infinite;margin:0 auto 1rem auto}@keyframes svelte-xk3fkh-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.retry-button.svelte-xk3fkh.svelte-xk3fkh,.nav-button.svelte-xk3fkh.svelte-xk3fkh{background:#ff3e00;color:white;border:none;padding:0.75rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background 0.2s}.retry-button.svelte-xk3fkh.svelte-xk3fkh:hover,.nav-button.svelte-xk3fkh.svelte-xk3fkh:hover{background:#e63600}.form-container.svelte-xk3fkh.svelte-xk3fkh{background:white;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,0.1);border-left:4px solid #ff3e00;padding:2rem}.success-message.svelte-xk3fkh.svelte-xk3fkh{background:#f0f9ff;border:1px solid #059669;border-radius:6px;padding:1.5rem;margin-bottom:2rem;text-align:center}.success-message.svelte-xk3fkh h2.svelte-xk3fkh{color:#059669;margin:0 0 0.5rem 0;font-size:1.5rem}.entry-form.svelte-xk3fkh.svelte-xk3fkh{max-width:100%}.form-group.svelte-xk3fkh.svelte-xk3fkh{margin-bottom:1.5rem}.form-group.svelte-xk3fkh label.svelte-xk3fkh{display:block;font-weight:600;margin-bottom:0.5rem;color:#333}.form-group.svelte-xk3fkh input.svelte-xk3fkh,.form-group.svelte-xk3fkh select.svelte-xk3fkh,.form-group.svelte-xk3fkh textarea.svelte-xk3fkh{width:100%;padding:0.75rem;border:2px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color 0.2s;box-sizing:border-box}.form-group.svelte-xk3fkh input.svelte-xk3fkh:focus,.form-group.svelte-xk3fkh select.svelte-xk3fkh:focus,.form-group.svelte-xk3fkh textarea.svelte-xk3fkh:focus{outline:none;border-color:#ff3e00}.form-group.svelte-xk3fkh input.svelte-xk3fkh:disabled,.form-group.svelte-xk3fkh select.svelte-xk3fkh:disabled,.form-group.svelte-xk3fkh textarea.svelte-xk3fkh:disabled{background:#f5f5f5;cursor:not-allowed}.competition-info.svelte-xk3fkh.svelte-xk3fkh{background:#f8f9fa;border:1px solid #dee2e6;border-radius:6px;padding:1rem;margin-top:0.5rem}.competition-info.svelte-xk3fkh p.svelte-xk3fkh{margin:0.25rem 0;font-size:0.9rem}.custom-categories-notice.svelte-xk3fkh.svelte-xk3fkh{background:#e0f7fa;border:1px solid #4dd0e1;border-radius:6px;padding:0.75rem;margin-top:0.5rem}.custom-categories-notice.svelte-xk3fkh p.svelte-xk3fkh{margin:0;color:#006064;font-weight:500}.category-description.svelte-xk3fkh.svelte-xk3fkh{background:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;padding:0.75rem;margin-top:0.5rem;font-size:0.9rem;font-style:italic}.character-count.svelte-xk3fkh.svelte-xk3fkh{text-align:right;font-size:0.8rem;color:#666;margin-top:0.25rem}.brewer-info.svelte-xk3fkh.svelte-xk3fkh{background:#f8f9fa;border:2px solid #ddd;border-radius:6px;padding:0.75rem;display:flex;justify-content:space-between;align-items:center}.brewer-name.svelte-xk3fkh.svelte-xk3fkh{font-weight:600}.auto-filled.svelte-xk3fkh.svelte-xk3fkh{font-size:0.8rem;color:#666;font-style:italic}.error-message.svelte-xk3fkh.svelte-xk3fkh{background:#fee;border:1px solid #dc2626;border-radius:6px;padding:1rem;margin-bottom:1rem}.error-message.svelte-xk3fkh p.svelte-xk3fkh{margin:0;color:#dc2626}.form-actions.svelte-xk3fkh.svelte-xk3fkh{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem}.reset-button.svelte-xk3fkh.svelte-xk3fkh{background:#6b7280;color:white;border:none;padding:0.75rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem;transition:background 0.2s}.reset-button.svelte-xk3fkh.svelte-xk3fkh:hover:not(:disabled){background:#4b5563}.submit-button.svelte-xk3fkh.svelte-xk3fkh{background:#ff3e00;color:white;border:none;padding:0.75rem 2rem;border-radius:6px;cursor:pointer;font-size:1rem;font-weight:600;transition:background 0.2s}.submit-button.svelte-xk3fkh.svelte-xk3fkh:hover:not(:disabled){background:#e63600}.submit-button.svelte-xk3fkh.svelte-xk3fkh:disabled,.reset-button.svelte-xk3fkh.svelte-xk3fkh:disabled{background:#d1d5db;cursor:not-allowed}.form-help.svelte-xk3fkh.svelte-xk3fkh{margin-top:2rem;padding-top:2rem;border-top:1px solid #dee2e6}.form-help.svelte-xk3fkh h3.svelte-xk3fkh{color:#ff3e00;font-size:1.1rem;margin:0 0 1rem 0}.form-help.svelte-xk3fkh ul.svelte-xk3fkh{margin:0;padding-left:1.5rem}.form-help.svelte-xk3fkh li.svelte-xk3fkh{margin-bottom:0.5rem;color:#555}@media(max-width: 768px){.container.svelte-xk3fkh.svelte-xk3fkh{padding:0.5rem}.hero.svelte-xk3fkh h1.svelte-xk3fkh{font-size:2rem}.form-container.svelte-xk3fkh.svelte-xk3fkh{padding:1.5rem}.form-actions.svelte-xk3fkh.svelte-xk3fkh{flex-direction:column}.form-actions.svelte-xk3fkh button.svelte-xk3fkh{width:100%}.brewer-info.svelte-xk3fkh.svelte-xk3fkh{flex-direction:column;align-items:flex-start;gap:0.5rem}}@media(max-width: 480px){.hero.svelte-xk3fkh h1.svelte-xk3fkh{font-size:1.75rem}.form-container.svelte-xk3fkh.svelte-xk3fkh{padding:1rem}.loading-container.svelte-xk3fkh.svelte-xk3fkh,.error-container.svelte-xk3fkh.svelte-xk3fkh,.empty-state.svelte-xk3fkh.svelte-xk3fkh{padding:2rem 1rem}}\",\n  map: `{\"version\":3,\"file\":\"+page.svelte\",\"sources\":[\"+page.svelte\"],\"sourcesContent\":[\"<script>\\\\n  import { onMount, onDestroy } from 'svelte';\\\\n  import { goto } from '$app/navigation';\\\\n  import { userProfile } from '$lib/stores/userProfile.js';\\\\n  import { \\\\n    bjcpCategories, \\\\n    competitions, \\\\n    activeCompetitions,\\\\n    mainCategories,\\\\n    categoriesByNumber,\\\\n    loadCompetitionData,\\\\n    getCategoryById,\\\\n    areEntriesOpen,\\\\n    formatDeadline,\\\\n    isLoaded,\\\\n    isLoading,\\\\n    error\\\\n  } from '$lib/stores/bjcpCategoryStore.js';\\\\n  import { supabase } from '$lib/supabaseClient';\\\\n\\\\n  // =============================================\\\\n  // Tab Switching Fix (CRITICAL)\\\\n  // =============================================\\\\n  let cleanup;\\\\n\\\\n // Removed problematic tab visibility handler - already commented out\\\\n\\\\n  // =============================================\\\\n  // Form State\\\\n  // =============================================\\\\n  let selectedCompetition = '';\\\\n  let selectedMainCategory = '';\\\\n  let selectedSubcategory = '';\\\\n  let beerName = '';\\\\n  let beerNotes = '';\\\\n  let submitting = false;\\\\n  let submitError = null;\\\\n  let submitSuccess = false;\\\\n\\\\n  // =============================================\\\\n  // Reactive Variables\\\\n  // =============================================\\\\n  \\\\n  // Get allowed categories for selected competition\\\\n  $: allowedCategoryIds = selectedCompetitionObj?.category_system === 'custom' \\\\n    ? (selectedCompetitionObj.category_restrictions || [])\\\\n    : null;\\\\n\\\\n  // Get available main categories (filtered if custom system)\\\\n  $: availableMainCategories = allowedCategoryIds\\\\n    ? $mainCategories.filter(category => {\\\\n        // Check if any subcategory in this main category is allowed\\\\n        const categorySubcategories = $categoriesByNumber[category.number]?.subcategories || [];\\\\n        return categorySubcategories.some(sub => allowedCategoryIds.includes(sub.id));\\\\n      })\\\\n    : $mainCategories;\\\\n\\\\n  // Get available subcategories based on selected main category (filtered if custom system)\\\\n  $: availableSubcategories = selectedMainCategory \\\\n    ? ($categoriesByNumber[selectedMainCategory]?.subcategories || []).filter(sub => \\\\n        allowedCategoryIds ? allowedCategoryIds.includes(sub.id) : true\\\\n      )\\\\n    : [];\\\\n\\\\n  // Get selected competition object\\\\n  $: selectedCompetitionObj = selectedCompetition \\\\n    ? $activeCompetitions.find(comp => comp.id === selectedCompetition)\\\\n    : null;\\\\n\\\\n  // Get selected category object\\\\n  $: selectedCategoryObj = selectedSubcategory \\\\n    ? getCategoryById(selectedSubcategory)\\\\n    : null;\\\\n\\\\n  // Form validation\\\\n  $: canSubmit = selectedCompetition && \\\\n                 selectedSubcategory && \\\\n                 beerName.trim() && \\\\n                 !submitting &&\\\\n                 $userProfile?.id &&\\\\n                 areEntriesOpen(selectedCompetitionObj);\\\\n\\\\n  // Reset dependent fields when main category changes\\\\n  $: if (selectedMainCategory) {\\\\n    selectedSubcategory = '';\\\\n  }\\\\n\\\\n  // =============================================\\\\n  // Lifecycle\\\\n  // =============================================\\\\n  onMount(async () => {\\\\n    console.log('üöÄ Page mounted, loading data...');\\\\n    \\\\n    // Check if user is logged in\\\\n    //if (!$userProfile?.id) {\\\\n    //  console.log('‚ùå User not logged in, redirecting...');\\\\n    //  goto('/login');\\\\n    //  return;\\\\n   // }\\\\n\\\\n    // Load competition data\\\\n    try {\\\\n      console.log('üìã Loading competition data...');\\\\n      await loadCompetitionData();\\\\n      console.log('‚úÖ Competition data loaded');\\\\n    } catch (err) {\\\\n      console.error('‚ùå Failed to load competition data:', err);\\\\n    }\\\\n  });\\\\n\\\\n\\\\n  // =============================================\\\\n  // Form Handlers\\\\n  // =============================================\\\\n  \\\\n  async function handleSubmit() {\\\\n    if (!canSubmit) return;\\\\n\\\\n    submitting = true;\\\\n    submitError = null;\\\\n    submitSuccess = false;\\\\n\\\\n    try {\\\\n      console.log('üç∫ Submitting competition entry...');\\\\n\\\\n      // Generate random entry number\\\\n      const entryNumber = Math.floor(Math.random() * 99999 + 1).toString().padStart(5, '0');\\\\n\\\\n      const entryData = {\\\\n        competition_id: selectedCompetition,\\\\n        member_id: $userProfile.id,\\\\n        bjcp_category_id: selectedSubcategory,\\\\n        beer_name: beerName.trim(),\\\\n        beer_notes: beerNotes.trim() || null,\\\\n        entry_number: entryNumber,\\\\n        entry_fee_paid: false\\\\n      };\\\\n\\\\n      const { data, error: insertError } = await supabase\\\\n        .from('competition_entries')\\\\n        .insert([entryData])\\\\n        .select(\\`\\\\n          *,\\\\n          competition:competitions(name),\\\\n          bjcp_category:bjcp_categories(category_number, subcategory_letter, subcategory_name)\\\\n        \\`)\\\\n        .single();\\\\n\\\\n      if (insertError) {\\\\n        console.error('‚ùå Error submitting entry:', insertError);\\\\n        throw insertError;\\\\n      }\\\\n\\\\n      console.log('‚úÖ Entry submitted successfully:', data);\\\\n      \\\\n      submitSuccess = true;\\\\n      \\\\n      // Reset form\\\\n      selectedCompetition = '';\\\\n      selectedMainCategory = '';\\\\n      selectedSubcategory = '';\\\\n      beerName = '';\\\\n      beerNotes = '';\\\\n\\\\n      // Redirect to entries page after 2 seconds\\\\n      setTimeout(() => {\\\\n        goto('/competitions/my-entries');\\\\n      }, 2000);\\\\n\\\\n    } catch (err) {\\\\n      console.error('üí• Failed to submit entry:', err);\\\\n      submitError = err.message || 'Failed to submit entry';\\\\n    } finally {\\\\n      submitting = false;\\\\n    }\\\\n  }\\\\n\\\\n  function resetForm() {\\\\n    selectedCompetition = '';\\\\n    selectedMainCategory = '';\\\\n    selectedSubcategory = '';\\\\n    beerName = '';\\\\n    beerNotes = '';\\\\n    submitError = null;\\\\n    submitSuccess = false;\\\\n  }\\\\n\\\\n  // =============================================\\\\n  // Helper Functions\\\\n  // =============================================\\\\n  \\\\n  function formatCategoryOption(subcategory) {\\\\n    return \\`\\${subcategory.letter} - \\${subcategory.name}\\`;\\\\n  }\\\\n  // Debug: Log store values\\\\n  $: console.log('üìä Store Debug:', {\\\\n    bjcpCategories: $bjcpCategories.length,\\\\n    competitions: $competitions.length,\\\\n    activeCompetitions: $activeCompetitions.length,\\\\n    mainCategories: $mainCategories.length,\\\\n    isLoaded: $isLoaded,\\\\n    isLoading: $isLoading,\\\\n    error: $error\\\\n  });\\\\n<\\/script>\\\\n\\\\n<svelte:head>\\\\n  <title>Submit Competition Entry | JAX Members Portal</title>\\\\n</svelte:head>\\\\n\\\\n<div class=\\\\\"container\\\\\">\\\\n  <!-- Hero Section -->\\\\n  <section class=\\\\\"hero\\\\\">\\\\n    <h1>üèÜ SUBMIT COMPETITION ENTRY</h1>\\\\n    <p>Enter your beer into a JAX club competition</p>\\\\n  </section>\\\\n\\\\n  <!-- Loading State -->\\\\n  {#if $isLoading && !$isLoaded}\\\\n    <div class=\\\\\"loading-container\\\\\">\\\\n      <div class=\\\\\"loading-spinner\\\\\"></div>\\\\n      <p>Loading competition data...</p>\\\\n    </div>\\\\n  \\\\n  <!-- Error State -->\\\\n  {:else if $error}\\\\n    <div class=\\\\\"error-container\\\\\">\\\\n      <h2>‚ùå Error Loading Data</h2>\\\\n      <p>{$error}</p>\\\\n      <button on:click={() => loadCompetitionData(true)} class=\\\\\"retry-button\\\\\">\\\\n        üîÑ Retry\\\\n      </button>\\\\n    </div>\\\\n\\\\n  <!-- No Active Competitions -->\\\\n  {:else if $isLoaded && $activeCompetitions.length === 0}\\\\n    <div class=\\\\\"empty-state\\\\\">\\\\n      <h2>üìÖ No Active Competitions</h2>\\\\n      <p>There are currently no competitions accepting entries.</p>\\\\n      <p>Check back later or contact an officer for more information.</p>\\\\n      <button on:click={() => goto('/competitions')} class=\\\\\"nav-button\\\\\">\\\\n        üìã View All Competitions\\\\n      </button>\\\\n    </div>\\\\n\\\\n  <!-- Main Form -->\\\\n  {:else if $isLoaded}\\\\n    <div class=\\\\\"form-container\\\\\">\\\\n      \\\\n      <!-- Success Message -->\\\\n      {#if submitSuccess}\\\\n        <div class=\\\\\"success-message\\\\\">\\\\n          <h2>üéâ Entry Submitted Successfully!</h2>\\\\n          <p>Your competition entry has been received. Redirecting to your entries...</p>\\\\n        </div>\\\\n      {/if}\\\\n\\\\n      <!-- Entry Form -->\\\\n      <form on:submit|preventDefault={handleSubmit} class=\\\\\"entry-form\\\\\">\\\\n        \\\\n        <!-- Competition Selection -->\\\\n        <div class=\\\\\"form-group\\\\\">\\\\n          <label for=\\\\\"competition\\\\\">Competition *</label>\\\\n          <select \\\\n            id=\\\\\"competition\\\\\" \\\\n            bind:value={selectedCompetition}\\\\n            disabled={submitting || submitSuccess}\\\\n            required\\\\n          >\\\\n            <option value=\\\\\"\\\\\">Select a competition...</option>\\\\n            {#each $activeCompetitions as competition}\\\\n              <option value={competition.id}>\\\\n                {competition.name}\\\\n                {#if competition.days_until_deadline !== undefined}\\\\n                  ({competition.days_until_deadline} days left)\\\\n                {/if}\\\\n              </option>\\\\n            {/each}\\\\n          </select>\\\\n          \\\\n          {#if selectedCompetitionObj}\\\\n            <div class=\\\\\"competition-info\\\\\">\\\\n              <p><strong>Entry Deadline:</strong> {formatDeadline(selectedCompetitionObj)}</p>\\\\n              {#if selectedCompetitionObj.description}\\\\n                <p><strong>Description:</strong> {selectedCompetitionObj.description}</p>\\\\n              {/if}\\\\n              {#if selectedCompetitionObj.category_system === 'custom'}\\\\n                <div class=\\\\\"custom-categories-notice\\\\\">\\\\n                  <p><strong>üìã Custom Categories:</strong> This competition only accepts specific BJCP categories. Only allowed categories will be shown in the selection below.</p>\\\\n                </div>\\\\n              {/if}\\\\n            </div>\\\\n          {/if}\\\\n        </div>\\\\n\\\\n        <!-- Main Category Selection -->\\\\n        <div class=\\\\\"form-group\\\\\">\\\\n          <label for=\\\\\"main-category\\\\\">BJCP Category *</label>\\\\n          <select \\\\n            id=\\\\\"main-category\\\\\" \\\\n            bind:value={selectedMainCategory}\\\\n            disabled={!selectedCompetition || submitting || submitSuccess}\\\\n            required\\\\n          >\\\\n            <option value=\\\\\"\\\\\">Select main category...</option>\\\\n            {#each availableMainCategories as category}\\\\n              <option value={category.number}>\\\\n                {category.number} - {category.name}\\\\n              </option>\\\\n            {/each}\\\\n          </select>\\\\n        </div>\\\\n\\\\n        <!-- Subcategory Selection -->\\\\n        {#if selectedMainCategory && availableSubcategories.length > 0}\\\\n          <div class=\\\\\"form-group\\\\\">\\\\n            <label for=\\\\\"subcategory\\\\\">BJCP Subcategory *</label>\\\\n            <select \\\\n              id=\\\\\"subcategory\\\\\" \\\\n              bind:value={selectedSubcategory}\\\\n              disabled={submitting || submitSuccess}\\\\n              required\\\\n            >\\\\n              <option value=\\\\\"\\\\\">Select subcategory...</option>\\\\n              {#each availableSubcategories as subcategory}\\\\n                <option value={subcategory.id}>\\\\n                  {formatCategoryOption(subcategory)}\\\\n                </option>\\\\n              {/each}\\\\n            </select>\\\\n            \\\\n            {#if selectedCategoryObj}\\\\n              <div class=\\\\\"category-description\\\\\">\\\\n                <p>{selectedCategoryObj.description}</p>\\\\n              </div>\\\\n            {/if}\\\\n          </div>\\\\n        {/if}\\\\n\\\\n        <!-- Beer Name -->\\\\n        <div class=\\\\\"form-group\\\\\">\\\\n          <label for=\\\\\"beer-name\\\\\">Beer Name *</label>\\\\n          <input \\\\n            type=\\\\\"text\\\\\" \\\\n            id=\\\\\"beer-name\\\\\"\\\\n            bind:value={beerName}\\\\n            placeholder=\\\\\"Enter your beer name...\\\\\"\\\\n            disabled={submitting || submitSuccess}\\\\n            maxlength=\\\\\"100\\\\\"\\\\n            required\\\\n          />\\\\n        </div>\\\\n\\\\n        <!-- Beer Notes -->\\\\n        <div class=\\\\\"form-group\\\\\">\\\\n          <label for=\\\\\"beer-notes\\\\\">Beer Notes (Optional)</label>\\\\n          <textarea \\\\n            id=\\\\\"beer-notes\\\\\"\\\\n            bind:value={beerNotes}\\\\n            placeholder=\\\\\"Special ingredients, techniques, or notes for judges...\\\\\"\\\\n            disabled={submitting || submitSuccess}\\\\n            rows=\\\\\"4\\\\\"\\\\n            maxlength=\\\\\"500\\\\\"\\\\n          ></textarea>\\\\n          <div class=\\\\\"character-count\\\\\">\\\\n            {beerNotes.length}/500 characters\\\\n          </div>\\\\n        </div>\\\\n\\\\n        <!-- Brewer Info (Read-only) -->\\\\n        <div class=\\\\\"form-group\\\\\">\\\\n          <label>Brewer</label>\\\\n          <div class=\\\\\"brewer-info\\\\\">\\\\n            <span class=\\\\\"brewer-name\\\\\">{$userProfile?.name || $userProfile?.email}</span>\\\\n            <span class=\\\\\"auto-filled\\\\\">(automatically filled)</span>\\\\n          </div>\\\\n        </div>\\\\n\\\\n        <!-- Error Message -->\\\\n        {#if submitError}\\\\n          <div class=\\\\\"error-message\\\\\">\\\\n            <p>‚ùå {submitError}</p>\\\\n          </div>\\\\n        {/if}\\\\n\\\\n        <!-- Form Actions -->\\\\n        <div class=\\\\\"form-actions\\\\\">\\\\n          <button \\\\n            type=\\\\\"button\\\\\" \\\\n            on:click={resetForm}\\\\n            class=\\\\\"reset-button\\\\\"\\\\n            disabled={submitting || submitSuccess}\\\\n          >\\\\n            üîÑ Reset Form\\\\n          </button>\\\\n          \\\\n          <button \\\\n            type=\\\\\"submit\\\\\" \\\\n            class=\\\\\"submit-button\\\\\"\\\\n            disabled={!canSubmit || submitSuccess}\\\\n          >\\\\n            {#if submitting}\\\\n              üîÑ Submitting...\\\\n            {:else if submitSuccess}\\\\n              ‚úÖ Submitted\\\\n            {:else}\\\\n              üç∫ Submit Entry\\\\n            {/if}\\\\n          </button>\\\\n        </div>\\\\n\\\\n        <!-- Form Help -->\\\\n        <div class=\\\\\"form-help\\\\\">\\\\n          <h3>üìù Entry Guidelines</h3>\\\\n          <ul>\\\\n            <li>Entries must be submitted before the deadline</li>\\\\n            <li>One entry per category per brewer per competition</li>\\\\n            <li>Entry fees may apply (check with officers)</li>\\\\n            <li>You'll receive a random entry number for anonymity</li>\\\\n            <li>You can edit entries until the deadline</li>\\\\n          </ul>\\\\n        </div>\\\\n      </form>\\\\n    </div>\\\\n  {/if}\\\\n</div>\\\\n\\\\n<style>\\\\n  .container {\\\\n    max-width: 800px;\\\\n    margin: 0 auto;\\\\n    padding: 1rem;\\\\n  }\\\\n\\\\n  .hero {\\\\n    text-align: center;\\\\n    margin-bottom: 2rem;\\\\n    padding: 2rem 1rem;\\\\n  }\\\\n\\\\n  .hero h1 {\\\\n    color: #ff3e00;\\\\n    font-size: 2.5rem;\\\\n    font-weight: 100;\\\\n    text-transform: uppercase;\\\\n    margin: 0 0 0.5rem 0;\\\\n    letter-spacing: 2px;\\\\n  }\\\\n\\\\n  .hero p {\\\\n    font-size: 1.1rem;\\\\n    color: #666;\\\\n    margin: 0;\\\\n  }\\\\n\\\\n  .loading-container, .error-container, .empty-state {\\\\n    text-align: center;\\\\n    padding: 3rem 2rem;\\\\n    background: white;\\\\n    border-radius: 6px;\\\\n    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\\\n    border-left: 4px solid #ff3e00;\\\\n  }\\\\n\\\\n  .loading-spinner {\\\\n    width: 40px;\\\\n    height: 40px;\\\\n    border: 4px solid #f3f3f3;\\\\n    border-top: 4px solid #ff3e00;\\\\n    border-radius: 50%;\\\\n    animation: spin 1s linear infinite;\\\\n    margin: 0 auto 1rem auto;\\\\n  }\\\\n\\\\n  @keyframes spin {\\\\n    0% { transform: rotate(0deg); }\\\\n    100% { transform: rotate(360deg); }\\\\n  }\\\\n\\\\n  .retry-button, .nav-button {\\\\n    background: #ff3e00;\\\\n    color: white;\\\\n    border: none;\\\\n    padding: 0.75rem 1.5rem;\\\\n    border-radius: 6px;\\\\n    cursor: pointer;\\\\n    font-size: 1rem;\\\\n    margin-top: 1rem;\\\\n    transition: background 0.2s;\\\\n  }\\\\n\\\\n  .retry-button:hover, .nav-button:hover {\\\\n    background: #e63600;\\\\n  }\\\\n\\\\n  .form-container {\\\\n    background: white;\\\\n    border-radius: 6px;\\\\n    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\\\n    border-left: 4px solid #ff3e00;\\\\n    padding: 2rem;\\\\n  }\\\\n\\\\n  .success-message {\\\\n    background: #f0f9ff;\\\\n    border: 1px solid #059669;\\\\n    border-radius: 6px;\\\\n    padding: 1.5rem;\\\\n    margin-bottom: 2rem;\\\\n    text-align: center;\\\\n  }\\\\n\\\\n  .success-message h2 {\\\\n    color: #059669;\\\\n    margin: 0 0 0.5rem 0;\\\\n    font-size: 1.5rem;\\\\n  }\\\\n\\\\n  .entry-form {\\\\n    max-width: 100%;\\\\n  }\\\\n\\\\n  .form-group {\\\\n    margin-bottom: 1.5rem;\\\\n  }\\\\n\\\\n  .form-group label {\\\\n    display: block;\\\\n    font-weight: 600;\\\\n    margin-bottom: 0.5rem;\\\\n    color: #333;\\\\n  }\\\\n\\\\n  .form-group input,\\\\n  .form-group select,\\\\n  .form-group textarea {\\\\n    width: 100%;\\\\n    padding: 0.75rem;\\\\n    border: 2px solid #ddd;\\\\n    border-radius: 6px;\\\\n    font-size: 1rem;\\\\n    transition: border-color 0.2s;\\\\n    box-sizing: border-box;\\\\n  }\\\\n\\\\n  .form-group input:focus,\\\\n  .form-group select:focus,\\\\n  .form-group textarea:focus {\\\\n    outline: none;\\\\n    border-color: #ff3e00;\\\\n  }\\\\n\\\\n  .form-group input:disabled,\\\\n  .form-group select:disabled,\\\\n  .form-group textarea:disabled {\\\\n    background: #f5f5f5;\\\\n    cursor: not-allowed;\\\\n  }\\\\n\\\\n  .competition-info {\\\\n    background: #f8f9fa;\\\\n    border: 1px solid #dee2e6;\\\\n    border-radius: 6px;\\\\n    padding: 1rem;\\\\n    margin-top: 0.5rem;\\\\n  }\\\\n\\\\n  .competition-info p {\\\\n    margin: 0.25rem 0;\\\\n    font-size: 0.9rem;\\\\n  }\\\\n\\\\n  .custom-categories-notice {\\\\n    background: #e0f7fa;\\\\n    border: 1px solid #4dd0e1;\\\\n    border-radius: 6px;\\\\n    padding: 0.75rem;\\\\n    margin-top: 0.5rem;\\\\n  }\\\\n\\\\n  .custom-categories-notice p {\\\\n    margin: 0;\\\\n    color: #006064;\\\\n    font-weight: 500;\\\\n  }\\\\n\\\\n  .category-description {\\\\n    background: #fff3cd;\\\\n    border: 1px solid #ffeaa7;\\\\n    border-radius: 6px;\\\\n    padding: 0.75rem;\\\\n    margin-top: 0.5rem;\\\\n    font-size: 0.9rem;\\\\n    font-style: italic;\\\\n  }\\\\n\\\\n  .character-count {\\\\n    text-align: right;\\\\n    font-size: 0.8rem;\\\\n    color: #666;\\\\n    margin-top: 0.25rem;\\\\n  }\\\\n\\\\n  .brewer-info {\\\\n    background: #f8f9fa;\\\\n    border: 2px solid #ddd;\\\\n    border-radius: 6px;\\\\n    padding: 0.75rem;\\\\n    display: flex;\\\\n    justify-content: space-between;\\\\n    align-items: center;\\\\n  }\\\\n\\\\n  .brewer-name {\\\\n    font-weight: 600;\\\\n  }\\\\n\\\\n  .auto-filled {\\\\n    font-size: 0.8rem;\\\\n    color: #666;\\\\n    font-style: italic;\\\\n  }\\\\n\\\\n  .error-message {\\\\n    background: #fee;\\\\n    border: 1px solid #dc2626;\\\\n    border-radius: 6px;\\\\n    padding: 1rem;\\\\n    margin-bottom: 1rem;\\\\n  }\\\\n\\\\n  .error-message p {\\\\n    margin: 0;\\\\n    color: #dc2626;\\\\n  }\\\\n\\\\n  .form-actions {\\\\n    display: flex;\\\\n    gap: 1rem;\\\\n    justify-content: flex-end;\\\\n    margin-top: 2rem;\\\\n  }\\\\n\\\\n  .reset-button {\\\\n    background: #6b7280;\\\\n    color: white;\\\\n    border: none;\\\\n    padding: 0.75rem 1.5rem;\\\\n    border-radius: 6px;\\\\n    cursor: pointer;\\\\n    font-size: 1rem;\\\\n    transition: background 0.2s;\\\\n  }\\\\n\\\\n  .reset-button:hover:not(:disabled) {\\\\n    background: #4b5563;\\\\n  }\\\\n\\\\n  .submit-button {\\\\n    background: #ff3e00;\\\\n    color: white;\\\\n    border: none;\\\\n    padding: 0.75rem 2rem;\\\\n    border-radius: 6px;\\\\n    cursor: pointer;\\\\n    font-size: 1rem;\\\\n    font-weight: 600;\\\\n    transition: background 0.2s;\\\\n  }\\\\n\\\\n  .submit-button:hover:not(:disabled) {\\\\n    background: #e63600;\\\\n  }\\\\n\\\\n  .submit-button:disabled,\\\\n  .reset-button:disabled {\\\\n    background: #d1d5db;\\\\n    cursor: not-allowed;\\\\n  }\\\\n\\\\n  .form-help {\\\\n    margin-top: 2rem;\\\\n    padding-top: 2rem;\\\\n    border-top: 1px solid #dee2e6;\\\\n  }\\\\n\\\\n  .form-help h3 {\\\\n    color: #ff3e00;\\\\n    font-size: 1.1rem;\\\\n    margin: 0 0 1rem 0;\\\\n  }\\\\n\\\\n  .form-help ul {\\\\n    margin: 0;\\\\n    padding-left: 1.5rem;\\\\n  }\\\\n\\\\n  .form-help li {\\\\n    margin-bottom: 0.5rem;\\\\n    color: #555;\\\\n  }\\\\n\\\\n  @media (max-width: 768px) {\\\\n    .container {\\\\n      padding: 0.5rem;\\\\n    }\\\\n\\\\n    .hero h1 {\\\\n      font-size: 2rem;\\\\n    }\\\\n\\\\n    .form-container {\\\\n      padding: 1.5rem;\\\\n    }\\\\n\\\\n    .form-actions {\\\\n      flex-direction: column;\\\\n    }\\\\n\\\\n    .form-actions button {\\\\n      width: 100%;\\\\n    }\\\\n\\\\n    .brewer-info {\\\\n      flex-direction: column;\\\\n      align-items: flex-start;\\\\n      gap: 0.5rem;\\\\n    }\\\\n  }\\\\n\\\\n  @media (max-width: 480px) {\\\\n    .hero h1 {\\\\n      font-size: 1.75rem;\\\\n    }\\\\n\\\\n    .form-container {\\\\n      padding: 1rem;\\\\n    }\\\\n\\\\n    .loading-container, .error-container, .empty-state {\\\\n      padding: 2rem 1rem;\\\\n    }\\\\n  }\\\\n</style>\"],\"names\":[],\"mappings\":\"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\"}`\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let allowedCategoryIds;\n  let availableMainCategories;\n  let selectedCompetitionObj;\n  let canSubmit;\n  let $error, $$unsubscribe_error;\n  let $isLoading, $$unsubscribe_isLoading;\n  let $isLoaded, $$unsubscribe_isLoaded;\n  let $mainCategories, $$unsubscribe_mainCategories;\n  let $activeCompetitions, $$unsubscribe_activeCompetitions;\n  let $competitions, $$unsubscribe_competitions;\n  let $bjcpCategories, $$unsubscribe_bjcpCategories;\n  let $userProfile, $$unsubscribe_userProfile;\n  let $categoriesByNumber, $$unsubscribe_categoriesByNumber;\n  $$unsubscribe_error = subscribe(error, (value) => $error = value);\n  $$unsubscribe_isLoading = subscribe(isLoading, (value) => $isLoading = value);\n  $$unsubscribe_isLoaded = subscribe(isLoaded, (value) => $isLoaded = value);\n  $$unsubscribe_mainCategories = subscribe(mainCategories, (value) => $mainCategories = value);\n  $$unsubscribe_activeCompetitions = subscribe(activeCompetitions, (value) => $activeCompetitions = value);\n  $$unsubscribe_competitions = subscribe(competitions, (value) => $competitions = value);\n  $$unsubscribe_bjcpCategories = subscribe(bjcpCategories, (value) => $bjcpCategories = value);\n  $$unsubscribe_userProfile = subscribe(userProfile, (value) => $userProfile = value);\n  $$unsubscribe_categoriesByNumber = subscribe(categoriesByNumber, (value) => $categoriesByNumber = value);\n  let selectedCompetition = \"\";\n  let beerName = \"\";\n  let beerNotes = \"\";\n  let submitSuccess = false;\n  $$result.css.add(css);\n  selectedCompetitionObj = null;\n  allowedCategoryIds = selectedCompetitionObj?.category_system === \"custom\" ? selectedCompetitionObj.category_restrictions || [] : null;\n  availableMainCategories = allowedCategoryIds ? $mainCategories.filter((category) => {\n    const categorySubcategories = $categoriesByNumber[category.number]?.subcategories || [];\n    return categorySubcategories.some((sub) => allowedCategoryIds.includes(sub.id));\n  }) : $mainCategories;\n  canSubmit = selectedCompetition;\n  {\n    console.log(\"üìä Store Debug:\", {\n      bjcpCategories: $bjcpCategories.length,\n      competitions: $competitions.length,\n      activeCompetitions: $activeCompetitions.length,\n      mainCategories: $mainCategories.length,\n      isLoaded: $isLoaded,\n      isLoading: $isLoading,\n      error: $error\n    });\n  }\n  $$unsubscribe_error();\n  $$unsubscribe_isLoading();\n  $$unsubscribe_isLoaded();\n  $$unsubscribe_mainCategories();\n  $$unsubscribe_activeCompetitions();\n  $$unsubscribe_competitions();\n  $$unsubscribe_bjcpCategories();\n  $$unsubscribe_userProfile();\n  $$unsubscribe_categoriesByNumber();\n  return `${$$result.head += `<!-- HEAD_svelte-1m0qu2i_START -->${$$result.title = `<title>Submit Competition Entry | JAX Members Portal</title>`, \"\"}<!-- HEAD_svelte-1m0qu2i_END -->`, \"\"} <div class=\"container svelte-xk3fkh\"> <section class=\"hero svelte-xk3fkh\" data-svelte-h=\"svelte-9eoux2\"><h1 class=\"svelte-xk3fkh\">üèÜ SUBMIT COMPETITION ENTRY</h1> <p class=\"svelte-xk3fkh\">Enter your beer into a JAX club competition</p></section>  ${$isLoading && !$isLoaded ? `<div class=\"loading-container svelte-xk3fkh\" data-svelte-h=\"svelte-1bs0zoz\"><div class=\"loading-spinner svelte-xk3fkh\"></div> <p>Loading competition data...</p></div> ` : `${$error ? `<div class=\"error-container svelte-xk3fkh\"><h2 data-svelte-h=\"svelte-s8iwac\">‚ùå Error Loading Data</h2> <p>${escape($error)}</p> <button class=\"retry-button svelte-xk3fkh\" data-svelte-h=\"svelte-oazqa5\">üîÑ Retry</button></div> ` : `${$isLoaded && $activeCompetitions.length === 0 ? `<div class=\"empty-state svelte-xk3fkh\"><h2 data-svelte-h=\"svelte-1gfe4gr\">üìÖ No Active Competitions</h2> <p data-svelte-h=\"svelte-19u59jp\">There are currently no competitions accepting entries.</p> <p data-svelte-h=\"svelte-1kezru5\">Check back later or contact an officer for more information.</p> <button class=\"nav-button svelte-xk3fkh\" data-svelte-h=\"svelte-sh37na\">üìã View All Competitions</button></div> ` : `${$isLoaded ? `<div class=\"form-container svelte-xk3fkh\"> ${``}  <form class=\"entry-form svelte-xk3fkh\"> <div class=\"form-group svelte-xk3fkh\"><label for=\"competition\" class=\"svelte-xk3fkh\" data-svelte-h=\"svelte-16txpgy\">Competition *</label> <select id=\"competition\" ${\"\"} required class=\"svelte-xk3fkh\"><option value=\"\" data-svelte-h=\"svelte-iqpod6\">Select a competition...</option>${each($activeCompetitions, (competition) => {\n    return `<option${add_attribute(\"value\", competition.id, 0)}>${escape(competition.name)} ${competition.days_until_deadline !== void 0 ? `(${escape(competition.days_until_deadline)} days left)` : ``} </option>`;\n  })}</select> ${selectedCompetitionObj ? `<div class=\"competition-info svelte-xk3fkh\"><p class=\"svelte-xk3fkh\"><strong data-svelte-h=\"svelte-itlo74\">Entry Deadline:</strong> ${escape(formatDeadline(selectedCompetitionObj))}</p> ${selectedCompetitionObj.description ? `<p class=\"svelte-xk3fkh\"><strong data-svelte-h=\"svelte-1scoy10\">Description:</strong> ${escape(selectedCompetitionObj.description)}</p>` : ``} ${selectedCompetitionObj.category_system === \"custom\" ? `<div class=\"custom-categories-notice svelte-xk3fkh\" data-svelte-h=\"svelte-10b7ryr\"><p class=\"svelte-xk3fkh\"><strong>üìã Custom Categories:</strong> This competition only accepts specific BJCP categories. Only allowed categories will be shown in the selection below.</p></div>` : ``}</div>` : ``}</div>  <div class=\"form-group svelte-xk3fkh\"><label for=\"main-category\" class=\"svelte-xk3fkh\" data-svelte-h=\"svelte-17h6qfx\">BJCP Category *</label> <select id=\"main-category\" ${\"disabled\"} required class=\"svelte-xk3fkh\"><option value=\"\" data-svelte-h=\"svelte-1u12wbr\">Select main category...</option>${each(availableMainCategories, (category) => {\n    return `<option${add_attribute(\"value\", category.number, 0)}>${escape(category.number)} - ${escape(category.name)} </option>`;\n  })}</select></div>  ${``}  <div class=\"form-group svelte-xk3fkh\"><label for=\"beer-name\" class=\"svelte-xk3fkh\" data-svelte-h=\"svelte-bo7a13\">Beer Name *</label> <input type=\"text\" id=\"beer-name\" placeholder=\"Enter your beer name...\" ${\"\"} maxlength=\"100\" required class=\"svelte-xk3fkh\"${add_attribute(\"value\", beerName, 0)}></div>  <div class=\"form-group svelte-xk3fkh\"><label for=\"beer-notes\" class=\"svelte-xk3fkh\" data-svelte-h=\"svelte-sobiei\">Beer Notes (Optional)</label> <textarea id=\"beer-notes\" placeholder=\"Special ingredients, techniques, or notes for judges...\" ${\"\"} rows=\"4\" maxlength=\"500\" class=\"svelte-xk3fkh\">${escape(\"\")}</textarea> <div class=\"character-count svelte-xk3fkh\">${escape(beerNotes.length)}/500 characters</div></div>  <div class=\"form-group svelte-xk3fkh\"><label class=\"svelte-xk3fkh\" data-svelte-h=\"svelte-13vcfxt\">Brewer</label> <div class=\"brewer-info svelte-xk3fkh\"><span class=\"brewer-name svelte-xk3fkh\">${escape($userProfile?.name || $userProfile?.email)}</span> <span class=\"auto-filled svelte-xk3fkh\" data-svelte-h=\"svelte-1rfbwqt\">(automatically filled)</span></div></div>  ${``}  <div class=\"form-actions svelte-xk3fkh\"><button type=\"button\" class=\"reset-button svelte-xk3fkh\" ${\"\"}>üîÑ Reset Form</button> <button type=\"submit\" class=\"submit-button svelte-xk3fkh\" ${!canSubmit || submitSuccess ? \"disabled\" : \"\"}>${`${`üç∫ Submit Entry`}`}</button></div>  <div class=\"form-help svelte-xk3fkh\" data-svelte-h=\"svelte-17973si\"><h3 class=\"svelte-xk3fkh\">üìù Entry Guidelines</h3> <ul class=\"svelte-xk3fkh\"><li class=\"svelte-xk3fkh\">Entries must be submitted before the deadline</li> <li class=\"svelte-xk3fkh\">One entry per category per brewer per competition</li> <li class=\"svelte-xk3fkh\">Entry fees may apply (check with officers)</li> <li class=\"svelte-xk3fkh\">You&#39;ll receive a random entry number for anonymity</li> <li class=\"svelte-xk3fkh\">You can edit entries until the deadline</li></ul></div></form></div>` : ``}`}`}`} </div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}