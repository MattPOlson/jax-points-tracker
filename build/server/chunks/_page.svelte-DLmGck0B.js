import { c as create_ssr_component, a as subscribe, o as onDestroy, v as validate_component, d as escape, e as each } from './ssr-CFMHIens.js';
import { p as page } from './stores-C-uFbAzB.js';
import './supabaseClient-D_8i9Ohq.js';
import { u as userProfile } from './userProfile-BAUZwBX2.js';
import { a as allSubmissions, l as loadMySubmissions, m as message, b as loading } from './mySubmissionsStore-fjtplp0E.js';
import { f as formatDate } from './dateUtils-D_vm5-qZ.js';
import { B as Button } from './Button-DfG06A7O.js';
import { H as Hero } from './Hero-B5bq0fDE.js';
import { L as LoadingSpinner } from './LoadingSpinner-DyPK4ei8.js';
import { E as EmptyState } from './EmptyState-OwOXOni3.js';
import { C as Container } from './Container-C5rGKtUK.js';
import './client-C3KLrhj1.js';
import './exports-DKuYoYKl.js';
import '@supabase/supabase-js';
import './index-Ct3aIOD7.js';
import './false-CRHihH2U.js';

const css = {
  code: '.stats-section.svelte-iwynd3.svelte-iwynd3{margin-bottom:2rem}.stats-grid.svelte-iwynd3.svelte-iwynd3{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1rem;max-width:800px;margin:0 auto}.stat-card.svelte-iwynd3.svelte-iwynd3{background:white;border-radius:6px;padding:1.5rem;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1);display:flex;align-items:center;gap:1rem;border-left:4px solid}.stat-card.approved.svelte-iwynd3.svelte-iwynd3{border-left-color:#059669}.stat-card.pending.svelte-iwynd3.svelte-iwynd3{border-left-color:#d97706}.stat-card.rejected.svelte-iwynd3.svelte-iwynd3{border-left-color:#dc2626}.stat-card.points.svelte-iwynd3.svelte-iwynd3{border-left-color:#ff3e00}.stat-icon.svelte-iwynd3.svelte-iwynd3{font-size:2rem}.stat-number.svelte-iwynd3.svelte-iwynd3{font-size:2rem;font-weight:700;color:#333;line-height:1}.stat-label.svelte-iwynd3.svelte-iwynd3{font-size:0.9rem;color:#666;font-weight:500}.controls-section.svelte-iwynd3.svelte-iwynd3{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-8);padding:var(--space-4);background:white;border-radius:var(--radius-md);box-shadow:var(--shadow-md)}.count-display.svelte-iwynd3.svelte-iwynd3{font-weight:500;color:#666}.submissions-container.svelte-iwynd3.svelte-iwynd3{background:white;border-radius:6px;box-shadow:0 4px 6px rgba(0, 0, 0, 0.1);overflow:hidden}.table-wrapper.svelte-iwynd3.svelte-iwynd3{overflow-x:auto}.desktop-table.svelte-iwynd3.svelte-iwynd3{width:100%;border-collapse:collapse}.desktop-table.svelte-iwynd3 th.svelte-iwynd3{background:#f8fafc;padding:1rem;text-align:left;font-weight:600;color:#333;border-bottom:2px solid #e5e7eb;white-space:nowrap}.desktop-table.svelte-iwynd3 th.sortable.svelte-iwynd3{cursor:pointer;user-select:none;position:relative;transition:background-color 0.2s}.desktop-table.svelte-iwynd3 th.sortable.svelte-iwynd3:hover{background:#f1f5f9}.desktop-table.svelte-iwynd3 th.sort-asc.svelte-iwynd3::after{content:" ▲";font-size:0.75rem;color:#ff3e00}.desktop-table.svelte-iwynd3 th.sort-desc.svelte-iwynd3::after{content:" ▼";font-size:0.75rem;color:#ff3e00}.desktop-table.svelte-iwynd3 td.svelte-iwynd3{padding:1rem;border-bottom:1px solid #f1f5f9;vertical-align:middle}.submission-row.svelte-iwynd3.svelte-iwynd3{transition:background-color 0.2s}.submission-row.svelte-iwynd3.svelte-iwynd3:hover{background-color:#f8fafc}.category-cell.svelte-iwynd3.svelte-iwynd3{font-weight:500;color:#333}.points-cell.svelte-iwynd3.svelte-iwynd3{font-weight:700;color:#ff3e00}.status-badge.svelte-iwynd3.svelte-iwynd3{display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0.75rem;border-radius:12px;font-size:0.8rem;font-weight:600;white-space:nowrap}.status-badge.status-approved.svelte-iwynd3.svelte-iwynd3{background:#dcfce7;color:#166534}.status-badge.status-pending.svelte-iwynd3.svelte-iwynd3{background:#fef3c7;color:#92400e}.status-badge.status-rejected.svelte-iwynd3.svelte-iwynd3{background:#fecaca;color:#991b1b}.rejection-reason.svelte-iwynd3.svelte-iwynd3{color:#dc2626;font-style:italic;font-size:0.9rem}.no-reason.svelte-iwynd3.svelte-iwynd3{color:#9ca3af}.mobile-cards.svelte-iwynd3.svelte-iwynd3{display:none}.mobile-card.svelte-iwynd3.svelte-iwynd3{border-bottom:1px solid #f1f5f9;padding:1.5rem}.mobile-card.svelte-iwynd3.svelte-iwynd3:last-child{border-bottom:none}.card-header.svelte-iwynd3.svelte-iwynd3{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.category-badge.svelte-iwynd3.svelte-iwynd3{background:#f3f4f6;color:#374151;padding:0.25rem 0.75rem;border-radius:6px;font-size:0.85rem;font-weight:600}.card-body.svelte-iwynd3.svelte-iwynd3{display:flex;flex-direction:column;gap:0.75rem}.card-row.svelte-iwynd3.svelte-iwynd3{display:flex;justify-content:space-between;align-items:center}.card-row.svelte-iwynd3 .label.svelte-iwynd3{font-weight:500;color:#666;min-width:100px}.card-row.svelte-iwynd3 .value.svelte-iwynd3{font-weight:600;color:#333;text-align:right}.points-value.svelte-iwynd3.svelte-iwynd3{color:#ff3e00}.rejection-row.svelte-iwynd3.svelte-iwynd3{background:#fef2f2;border:1px solid #fecaca;border-radius:4px;padding:0.75rem;margin-top:0.5rem}.rejection-text.svelte-iwynd3.svelte-iwynd3{color:#dc2626;font-style:italic}.empty-state.svelte-iwynd3.svelte-iwynd3{background:white;border-radius:var(--radius-md);padding:var(--space-12) var(--space-8);box-shadow:var(--shadow-md);text-align:center}.empty-icon.svelte-iwynd3.svelte-iwynd3{font-size:4rem;margin-bottom:var(--space-4)}.empty-state.svelte-iwynd3 h3.svelte-iwynd3{color:var(--color-text-primary);font-size:var(--font-size-2xl);margin-bottom:var(--space-4);text-transform:none}.empty-state.svelte-iwynd3 p.svelte-iwynd3{color:var(--color-text-secondary);margin-bottom:var(--space-8);font-size:var(--font-size-lg)}.submit-button.svelte-iwynd3.svelte-iwynd3,.toggle-button.svelte-iwynd3.svelte-iwynd3{background-color:var(--color-brand-primary);color:white;text-decoration:none;border:none;border-radius:var(--radius-md);padding:var(--space-3) var(--space-8);font-size:var(--font-size-base);font-weight:var(--font-weight-medium);cursor:pointer;display:inline-block;transition:all var(--transition-base)}.submit-button.svelte-iwynd3.svelte-iwynd3:hover,.toggle-button.svelte-iwynd3.svelte-iwynd3:hover{background-color:var(--color-brand-primary-hover);transform:translateY(-2px);box-shadow:var(--shadow-lg)}@media(max-width: 768px){.stats-grid.svelte-iwynd3.svelte-iwynd3{grid-template-columns:repeat(2, 1fr);gap:0.75rem}.stat-card.svelte-iwynd3.svelte-iwynd3{padding:1rem}.stat-icon.svelte-iwynd3.svelte-iwynd3{font-size:1.5rem}.stat-number.svelte-iwynd3.svelte-iwynd3{font-size:1.5rem}.controls-section.svelte-iwynd3.svelte-iwynd3{flex-direction:column;gap:1rem;text-align:center}.table-wrapper.svelte-iwynd3.svelte-iwynd3{display:none}.mobile-cards.svelte-iwynd3.svelte-iwynd3{display:block}}@media(max-width: 480px){.stats-grid.svelte-iwynd3.svelte-iwynd3{grid-template-columns:1fr}.card-row.svelte-iwynd3.svelte-iwynd3{flex-direction:column;align-items:flex-start;gap:0.25rem}.card-row.svelte-iwynd3 .value.svelte-iwynd3{text-align:left}}@media(min-width: 769px){.mobile-cards.svelte-iwynd3.svelte-iwynd3{display:none}}',
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n  import { onMount, onDestroy } from \\"svelte\\";\\n  import { page } from \\"$app/stores\\";\\n  import { supabase } from \\"$lib/supabaseClient\\";\\n  import { userProfile } from \\"$lib/stores/userProfile\\";\\n  import {\\n    allSubmissions as storeAll,\\n    message as storeMessage,\\n    loadMySubmissions,\\n    loading,\\n  } from \\"$lib/stores/mySubmissionsStore.js\\";\\n  import { formatDate, formatSubmissionTime } from \\"$lib/utils/dateUtils.js\\";\\n  import { Hero, Container, LoadingSpinner, EmptyState, Button } from '$lib/components/ui';\\n\\n  let submissions = [];\\n  let message = \\"\\";\\n  let showAll = false;\\n  let sortColumn = \\"event_date\\";\\n  let sortDirection = \\"desc\\";\\n  let lastUserId = null;\\n  let currentUserId;\\n  let cleanupFunctions = [];\\n\\n  $: currentUserId = $userProfile?.id;\\n\\n  // Setup tab focus handler - removed problematic reload for tab switching fix\\n  function setupEventHandlers() {\\n    // Previously had auto-reload on tab visibility change, but this caused issues\\n    // with Supabase connection handling during tab switching\\n    return () => {\\n      // No cleanup needed now\\n    };\\n  }\\n\\n  // Load submissions when user changes\\n  $: if (currentUserId && currentUserId !== lastUserId) {\\n    lastUserId = currentUserId;\\n    loadAllSubmissions(true);\\n  }\\n\\n  // Derive filtered/pending submissions\\n  $: {\\n    const list = $storeAll;\\n    if ($storeMessage) {\\n      submissions = list ?? [];\\n      message = $storeMessage;\\n    } else if (!list) {\\n      submissions = [];\\n      message = \\"No submissions found.\\";\\n    } else if (showAll) {\\n      submissions = list;\\n      message = list.length > 0 ? \\"\\" : \\"No submissions found.\\";\\n    } else {\\n      const pending = list.filter(\\n        (sub) => sub.approved === false && sub.rejection_reason === null,\\n      );\\n      submissions = pending;\\n      message = pending.length > 0 ? \\"\\" : \\"No pending submissions found.\\";\\n    }\\n  }\\n\\n  async function loadAllSubmissions(force = false) {\\n    if (!currentUserId) {\\n      message = \\"Please log in to view your submissions.\\";\\n      storeAll.set([]);\\n      return;\\n    }\\n\\n    await loadMySubmissions(currentUserId, sortColumn, sortDirection, force);\\n    message = $storeMessage;\\n  }\\n\\n  function toggleView() {\\n    showAll = !showAll;\\n    console.log(\\"[submissions] toggleView clicked → showAll =\\", showAll);\\n  }\\n\\n  function sortTable(column) {\\n    if (sortColumn === column) {\\n      sortDirection = sortDirection === \\"asc\\" ? \\"desc\\" : \\"asc\\";\\n    } else {\\n      sortColumn = column;\\n      sortDirection = \\"asc\\";\\n    }\\n    console.log(\\n      \`[submissions] sortTable: sortColumn = \${sortColumn}, sortDirection = \${sortDirection}\`,\\n    );\\n    loadAllSubmissions(true);\\n  }\\n\\n  function formatStatus(sub) {\\n    if (sub.approved === true) return { text: \\"Approved\\", icon: \\"✅\\", class: \\"status-approved\\" };\\n    if (sub.rejection_reason) return { text: \\"Rejected\\", icon: \\"❌\\", class: \\"status-rejected\\" };\\n    return { text: \\"Pending\\", icon: \\"⏳\\", class: \\"status-pending\\" };\\n  }\\n\\n // function formatDate(dateString) {\\n //   try {\\n //     return new Date(dateString).toLocaleDateString('en-US', {\\n //       year: 'numeric',\\n //       month: 'short',\\n //       day: 'numeric'\\n //     });\\n //   } catch {\\n //     return 'Invalid Date';\\n //   }\\n // }\\n\\n  function getStatusCounts() {\\n    // Use the full store data, not the filtered submissions\\n    const allSubs = $storeAll || [];\\n    console.log('Stats calculation - allSubs:', allSubs.length, allSubs);\\n    \\n    const approved = allSubs.filter(s => s.approved === true).length;\\n    const rejected = allSubs.filter(s => s.rejection_reason).length;\\n    const pending = allSubs.filter(s => s.approved === false && !s.rejection_reason).length;\\n    const totalPoints = allSubs\\n      .filter(s => s.approved === true)\\n      .reduce((sum, s) => sum + (s.points || 0), 0);\\n    \\n    console.log('Stats result:', { approved, rejected, pending, totalPoints });\\n    return { approved, rejected, pending, totalPoints };\\n  }\\n\\n  // Make stats reactive to the store data - only calculate when we have data\\n  $: stats = $storeAll && $storeAll.length > 0 ? getStatusCounts() : { approved: 0, rejected: 0, pending: 0, totalPoints: 0 };\\n\\n  // Reload when navigating to submissions page\\n  $: if ($page.url.pathname === \\"/my-submissions\\" && currentUserId) {\\n    console.log(\\"[submissions] $page.url.pathname triggered reload\\");\\n    loadAllSubmissions(true);\\n  }\\n\\n  onMount(() => {\\n    console.log(\\"[submissions] onMount → initial loadAllSubmissions\\");\\n    loadAllSubmissions(true);\\n    \\n    // Setup tab focus handling\\n    const cleanup = setupEventHandlers();\\n    cleanupFunctions.push(cleanup);\\n  });\\n\\n  onDestroy(() => {\\n    // Cleanup all event listeners\\n    cleanupFunctions.forEach(cleanup => cleanup());\\n  });\\n<\/script>\\n\\n<Container size=\\"lg\\">\\n  <Hero title=\\"My Submissions\\" subtitle=\\"Track your brewing achievements and points\\" icon=\\"📋\\" center={true} />\\n\\n  {#if $loading}\\n    <LoadingSpinner message=\\"Loading your submissions...\\" />\\n  {:else if !currentUserId}\\n    <EmptyState\\n      icon=\\"🔒\\"\\n      title=\\"Authentication Required\\"\\n      message=\\"Please log in to view your submissions.\\"\\n      actionLabel=\\"Sign In\\"\\n      actionHref=\\"/login\\"\\n    />\\n  {:else}\\n    <!-- Stats Overview -->\\n    {#if !$loading && $storeAll && $storeAll.length > 0}\\n      <div class=\\"stats-section\\">\\n        <div class=\\"stats-grid\\">\\n          <div class=\\"stat-card approved\\">\\n            <div class=\\"stat-icon\\">✅</div>\\n            <div class=\\"stat-content\\">\\n              <div class=\\"stat-number\\">{stats?.approved || 0}</div>\\n              <div class=\\"stat-label\\">Approved</div>\\n            </div>\\n          </div>\\n          <div class=\\"stat-card pending\\">\\n            <div class=\\"stat-icon\\">⏳</div>\\n            <div class=\\"stat-content\\">\\n              <div class=\\"stat-number\\">{stats?.pending || 0}</div>\\n              <div class=\\"stat-label\\">Pending</div>\\n            </div>\\n          </div>\\n          <div class=\\"stat-card rejected\\">\\n            <div class=\\"stat-icon\\">❌</div>\\n            <div class=\\"stat-content\\">\\n              <div class=\\"stat-number\\">{stats?.rejected || 0}</div>\\n              <div class=\\"stat-label\\">Rejected</div>\\n            </div>\\n          </div>\\n          <div class=\\"stat-card points\\">\\n            <div class=\\"stat-icon\\">🏆</div>\\n            <div class=\\"stat-content\\">\\n              <div class=\\"stat-number\\">{stats?.totalPoints?.toLocaleString() || 0}</div>\\n              <div class=\\"stat-label\\">Total Points</div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    {:else if !$loading && currentUserId}\\n      <!-- Debug info - only show when not loading and user is logged in -->\\n      <div class=\\"debug-info\\" style=\\"background: #f0f0f0; padding: 1rem; margin: 1rem 0; font-family: monospace; text-align: left;\\">\\n        <div>Store All Length: {$storeAll?.length || 0}</div>\\n        <div>Store Message: {$storeMessage || 'none'}</div>\\n        <div>Loading: {$loading}</div>\\n        <div>Current User ID: {currentUserId || 'none'}</div>\\n        <div>Data: {JSON.stringify($storeAll?.slice(0, 2) || [], null, 2)}</div>\\n      </div>\\n    {/if}\\n\\n    <!-- Filter Controls -->\\n    <div class=\\"controls-section\\">\\n      <Button\\n        variant={showAll ? 'primary' : 'secondary'}\\n        on:click={toggleView}\\n      >\\n        {showAll ? \\"📋 Show All\\" : \\"⏳ Pending Only\\"}\\n      </Button>\\n      \\n      <div class=\\"view-info\\">\\n        <span class=\\"count-display\\">\\n          {submissions.length} {submissions.length === 1 ? 'submission' : 'submissions'}\\n          {showAll ? 'total' : 'pending'}\\n        </span>\\n      </div>\\n    </div>\\n\\n    {#if submissions.length > 0}\\n      <div class=\\"submissions-container\\">\\n        <!-- Desktop Table -->\\n        <div class=\\"table-wrapper\\">\\n          <table class=\\"desktop-table\\">\\n            <thead>\\n              <tr>\\n                <th\\n                  on:click={() => sortTable(\\"category\\")}\\n                  class=\\"sortable\\"\\n                  class:sort-asc={sortColumn === \\"category\\" && sortDirection === \\"asc\\"}\\n                  class:sort-desc={sortColumn === \\"category\\" && sortDirection === \\"desc\\"}>\\n                  Category\\n                </th>\\n                <th\\n                  on:click={() => sortTable(\\"description\\")}\\n                  class=\\"sortable\\"\\n                  class:sort-asc={sortColumn === \\"description\\" && sortDirection === \\"asc\\"}\\n                  class:sort-desc={sortColumn === \\"description\\" && sortDirection === \\"desc\\"}>\\n                  Description\\n                </th>\\n                <th\\n                  on:click={() => sortTable(\\"points\\")}\\n                  class=\\"sortable\\"\\n                  class:sort-asc={sortColumn === \\"points\\" && sortDirection === \\"asc\\"}\\n                  class:sort-desc={sortColumn === \\"points\\" && sortDirection === \\"desc\\"}>\\n                  Points\\n                </th>\\n                <th\\n                  on:click={() => sortTable(\\"event_date\\")}\\n                  class=\\"sortable\\"\\n                  class:sort-asc={sortColumn === \\"event_date\\" && sortDirection === \\"asc\\"}\\n                  class:sort-desc={sortColumn === \\"event_date\\" && sortDirection === \\"desc\\"}>\\n                  Event Date\\n                </th>\\n                <th>Status</th>\\n                <th>Reason</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              {#each submissions as s}\\n                <tr class=\\"submission-row\\">\\n                  <td class=\\"category-cell\\">{s.category}</td>\\n                  <td class=\\"description-cell\\">{s.description}</td>\\n                  <td class=\\"points-cell\\">{s.points}</td>\\n                  <td class=\\"date-cell\\">{formatDate(s.event_date)}</td>\\n                  <td class=\\"status-cell\\">\\n                    <span class=\\"status-badge {formatStatus(s).class}\\">\\n                      <span class=\\"status-icon\\">{formatStatus(s).icon}</span>\\n                      {formatStatus(s).text}\\n                    </span>\\n                  </td>\\n                  <td class=\\"reason-cell\\">\\n                    {#if s.rejection_reason}\\n                      <span class=\\"rejection-reason\\">{s.rejection_reason}</span>\\n                    {:else}\\n                      <span class=\\"no-reason\\">—</span>\\n                    {/if}\\n                  </td>\\n                </tr>\\n              {/each}\\n            </tbody>\\n          </table>\\n        </div>\\n\\n        <!-- Mobile Cards -->\\n        <div class=\\"mobile-cards\\">\\n          {#each submissions as s}\\n            <div class=\\"mobile-card\\">\\n              <div class=\\"card-header\\">\\n                <div class=\\"category-badge\\">{s.category}</div>\\n                <span class=\\"status-badge {formatStatus(s).class}\\">\\n                  <span class=\\"status-icon\\">{formatStatus(s).icon}</span>\\n                  {formatStatus(s).text}\\n                </span>\\n              </div>\\n              \\n              <div class=\\"card-body\\">\\n                <div class=\\"card-row\\">\\n                  <span class=\\"label\\">Description:</span>\\n                  <span class=\\"value\\">{s.description}</span>\\n                </div>\\n                <div class=\\"card-row\\">\\n                  <span class=\\"label\\">Points:</span>\\n                  <span class=\\"value points-value\\">{s.points}</span>\\n                </div>\\n                <div class=\\"card-row\\">\\n                  <span class=\\"label\\">Event Date:</span>\\n                  <span class=\\"value\\">{formatDate(s.event_date)}</span>\\n                </div>\\n                {#if s.rejection_reason}\\n                  <div class=\\"card-row rejection-row\\">\\n                    <span class=\\"label\\">Reason:</span>\\n                    <span class=\\"value rejection-text\\">{s.rejection_reason}</span>\\n                  </div>\\n                {/if}\\n              </div>\\n            </div>\\n          {/each}\\n        </div>\\n      </div>\\n    {:else}\\n      <div class=\\"empty-state\\">\\n        <div class=\\"empty-icon\\">\\n          {#if showAll}\\n            📋\\n          {:else}\\n            ⏳\\n          {/if}\\n        </div>\\n        <h3>\\n          {#if showAll}\\n            No Submissions Found\\n          {:else}\\n            No Pending Submissions\\n          {/if}\\n        </h3>\\n        <p>{message}</p>\\n        {#if !showAll && $storeAll && $storeAll.length > 0}\\n          <button on:click={toggleView} class=\\"toggle-button\\">\\n            View All Submissions\\n          </button>\\n        {:else}\\n          <a href=\\"/submit\\" class=\\"submit-button\\">Submit Points</a>\\n        {/if}\\n      </div>\\n    {/if}\\n  {/if}\\n</Container>\\n\\n<style>\\n\\n  /* Stats Section */\\n  .stats-section {\\n    margin-bottom: 2rem;\\n  }\\n\\n  .stats-grid {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n    gap: 1rem;\\n    max-width: 800px;\\n    margin: 0 auto;\\n  }\\n\\n  .stat-card {\\n    background: white;\\n    border-radius: 6px;\\n    padding: 1.5rem;\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n    display: flex;\\n    align-items: center;\\n    gap: 1rem;\\n    border-left: 4px solid;\\n  }\\n\\n  .stat-card.approved { border-left-color: #059669; }\\n  .stat-card.pending { border-left-color: #d97706; }\\n  .stat-card.rejected { border-left-color: #dc2626; }\\n  .stat-card.points { border-left-color: #ff3e00; }\\n\\n  .stat-icon {\\n    font-size: 2rem;\\n  }\\n\\n  .stat-number {\\n    font-size: 2rem;\\n    font-weight: 700;\\n    color: #333;\\n    line-height: 1;\\n  }\\n\\n  .stat-label {\\n    font-size: 0.9rem;\\n    color: #666;\\n    font-weight: 500;\\n  }\\n\\n  /* Controls Section */\\n  .controls-section {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-bottom: var(--space-8);\\n    padding: var(--space-4);\\n    background: white;\\n    border-radius: var(--radius-md);\\n    box-shadow: var(--shadow-md);\\n  }\\n\\n  .count-display {\\n    font-weight: 500;\\n    color: #666;\\n  }\\n\\n  /* Table Styles */\\n  .submissions-container {\\n    background: white;\\n    border-radius: 6px;\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n    overflow: hidden;\\n  }\\n\\n  .table-wrapper {\\n    overflow-x: auto;\\n  }\\n\\n  .desktop-table {\\n    width: 100%;\\n    border-collapse: collapse;\\n  }\\n\\n  .desktop-table th {\\n    background: #f8fafc;\\n    padding: 1rem;\\n    text-align: left;\\n    font-weight: 600;\\n    color: #333;\\n    border-bottom: 2px solid #e5e7eb;\\n    white-space: nowrap;\\n  }\\n\\n  .desktop-table th.sortable {\\n    cursor: pointer;\\n    user-select: none;\\n    position: relative;\\n    transition: background-color 0.2s;\\n  }\\n\\n  .desktop-table th.sortable:hover {\\n    background: #f1f5f9;\\n  }\\n\\n  .desktop-table th.sort-asc::after {\\n    content: \\" ▲\\";\\n    font-size: 0.75rem;\\n    color: #ff3e00;\\n  }\\n\\n  .desktop-table th.sort-desc::after {\\n    content: \\" ▼\\";\\n    font-size: 0.75rem;\\n    color: #ff3e00;\\n  }\\n\\n  .desktop-table td {\\n    padding: 1rem;\\n    border-bottom: 1px solid #f1f5f9;\\n    vertical-align: middle;\\n  }\\n\\n  .submission-row {\\n    transition: background-color 0.2s;\\n  }\\n\\n  .submission-row:hover {\\n    background-color: #f8fafc;\\n  }\\n\\n  .category-cell {\\n    font-weight: 500;\\n    color: #333;\\n  }\\n\\n  .points-cell {\\n    font-weight: 700;\\n    color: #ff3e00;\\n  }\\n\\n  .status-badge {\\n    display: inline-flex;\\n    align-items: center;\\n    gap: 0.25rem;\\n    padding: 0.25rem 0.75rem;\\n    border-radius: 12px;\\n    font-size: 0.8rem;\\n    font-weight: 600;\\n    white-space: nowrap;\\n  }\\n\\n  .status-badge.status-approved {\\n    background: #dcfce7;\\n    color: #166534;\\n  }\\n\\n  .status-badge.status-pending {\\n    background: #fef3c7;\\n    color: #92400e;\\n  }\\n\\n  .status-badge.status-rejected {\\n    background: #fecaca;\\n    color: #991b1b;\\n  }\\n\\n  .rejection-reason {\\n    color: #dc2626;\\n    font-style: italic;\\n    font-size: 0.9rem;\\n  }\\n\\n  .no-reason {\\n    color: #9ca3af;\\n  }\\n\\n  /* Mobile Cards */\\n  .mobile-cards {\\n    display: none;\\n  }\\n\\n  .mobile-card {\\n    border-bottom: 1px solid #f1f5f9;\\n    padding: 1.5rem;\\n  }\\n\\n  .mobile-card:last-child {\\n    border-bottom: none;\\n  }\\n\\n  .card-header {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .category-badge {\\n    background: #f3f4f6;\\n    color: #374151;\\n    padding: 0.25rem 0.75rem;\\n    border-radius: 6px;\\n    font-size: 0.85rem;\\n    font-weight: 600;\\n  }\\n\\n  .card-body {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 0.75rem;\\n  }\\n\\n  .card-row {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n\\n  .card-row .label {\\n    font-weight: 500;\\n    color: #666;\\n    min-width: 100px;\\n  }\\n\\n  .card-row .value {\\n    font-weight: 600;\\n    color: #333;\\n    text-align: right;\\n  }\\n\\n  .points-value {\\n    color: #ff3e00;\\n  }\\n\\n  .rejection-row {\\n    background: #fef2f2;\\n    border: 1px solid #fecaca;\\n    border-radius: 4px;\\n    padding: 0.75rem;\\n    margin-top: 0.5rem;\\n  }\\n\\n  .rejection-text {\\n    color: #dc2626;\\n    font-style: italic;\\n  }\\n\\n  /* Empty State - minimal styles, EmptyState component handles most */\\n  .empty-state {\\n    background: white;\\n    border-radius: var(--radius-md);\\n    padding: var(--space-12) var(--space-8);\\n    box-shadow: var(--shadow-md);\\n    text-align: center;\\n  }\\n\\n  .empty-icon {\\n    font-size: 4rem;\\n    margin-bottom: var(--space-4);\\n  }\\n\\n  .empty-state h3 {\\n    color: var(--color-text-primary);\\n    font-size: var(--font-size-2xl);\\n    margin-bottom: var(--space-4);\\n    text-transform: none;\\n  }\\n\\n  .empty-state p {\\n    color: var(--color-text-secondary);\\n    margin-bottom: var(--space-8);\\n    font-size: var(--font-size-lg);\\n  }\\n\\n  .submit-button,\\n  .toggle-button {\\n    background-color: var(--color-brand-primary);\\n    color: white;\\n    text-decoration: none;\\n    border: none;\\n    border-radius: var(--radius-md);\\n    padding: var(--space-3) var(--space-8);\\n    font-size: var(--font-size-base);\\n    font-weight: var(--font-weight-medium);\\n    cursor: pointer;\\n    display: inline-block;\\n    transition: all var(--transition-base);\\n  }\\n\\n  .submit-button:hover,\\n  .toggle-button:hover {\\n    background-color: var(--color-brand-primary-hover);\\n    transform: translateY(-2px);\\n    box-shadow: var(--shadow-lg);\\n  }\\n\\n  /* Mobile Responsive */\\n  @media (max-width: 768px) {\\n\\n    .stats-grid {\\n      grid-template-columns: repeat(2, 1fr);\\n      gap: 0.75rem;\\n    }\\n\\n    .stat-card {\\n      padding: 1rem;\\n    }\\n\\n    .stat-icon {\\n      font-size: 1.5rem;\\n    }\\n\\n    .stat-number {\\n      font-size: 1.5rem;\\n    }\\n\\n    .controls-section {\\n      flex-direction: column;\\n      gap: 1rem;\\n      text-align: center;\\n    }\\n\\n    .table-wrapper {\\n      display: none;\\n    }\\n\\n    .mobile-cards {\\n      display: block;\\n    }\\n\\n  }\\n\\n  @media (max-width: 480px) {\\n    .stats-grid {\\n      grid-template-columns: 1fr;\\n    }\\n\\n    .card-row {\\n      flex-direction: column;\\n      align-items: flex-start;\\n      gap: 0.25rem;\\n    }\\n\\n    .card-row .value {\\n      text-align: left;\\n    }\\n  }\\n\\n  @media (min-width: 769px) {\\n    .mobile-cards {\\n      display: none;\\n    }\\n  }\\n</style>"],"names":[],"mappings":"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"}`
};
function formatStatus(sub) {
  if (sub.approved === true) return {
    text: "Approved",
    icon: "✅",
    class: "status-approved"
  };
  if (sub.rejection_reason) return {
    text: "Rejected",
    icon: "❌",
    class: "status-rejected"
  };
  return {
    text: "Pending",
    icon: "⏳",
    class: "status-pending"
  };
}
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let stats;
  let $page, $$unsubscribe_page;
  let $storeAll, $$unsubscribe_storeAll;
  let $storeMessage, $$unsubscribe_storeMessage;
  let $userProfile, $$unsubscribe_userProfile;
  let $loading, $$unsubscribe_loading;
  $$unsubscribe_page = subscribe(page, (value) => $page = value);
  $$unsubscribe_storeAll = subscribe(allSubmissions, (value) => $storeAll = value);
  $$unsubscribe_storeMessage = subscribe(message, (value) => $storeMessage = value);
  $$unsubscribe_userProfile = subscribe(userProfile, (value) => $userProfile = value);
  $$unsubscribe_loading = subscribe(loading, (value) => $loading = value);
  let submissions = [];
  let message$1 = "";
  let sortColumn = "event_date";
  let sortDirection = "desc";
  let lastUserId = null;
  let currentUserId;
  let cleanupFunctions = [];
  async function loadAllSubmissions(force = false) {
    if (!currentUserId) {
      message$1 = "Please log in to view your submissions.";
      allSubmissions.set([]);
      return;
    }
    await loadMySubmissions(currentUserId, sortColumn, sortDirection, force);
    message$1 = $storeMessage;
  }
  function getStatusCounts() {
    const allSubs = $storeAll || [];
    console.log("Stats calculation - allSubs:", allSubs.length, allSubs);
    const approved = allSubs.filter((s) => s.approved === true).length;
    const rejected = allSubs.filter((s) => s.rejection_reason).length;
    const pending = allSubs.filter((s) => s.approved === false && !s.rejection_reason).length;
    const totalPoints = allSubs.filter((s) => s.approved === true).reduce((sum, s) => sum + (s.points || 0), 0);
    console.log("Stats result:", { approved, rejected, pending, totalPoints });
    return { approved, rejected, pending, totalPoints };
  }
  onDestroy(() => {
    cleanupFunctions.forEach((cleanup) => cleanup());
  });
  $$result.css.add(css);
  currentUserId = $userProfile?.id;
  {
    if (currentUserId && currentUserId !== lastUserId) {
      lastUserId = currentUserId;
      loadAllSubmissions(true);
    }
  }
  {
    {
      const list = $storeAll;
      if ($storeMessage) {
        submissions = list ?? [];
        message$1 = $storeMessage;
      } else if (!list) {
        submissions = [];
        message$1 = "No submissions found.";
      } else {
        const pending = list.filter((sub) => sub.approved === false && sub.rejection_reason === null);
        submissions = pending;
        message$1 = pending.length > 0 ? "" : "No pending submissions found.";
      }
    }
  }
  stats = $storeAll && $storeAll.length > 0 ? getStatusCounts() : {
    approved: 0,
    rejected: 0,
    pending: 0,
    totalPoints: 0
  };
  {
    if ($page.url.pathname === "/my-submissions" && currentUserId) {
      console.log("[submissions] $page.url.pathname triggered reload");
      loadAllSubmissions(true);
    }
  }
  $$unsubscribe_page();
  $$unsubscribe_storeAll();
  $$unsubscribe_storeMessage();
  $$unsubscribe_userProfile();
  $$unsubscribe_loading();
  return `${validate_component(Container, "Container").$$render($$result, { size: "lg" }, {}, {
    default: () => {
      return `${validate_component(Hero, "Hero").$$render(
        $$result,
        {
          title: "My Submissions",
          subtitle: "Track your brewing achievements and points",
          icon: "📋",
          center: true
        },
        {},
        {}
      )} ${$loading ? `${validate_component(LoadingSpinner, "LoadingSpinner").$$render($$result, { message: "Loading your submissions..." }, {}, {})}` : `${!currentUserId ? `${validate_component(EmptyState, "EmptyState").$$render(
        $$result,
        {
          icon: "🔒",
          title: "Authentication Required",
          message: "Please log in to view your submissions.",
          actionLabel: "Sign In",
          actionHref: "/login"
        },
        {},
        {}
      )}` : ` ${!$loading && $storeAll && $storeAll.length > 0 ? `<div class="stats-section svelte-iwynd3"><div class="stats-grid svelte-iwynd3"><div class="stat-card approved svelte-iwynd3"><div class="stat-icon svelte-iwynd3" data-svelte-h="svelte-1vwwmbk">✅</div> <div class="stat-content"><div class="stat-number svelte-iwynd3">${escape(stats?.approved || 0)}</div> <div class="stat-label svelte-iwynd3" data-svelte-h="svelte-1fy62d5">Approved</div></div></div> <div class="stat-card pending svelte-iwynd3"><div class="stat-icon svelte-iwynd3" data-svelte-h="svelte-jdd5wu">⏳</div> <div class="stat-content"><div class="stat-number svelte-iwynd3">${escape(stats?.pending || 0)}</div> <div class="stat-label svelte-iwynd3" data-svelte-h="svelte-1o4fkd1">Pending</div></div></div> <div class="stat-card rejected svelte-iwynd3"><div class="stat-icon svelte-iwynd3" data-svelte-h="svelte-z5l57j">❌</div> <div class="stat-content"><div class="stat-number svelte-iwynd3">${escape(stats?.rejected || 0)}</div> <div class="stat-label svelte-iwynd3" data-svelte-h="svelte-1eic7q8">Rejected</div></div></div> <div class="stat-card points svelte-iwynd3"><div class="stat-icon svelte-iwynd3" data-svelte-h="svelte-cwrisn">🏆</div> <div class="stat-content"><div class="stat-number svelte-iwynd3">${escape(stats?.totalPoints?.toLocaleString() || 0)}</div> <div class="stat-label svelte-iwynd3" data-svelte-h="svelte-tth6u3">Total Points</div></div></div></div></div>` : `${!$loading && currentUserId ? ` <div class="debug-info" style="background: #f0f0f0; padding: 1rem; margin: 1rem 0; font-family: monospace; text-align: left;"><div>Store All Length: ${escape($storeAll?.length || 0)}</div> <div>Store Message: ${escape($storeMessage || "none")}</div> <div>Loading: ${escape($loading)}</div> <div>Current User ID: ${escape(currentUserId || "none")}</div> <div>Data: ${escape(JSON.stringify($storeAll?.slice(0, 2) || [], null, 2))}</div></div>` : ``}`}  <div class="controls-section svelte-iwynd3">${validate_component(Button, "Button").$$render(
        $$result,
        {
          variant: "secondary"
        },
        {},
        {
          default: () => {
            return `${escape("⏳ Pending Only")}`;
          }
        }
      )} <div class="view-info"><span class="count-display svelte-iwynd3">${escape(submissions.length)} ${escape(submissions.length === 1 ? "submission" : "submissions")} ${escape("pending")}</span></div></div> ${submissions.length > 0 ? `<div class="submissions-container svelte-iwynd3"> <div class="table-wrapper svelte-iwynd3"><table class="desktop-table svelte-iwynd3"><thead><tr><th class="${[
        "sortable svelte-iwynd3",
        " "
      ].join(" ").trim()}" data-svelte-h="svelte-1xkofps">Category</th> <th class="${[
        "sortable svelte-iwynd3",
        " "
      ].join(" ").trim()}" data-svelte-h="svelte-103rnjg">Description</th> <th class="${[
        "sortable svelte-iwynd3",
        " "
      ].join(" ").trim()}" data-svelte-h="svelte-1f5az52">Points</th> <th class="${[
        "sortable svelte-iwynd3",
        " sort-desc"
      ].join(" ").trim()}" data-svelte-h="svelte-1uq2j65">Event Date</th> <th class="svelte-iwynd3" data-svelte-h="svelte-bi34jg">Status</th> <th class="svelte-iwynd3" data-svelte-h="svelte-whh8g2">Reason</th></tr></thead> <tbody>${each(submissions, (s) => {
        return `<tr class="submission-row svelte-iwynd3"><td class="category-cell svelte-iwynd3">${escape(s.category)}</td> <td class="description-cell svelte-iwynd3">${escape(s.description)}</td> <td class="points-cell svelte-iwynd3">${escape(s.points)}</td> <td class="date-cell svelte-iwynd3">${escape(formatDate(s.event_date))}</td> <td class="status-cell svelte-iwynd3"><span class="${"status-badge " + escape(formatStatus(s).class, true) + " svelte-iwynd3"}"><span class="status-icon">${escape(formatStatus(s).icon)}</span> ${escape(formatStatus(s).text)} </span></td> <td class="reason-cell svelte-iwynd3">${s.rejection_reason ? `<span class="rejection-reason svelte-iwynd3">${escape(s.rejection_reason)}</span>` : `<span class="no-reason svelte-iwynd3" data-svelte-h="svelte-55qnxv">—</span>`}</td> </tr>`;
      })}</tbody></table></div>  <div class="mobile-cards svelte-iwynd3">${each(submissions, (s) => {
        return `<div class="mobile-card svelte-iwynd3"><div class="card-header svelte-iwynd3"><div class="category-badge svelte-iwynd3">${escape(s.category)}</div> <span class="${"status-badge " + escape(formatStatus(s).class, true) + " svelte-iwynd3"}"><span class="status-icon">${escape(formatStatus(s).icon)}</span> ${escape(formatStatus(s).text)} </span></div> <div class="card-body svelte-iwynd3"><div class="card-row svelte-iwynd3"><span class="label svelte-iwynd3" data-svelte-h="svelte-18hxrur">Description:</span> <span class="value svelte-iwynd3">${escape(s.description)}</span></div> <div class="card-row svelte-iwynd3"><span class="label svelte-iwynd3" data-svelte-h="svelte-11v1tm">Points:</span> <span class="value points-value svelte-iwynd3">${escape(s.points)}</span></div> <div class="card-row svelte-iwynd3"><span class="label svelte-iwynd3" data-svelte-h="svelte-1c8g29x">Event Date:</span> <span class="value svelte-iwynd3">${escape(formatDate(s.event_date))}</span></div> ${s.rejection_reason ? `<div class="card-row rejection-row svelte-iwynd3"><span class="label svelte-iwynd3" data-svelte-h="svelte-1ynsys5">Reason:</span> <span class="value rejection-text svelte-iwynd3">${escape(s.rejection_reason)}</span> </div>` : ``}</div> </div>`;
      })}</div></div>` : `<div class="empty-state svelte-iwynd3"><div class="empty-icon svelte-iwynd3">${`⏳`}</div> <h3 class="svelte-iwynd3">${`No Pending Submissions`}</h3> <p class="svelte-iwynd3">${escape(message$1)}</p> ${$storeAll && $storeAll.length > 0 ? `<button class="toggle-button svelte-iwynd3" data-svelte-h="svelte-12i0hvs">View All Submissions</button>` : `<a href="/submit" class="submit-button svelte-iwynd3" data-svelte-h="svelte-1h3e8sw">Submit Points</a>`}</div>`}`}`}`;
    }
  })}`;
});

export { Page as default };
//# sourceMappingURL=_page.svelte-DLmGck0B.js.map
