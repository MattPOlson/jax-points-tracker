import { c as create_ssr_component, a as subscribe, o as onDestroy, v as validate_component, d as escape, e as each } from './ssr-CFMHIens.js';
import './supabaseClient-D_8i9Ohq.js';
import './Toaster.svelte_svelte_type_style_lang-BKJPPWO5.js';
import { u as user } from './user-DxtT6N6z.js';
import { u as userProfile } from './userProfile-BAUZwBX2.js';
import { l as loadApprovals, m as message, a as approvals, b as loading } from './approvalsStore-CHiNxnnz.js';
import { p as page } from './stores-C-uFbAzB.js';
import { f as formatDate } from './dateUtils-D_vm5-qZ.js';
import { B as Button } from './Button-DfG06A7O.js';
import { H as Hero } from './Hero-B5bq0fDE.js';
import { L as LoadingSpinner } from './LoadingSpinner-DyPK4ei8.js';
import { E as EmptyState } from './EmptyState-OwOXOni3.js';
import { C as Container } from './Container-C5rGKtUK.js';
import '@supabase/supabase-js';
import './index-Ct3aIOD7.js';
import './false-CRHihH2U.js';
import './client-C3KLrhj1.js';
import './exports-DKuYoYKl.js';

const css = {
  code: ".summary-card.svelte-ar8wml.svelte-ar8wml{background:white;border-radius:6px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 6px rgba(0, 0, 0, 0.1);border-left:4px solid #ff3e00;display:flex;align-items:center;gap:1rem;max-width:400px;margin-left:auto;margin-right:auto;margin-bottom:2rem}.summary-icon.svelte-ar8wml.svelte-ar8wml{font-size:2.5rem}.summary-number.svelte-ar8wml.svelte-ar8wml{font-size:2rem;font-weight:700;color:#ff3e00;line-height:1}.summary-label.svelte-ar8wml.svelte-ar8wml{font-size:0.9rem;color:#666;font-weight:500}.submissions-container.svelte-ar8wml.svelte-ar8wml{text-align:left}.table-wrapper.svelte-ar8wml.svelte-ar8wml{background:white;border-radius:6px;box-shadow:0 4px 6px rgba(0, 0, 0, 0.1);overflow:hidden;overflow-x:auto}.desktop-table.svelte-ar8wml.svelte-ar8wml{width:100%;border-collapse:collapse;min-width:800px}.desktop-table.svelte-ar8wml th.svelte-ar8wml{background:#f8fafc;padding:1rem;text-align:left;font-weight:600;color:#333;border-bottom:2px solid #e5e7eb;white-space:nowrap}.desktop-table.svelte-ar8wml td.svelte-ar8wml{padding:1rem;border-bottom:1px solid #f1f5f9;vertical-align:middle}.submission-row.svelte-ar8wml.svelte-ar8wml{transition:background-color 0.2s}.submission-row.svelte-ar8wml.svelte-ar8wml:hover{background-color:#f8fafc}.member-info.svelte-ar8wml.svelte-ar8wml{display:flex;align-items:center;gap:0.75rem}.member-avatar.svelte-ar8wml.svelte-ar8wml{width:36px;height:36px;border-radius:50%;background:#ff3e00;color:white;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:0.9rem;flex-shrink:0}.member-name.svelte-ar8wml.svelte-ar8wml{font-weight:500;color:#333}.category-badge.svelte-ar8wml.svelte-ar8wml{background:#f3f4f6;color:#374151;padding:0.25rem 0.75rem;border-radius:6px;font-size:0.85rem;font-weight:600}.points-value.svelte-ar8wml.svelte-ar8wml{font-weight:700;color:#ff3e00;font-size:1.1rem}.action-buttons.svelte-ar8wml.svelte-ar8wml{display:flex;gap:0.5rem;flex-wrap:wrap}.approve-btn.svelte-ar8wml.svelte-ar8wml{background-color:#059669;color:white;border:none;border-radius:6px;padding:0.5rem 1rem;font-size:0.85rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.approve-btn.svelte-ar8wml.svelte-ar8wml:hover:not(:disabled){background-color:#047857;transform:translateY(-1px)}.reject-btn.svelte-ar8wml.svelte-ar8wml{background-color:#dc2626;color:white;border:none;border-radius:6px;padding:0.5rem 1rem;font-size:0.85rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.reject-btn.svelte-ar8wml.svelte-ar8wml:hover:not(:disabled){background-color:#b91c1c;transform:translateY(-1px)}.approve-btn.svelte-ar8wml.svelte-ar8wml:disabled,.reject-btn.svelte-ar8wml.svelte-ar8wml:disabled{opacity:0.6;cursor:not-allowed;transform:none}.mobile-cards.svelte-ar8wml.svelte-ar8wml{display:none}.mobile-card.svelte-ar8wml.svelte-ar8wml{background:white;border-radius:6px;padding:1.5rem;margin-bottom:1rem;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1);border-left:4px solid #ff3e00}.card-header.svelte-ar8wml.svelte-ar8wml{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.member-details.svelte-ar8wml.svelte-ar8wml{display:flex;flex-direction:column}.submission-date.svelte-ar8wml.svelte-ar8wml{font-size:0.8rem;color:#666}.card-body.svelte-ar8wml.svelte-ar8wml{display:flex;flex-direction:column;gap:0.75rem;margin-bottom:1.5rem}.card-row.svelte-ar8wml.svelte-ar8wml{display:flex;justify-content:space-between;align-items:center}.card-row.svelte-ar8wml .label.svelte-ar8wml{font-weight:500;color:#666;min-width:100px}.card-row.svelte-ar8wml .value.svelte-ar8wml{font-weight:600;color:#333;text-align:right}.card-actions.svelte-ar8wml.svelte-ar8wml{display:flex;gap:0.75rem}.approve-btn.mobile.svelte-ar8wml.svelte-ar8wml,.reject-btn.mobile.svelte-ar8wml.svelte-ar8wml{flex:1;padding:0.75rem 1rem;font-size:0.9rem}.message-banner.svelte-ar8wml.svelte-ar8wml{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:1rem;border-radius:6px;margin:1rem 0;text-align:center}.modal-overlay.svelte-ar8wml.svelte-ar8wml{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0, 0, 0, 0.5);display:flex;justify-content:center;align-items:center;z-index:1000;padding:1rem}.modal.svelte-ar8wml.svelte-ar8wml{background:white;border-radius:6px;max-width:500px;width:100%;box-shadow:0 10px 25px rgba(0, 0, 0, 0.3);max-height:90vh;overflow-y:auto}.modal-header.svelte-ar8wml.svelte-ar8wml{padding:1.5rem 1.5rem 0;border-bottom:1px solid #e5e7eb}.modal-header.svelte-ar8wml h3.svelte-ar8wml{color:#333;font-size:1.25rem;margin:0 0 1rem 0;text-transform:none}.modal-body.svelte-ar8wml.svelte-ar8wml{padding:1.5rem}.submission-preview.svelte-ar8wml.svelte-ar8wml{background:#f8fafc;border-radius:6px;padding:1rem;margin-bottom:1.5rem}.preview-row.svelte-ar8wml.svelte-ar8wml{display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0;border-bottom:1px solid #e5e7eb}.preview-row.svelte-ar8wml.svelte-ar8wml:last-child{border-bottom:none}.preview-label.svelte-ar8wml.svelte-ar8wml{font-weight:500;color:#666}.preview-value.svelte-ar8wml.svelte-ar8wml{font-weight:600;color:#333}.points-highlight.svelte-ar8wml.svelte-ar8wml{color:#ff3e00;font-size:1.1rem}.confirmation-text.svelte-ar8wml.svelte-ar8wml{color:#666;text-align:center;margin:0}.reason-section.svelte-ar8wml.svelte-ar8wml{margin-top:1rem}.reason-label.svelte-ar8wml.svelte-ar8wml{display:block;font-weight:500;color:#333;margin-bottom:0.5rem}textarea.svelte-ar8wml.svelte-ar8wml{width:100%;border:1px solid #d1d5db;border-radius:6px;padding:0.75rem;font-size:1rem;font-family:inherit;resize:vertical;min-height:100px;box-sizing:border-box;transition:border-color 0.2s}textarea.svelte-ar8wml.svelte-ar8wml:focus{outline:none;border-color:#ff3e00;box-shadow:0 0 0 1px #ff3e00}textarea.svelte-ar8wml.svelte-ar8wml:disabled{background-color:#f9fafb;color:#6b7280;cursor:not-allowed}.modal-actions.svelte-ar8wml.svelte-ar8wml{padding:0 1.5rem 1.5rem;display:flex;gap:1rem;justify-content:flex-end}.confirm-approve-btn.svelte-ar8wml.svelte-ar8wml{background-color:#059669;color:white;border:none;border-radius:6px;padding:0.75rem 1.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;gap:0.5rem}.confirm-approve-btn.svelte-ar8wml.svelte-ar8wml:hover:not(:disabled){background-color:#047857}.confirm-reject-btn.svelte-ar8wml.svelte-ar8wml{background-color:#dc2626;color:white;border:none;border-radius:6px;padding:0.75rem 1.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;gap:0.5rem}.confirm-reject-btn.svelte-ar8wml.svelte-ar8wml:hover:not(:disabled){background-color:#b91c1c}.cancel-btn.svelte-ar8wml.svelte-ar8wml{background-color:#6b7280;color:white;border:none;border-radius:6px;padding:0.75rem 1.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.cancel-btn.svelte-ar8wml.svelte-ar8wml:hover:not(:disabled){background-color:#4b5563}.confirm-approve-btn.svelte-ar8wml.svelte-ar8wml:disabled,.confirm-reject-btn.svelte-ar8wml.svelte-ar8wml:disabled,.cancel-btn.svelte-ar8wml.svelte-ar8wml:disabled{opacity:0.6;cursor:not-allowed}.button-spinner.svelte-ar8wml.svelte-ar8wml{width:16px;height:16px;border:2px solid rgba(255, 255, 255, 0.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite}@media(max-width: 768px){.summary-card.svelte-ar8wml.svelte-ar8wml{padding:1rem;margin-bottom:1.5rem}.summary-icon.svelte-ar8wml.svelte-ar8wml{font-size:2rem}.summary-number.svelte-ar8wml.svelte-ar8wml{font-size:1.5rem}.table-wrapper.svelte-ar8wml.svelte-ar8wml{display:none}.mobile-cards.svelte-ar8wml.svelte-ar8wml{display:block}.card-header.svelte-ar8wml .member-info.svelte-ar8wml{flex-direction:column;align-items:flex-start;gap:0.5rem}.card-row.svelte-ar8wml.svelte-ar8wml{flex-direction:column;align-items:flex-start;gap:0.25rem}.card-row.svelte-ar8wml .value.svelte-ar8wml{text-align:left}.card-actions.svelte-ar8wml.svelte-ar8wml{flex-direction:column}.modal.svelte-ar8wml.svelte-ar8wml{margin:1rem;max-width:none}.modal-actions.svelte-ar8wml.svelte-ar8wml{flex-direction:column-reverse}}@media(max-width: 480px){.summary-card.svelte-ar8wml.svelte-ar8wml{flex-direction:column;text-align:center;gap:0.75rem}.member-info.svelte-ar8wml.svelte-ar8wml{gap:0.5rem}.member-avatar.svelte-ar8wml.svelte-ar8wml{width:32px;height:32px;font-size:0.8rem}.mobile-card.svelte-ar8wml.svelte-ar8wml{padding:1rem}.preview-row.svelte-ar8wml.svelte-ar8wml{flex-direction:column;align-items:flex-start;gap:0.25rem}}@media(min-width: 769px){.mobile-cards.svelte-ar8wml.svelte-ar8wml{display:none}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n  import { supabase } from \\"$lib/supabaseClient\\";\\n  import { onMount, onDestroy } from \\"svelte\\";\\n  import toast from \\"svelte-french-toast\\";\\n  import { user } from \\"$lib/stores/user\\";\\n  import { userProfile } from \\"$lib/stores/userProfile\\";\\n  import {\\n    approvals as storeApprovals,\\n    message as storeMessage,\\n    loadApprovals,\\n    loading,\\n  } from \\"$lib/stores/approvalsStore.js\\";\\n  import { page } from \\"$app/stores\\";\\n  import { formatDate, formatSubmissionTime } from \\"$lib/utils/dateUtils.js\\";\\n  import { Hero, Container, LoadingSpinner, EmptyState, Button } from '$lib/components/ui';\\n\\n  let message = \\"\\";\\n  let showApprovalModal = false;\\n  let showRejectModal = false;\\n  let selectedSubmission = null;\\n  let rejectionReason = \\"\\";\\n  let isProcessing = false;\\n  let cleanupFunctions = [];\\n\\n  $: submissions = $storeApprovals;\\n  $: message = $storeMessage;\\n\\n  // Setup tab focus handler with F5 fix\\n  // Removed tab visibility handler - causes issues with Supabase tab switching\\n  function setupEventHandlers() {\\n    // Tab visibility handling removed for better Supabase compatibility\\n    return () => {\\n      // No cleanup needed now\\n    };\\n  }\\n\\n  // Check if user is authorized\\n  $: isAuthorized = $user && $userProfile?.is_officer;\\n\\n  // Load data when authorized\\n  $: if (isAuthorized) {\\n    loadApprovals(true);\\n  }\\n\\n  // Format date helper\\n  //function formatDate(dateString) {\\n  ///  try {\\n  //    return new Date(dateString).toLocaleDateString('en-US', {\\n  //      year: 'numeric',\\n  //      month: 'short',\\n  //      day: 'numeric'\\n  //    });\\n  //  } catch {\\n  //    return 'Invalid Date';\\n  //  }\\n  //}\\n\\n  // Open approval modal\\n  function openApproval(submission) {\\n    selectedSubmission = submission;\\n    showApprovalModal = true;\\n  }\\n\\n  // Confirm approval\\n  async function confirmApproval() {\\n    if (!selectedSubmission || isProcessing) return;\\n\\n    isProcessing = true;\\n    try {\\n      const { error } = await supabase\\n        .from(\\"point_submissions\\")\\n        .update({ approved: true, updated_at: new Date().toISOString() })\\n        .eq(\\"id\\", selectedSubmission.id);\\n\\n      if (error) throw error;\\n\\n      toast.success(\\n        \`‚úÖ Approved \${selectedSubmission.member.name}'s submission for \${selectedSubmission.points} points!\`,\\n      );\\n\\n      // Remove from store\\n      storeApprovals.update((current) =>\\n        current.filter((s) => s.id !== selectedSubmission.id),\\n      );\\n\\n      closeApprovalModal();\\n    } catch (error) {\\n      console.error(\\"Approval error:\\", error);\\n      toast.error(\\"Failed to approve submission. Please try again.\\");\\n    } finally {\\n      isProcessing = false;\\n    }\\n  }\\n\\n  // Close approval modal\\n  function closeApprovalModal() {\\n    showApprovalModal = false;\\n    selectedSubmission = null;\\n  }\\n\\n  // Open reject modal\\n  function openReject(submission) {\\n    selectedSubmission = submission;\\n    rejectionReason = \\"\\";\\n    showRejectModal = true;\\n  }\\n\\n  // Confirm rejection\\n  async function confirmReject() {\\n    if (!rejectionReason.trim() || isProcessing) {\\n      toast.error(\\"Please enter a reason for rejection.\\");\\n      return;\\n    }\\n\\n    isProcessing = true;\\n    try {\\n      const { error } = await supabase\\n        .from(\\"point_submissions\\")\\n        .update({\\n          rejection_reason: rejectionReason.trim(),\\n          approved: false,\\n          updated_at: new Date().toISOString(),\\n        })\\n        .eq(\\"id\\", selectedSubmission.id);\\n\\n      if (error) throw error;\\n\\n      toast.success(\\n        \`‚ùå Rejected \${selectedSubmission.member.name}'s submission\`,\\n      );\\n\\n      // Remove from store\\n      storeApprovals.update((current) =>\\n        current.filter((s) => s.id !== selectedSubmission.id),\\n      );\\n\\n      closeRejectModal();\\n    } catch (error) {\\n      console.error(\\"Rejection error:\\", error);\\n      toast.error(\\"Failed to reject submission. Please try again.\\");\\n    } finally {\\n      isProcessing = false;\\n    }\\n  }\\n\\n  // Close reject modal\\n  function closeRejectModal() {\\n    showRejectModal = false;\\n    selectedSubmission = null;\\n    rejectionReason = \\"\\";\\n  }\\n\\n  onMount(() => {\\n    // Setup tab focus handling\\n    const cleanup = setupEventHandlers();\\n    cleanupFunctions.push(cleanup);\\n\\n    // Initial load if authorized\\n    if (isAuthorized) {\\n      loadApprovals(true);\\n    }\\n  });\\n\\n  onDestroy(() => {\\n    // Cleanup all event listeners\\n    cleanupFunctions.forEach((cleanup) => cleanup());\\n  });\\n\\n  // Reload when navigating to approvals page\\n  $: if ($page.url.pathname === \\"/officers/approvals\\" && isAuthorized) {\\n    loadApprovals(true);\\n  }\\n<\/script>\\n\\n<Container size=\\"lg\\">\\n  <Hero title=\\"Review Submissions\\" subtitle=\\"Approve or reject member point submissions\\" icon=\\"‚úÖ\\" center={true} />\\n\\n  {#if $loading}\\n    <LoadingSpinner message=\\"Loading submissions...\\" />\\n  {:else if !$user}\\n    <EmptyState\\n      icon=\\"üîí\\"\\n      title=\\"Authentication Required\\"\\n      message=\\"Please log in to access the approvals system.\\"\\n      actionLabel=\\"Sign In\\"\\n      actionHref=\\"/login\\"\\n    />\\n  {:else if !$userProfile?.is_officer}\\n    <EmptyState\\n      icon=\\"‚ö†Ô∏è\\"\\n      title=\\"Access Restricted\\"\\n      message=\\"Officer privileges are required to review submissions.\\"\\n      actionLabel=\\"Back to Officer Tools\\"\\n      actionHref=\\"/officers\\"\\n    />\\n  {:else if submissions.length > 0}\\n    <div class=\\"submissions-container\\">\\n      <!-- Summary Stats -->\\n      <div class=\\"summary-card\\">\\n        <div class=\\"summary-icon\\">üìã</div>\\n        <div class=\\"summary-content\\">\\n          <div class=\\"summary-number\\">{submissions.length}</div>\\n          <div class=\\"summary-label\\">\\n            {submissions.length === 1 ? \\"Submission\\" : \\"Submissions\\"} Pending Review\\n          </div>\\n        </div>\\n      </div>\\n\\n      <!-- Desktop Table -->\\n      <div class=\\"table-wrapper\\">\\n        <table class=\\"desktop-table\\">\\n          <thead>\\n            <tr>\\n              <th>Member</th>\\n              <th>Category</th>\\n              <th>Description</th>\\n              <th>Points</th>\\n              <th>Event Date</th>\\n              <th>Submitted</th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            {#each submissions as s (s.id)}\\n              <tr class=\\"submission-row\\">\\n                <td class=\\"member-cell\\">\\n                  <div class=\\"member-info\\">\\n                    <div class=\\"member-avatar\\">\\n                      {s.member.name[0].toUpperCase()}\\n                    </div>\\n                    <span class=\\"member-name\\">{s.member.name}</span>\\n                  </div>\\n                </td>\\n                <td class=\\"category-cell\\">\\n                  <span class=\\"category-badge\\">{s.category}</span>\\n                </td>\\n                <td class=\\"description-cell\\">{s.description}</td>\\n                <td class=\\"points-cell\\">\\n                  <span class=\\"points-value\\">{s.points}</span>\\n                </td>\\n                <td class=\\"date-cell\\">{formatDate(s.event_date)}</td>\\n                <td class=\\"submitted-cell\\">\\n                  {s.submitted_at\\n                    ? formatDate(s.submitted_at)\\n                    : \\"Not available\\"}\\n                </td>\\n                <td class=\\"actions-cell\\">\\n                  <div class=\\"action-buttons\\">\\n                    <button\\n                      on:click={() => openApproval(s)}\\n                      class=\\"approve-btn\\"\\n                      disabled={isProcessing}\\n                    >\\n                      ‚úÖ Approve\\n                    </button>\\n                    <button\\n                      on:click={() => openReject(s)}\\n                      class=\\"reject-btn\\"\\n                      disabled={isProcessing}\\n                    >\\n                      ‚ùå Reject\\n                    </button>\\n                  </div>\\n                </td>\\n              </tr>\\n            {/each}\\n          </tbody>\\n        </table>\\n      </div>\\n\\n      <!-- Mobile Cards -->\\n      <div class=\\"mobile-cards\\">\\n        {#each submissions as s (s.id)}\\n          <div class=\\"mobile-card\\">\\n            <div class=\\"card-header\\">\\n              <div class=\\"member-info\\">\\n                <div class=\\"member-avatar\\">\\n                  {s.member.name[0].toUpperCase()}\\n                </div>\\n                <div class=\\"member-details\\">\\n                  <div class=\\"member-name\\">{s.member.name}</div>\\n                  <div class=\\"submission-date\\">\\n                    Submitted {formatDate(s.submitted_at)}\\n                  </div>\\n                </div>\\n              </div>\\n              <span class=\\"category-badge\\">{s.category}</span>\\n            </div>\\n\\n            <div class=\\"card-body\\">\\n              <div class=\\"card-row\\">\\n                <span class=\\"label\\">Description:</span>\\n                <span class=\\"value\\">{s.description}</span>\\n              </div>\\n              <div class=\\"card-row\\">\\n                <span class=\\"label\\">Points:</span>\\n                <span class=\\"value points-value\\">{s.points}</span>\\n              </div>\\n              <div class=\\"card-row\\">\\n                <span class=\\"label\\">Event Date:</span>\\n                <span class=\\"value\\">{formatDate(s.event_date)}</span>\\n              </div>\\n            </div>\\n\\n            <div class=\\"card-actions\\">\\n              <button\\n                on:click={() => openApproval(s)}\\n                class=\\"approve-btn mobile\\"\\n                disabled={isProcessing}\\n              >\\n                ‚úÖ Approve\\n              </button>\\n              <button\\n                on:click={() => openReject(s)}\\n                class=\\"reject-btn mobile\\"\\n                disabled={isProcessing}\\n              >\\n                ‚ùå Reject\\n              </button>\\n            </div>\\n          </div>\\n        {/each}\\n      </div>\\n    </div>\\n  {:else}\\n    <EmptyState\\n      icon=\\"üéâ\\"\\n      title=\\"All Caught Up!\\"\\n      message=\\"No pending submissions to review at this time.\\"\\n    >\\n      <Button variant=\\"secondary\\" on:click={() => loadApprovals(true)}>\\n        üîÑ Refresh\\n      </Button>\\n    </EmptyState>\\n  {/if}\\n\\n  {#if message}\\n    <div class=\\"message-banner error\\">\\n      {message}\\n    </div>\\n  {/if}\\n\\n  <!-- Approval Modal -->\\n  {#if showApprovalModal && selectedSubmission}\\n    <div\\n      class=\\"modal-overlay\\"\\n      on:click={closeApprovalModal}\\n      on:keydown={(e) => e.key === \\"Escape\\" && closeApprovalModal()}\\n      role=\\"dialog\\"\\n      aria-modal=\\"true\\"\\n      aria-labelledby=\\"approval-modal-title\\"\\n    >\\n      <div class=\\"modal approval-modal\\" on:click|stopPropagation>\\n        <div class=\\"modal-header\\">\\n          <h3 id=\\"approval-modal-title\\">‚úÖ Approve Submission</h3>\\n        </div>\\n        <div class=\\"modal-body\\">\\n          <div class=\\"submission-preview\\">\\n            <div class=\\"preview-row\\">\\n              <span class=\\"preview-label\\">Member:</span>\\n              <span class=\\"preview-value\\">{selectedSubmission.member.name}</span\\n              >\\n            </div>\\n            <div class=\\"preview-row\\">\\n              <span class=\\"preview-label\\">Category:</span>\\n              <span class=\\"preview-value\\">{selectedSubmission.category}</span>\\n            </div>\\n            <div class=\\"preview-row\\">\\n              <span class=\\"preview-label\\">Description:</span>\\n              <span class=\\"preview-value\\">{selectedSubmission.description}</span\\n              >\\n            </div>\\n            <div class=\\"preview-row\\">\\n              <span class=\\"preview-label\\">Points:</span>\\n              <span class=\\"preview-value points-highlight\\"\\n                >{selectedSubmission.points}</span\\n              >\\n            </div>\\n            <div class=\\"preview-row\\">\\n              <span class=\\"preview-label\\">Event Date:</span>\\n              <span class=\\"preview-value\\"\\n                >{formatDate(selectedSubmission.event_date)}</span\\n              >\\n            </div>\\n          </div>\\n          <p class=\\"confirmation-text\\">\\n            Are you sure you want to approve this submission?\\n          </p>\\n        </div>\\n        <div class=\\"modal-actions\\">\\n          <button\\n            on:click={confirmApproval}\\n            class=\\"confirm-approve-btn\\"\\n            disabled={isProcessing}\\n            aria-describedby=\\"approval-modal-title\\"\\n          >\\n            {#if isProcessing}\\n              <span class=\\"button-spinner\\"></span>\\n              Approving...\\n            {:else}\\n              ‚úÖ Yes, Approve\\n            {/if}\\n          </button>\\n          <button\\n            on:click={closeApprovalModal}\\n            class=\\"cancel-btn\\"\\n            disabled={isProcessing}\\n          >\\n            Cancel\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  {/if}\\n\\n  <!-- Reject Modal -->\\n  {#if showRejectModal && selectedSubmission}\\n    <div\\n      class=\\"modal-overlay\\"\\n      on:click={closeRejectModal}\\n      on:keydown={(e) => e.key === \\"Escape\\" && closeRejectModal()}\\n      role=\\"dialog\\"\\n      aria-modal=\\"true\\"\\n      aria-labelledby=\\"reject-modal-title\\"\\n    >\\n      <div class=\\"modal reject-modal\\" on:click|stopPropagation>\\n        <div class=\\"modal-header\\">\\n          <h3 id=\\"reject-modal-title\\">‚ùå Reject Submission</h3>\\n        </div>\\n        <div class=\\"modal-body\\">\\n          <div class=\\"submission-preview\\">\\n            <div class=\\"preview-row\\">\\n              <span class=\\"preview-label\\">Member:</span>\\n              <span class=\\"preview-value\\">{selectedSubmission.member.name}</span\\n              >\\n            </div>\\n            <div class=\\"preview-row\\">\\n              <span class=\\"preview-label\\">Category:</span>\\n              <span class=\\"preview-value\\">{selectedSubmission.category}</span>\\n            </div>\\n            <div class=\\"preview-row\\">\\n              <span class=\\"preview-label\\">Description:</span>\\n              <span class=\\"preview-value\\">{selectedSubmission.description}</span\\n              >\\n            </div>\\n          </div>\\n          <div class=\\"reason-section\\">\\n            <label for=\\"rejection-reason\\">\\n              <span class=\\"reason-label\\">Reason for rejection *</span>\\n              <textarea\\n                id=\\"rejection-reason\\"\\n                bind:value={rejectionReason}\\n                placeholder=\\"Please provide a clear reason for rejecting this submission...\\"\\n                rows=\\"4\\"\\n                disabled={isProcessing}\\n                required\\n                aria-describedby=\\"reject-modal-title\\"\\n              ></textarea>\\n            </label>\\n          </div>\\n        </div>\\n        <div class=\\"modal-actions\\">\\n          <button\\n            on:click={confirmReject}\\n            class=\\"confirm-reject-btn\\"\\n            disabled={isProcessing || !rejectionReason.trim()}\\n            aria-describedby=\\"reject-modal-title\\"\\n          >\\n            {#if isProcessing}\\n              <span class=\\"button-spinner\\"></span>\\n              Rejecting...\\n            {:else}\\n              ‚ùå Reject Submission\\n            {/if}\\n          </button>\\n          <button\\n            on:click={closeRejectModal}\\n            class=\\"cancel-btn\\"\\n            disabled={isProcessing}\\n          >\\n            Cancel\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  {/if}\\n</Container>\\n\\n<style>\\n\\n  /* Summary Card */\\n  .summary-card {\\n    background: white;\\n    border-radius: 6px;\\n    padding: 1.5rem;\\n    margin-bottom: 2rem;\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n    border-left: 4px solid #ff3e00;\\n    display: flex;\\n    align-items: center;\\n    gap: 1rem;\\n    max-width: 400px;\\n    margin-left: auto;\\n    margin-right: auto;\\n    margin-bottom: 2rem;\\n  }\\n\\n  .summary-icon {\\n    font-size: 2.5rem;\\n  }\\n\\n  .summary-number {\\n    font-size: 2rem;\\n    font-weight: 700;\\n    color: #ff3e00;\\n    line-height: 1;\\n  }\\n\\n  .summary-label {\\n    font-size: 0.9rem;\\n    color: #666;\\n    font-weight: 500;\\n  }\\n\\n  /* Submissions Container */\\n  .submissions-container {\\n    text-align: left;\\n  }\\n\\n  /* Table Styles */\\n  .table-wrapper {\\n    background: white;\\n    border-radius: 6px;\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n    overflow: hidden;\\n    overflow-x: auto;\\n  }\\n\\n  .desktop-table {\\n    width: 100%;\\n    border-collapse: collapse;\\n    min-width: 800px;\\n  }\\n\\n  .desktop-table th {\\n    background: #f8fafc;\\n    padding: 1rem;\\n    text-align: left;\\n    font-weight: 600;\\n    color: #333;\\n    border-bottom: 2px solid #e5e7eb;\\n    white-space: nowrap;\\n  }\\n\\n  .desktop-table td {\\n    padding: 1rem;\\n    border-bottom: 1px solid #f1f5f9;\\n    vertical-align: middle;\\n  }\\n\\n  .submission-row {\\n    transition: background-color 0.2s;\\n  }\\n\\n  .submission-row:hover {\\n    background-color: #f8fafc;\\n  }\\n\\n  .member-info {\\n    display: flex;\\n    align-items: center;\\n    gap: 0.75rem;\\n  }\\n\\n  .member-avatar {\\n    width: 36px;\\n    height: 36px;\\n    border-radius: 50%;\\n    background: #ff3e00;\\n    color: white;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    font-weight: 700;\\n    font-size: 0.9rem;\\n    flex-shrink: 0;\\n  }\\n\\n  .member-name {\\n    font-weight: 500;\\n    color: #333;\\n  }\\n\\n  .category-badge {\\n    background: #f3f4f6;\\n    color: #374151;\\n    padding: 0.25rem 0.75rem;\\n    border-radius: 6px;\\n    font-size: 0.85rem;\\n    font-weight: 600;\\n  }\\n\\n  .points-value {\\n    font-weight: 700;\\n    color: #ff3e00;\\n    font-size: 1.1rem;\\n  }\\n\\n  .action-buttons {\\n    display: flex;\\n    gap: 0.5rem;\\n    flex-wrap: wrap;\\n  }\\n\\n  .approve-btn {\\n    background-color: #059669;\\n    color: white;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 0.5rem 1rem;\\n    font-size: 0.85rem;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s ease;\\n  }\\n\\n  .approve-btn:hover:not(:disabled) {\\n    background-color: #047857;\\n    transform: translateY(-1px);\\n  }\\n\\n  .reject-btn {\\n    background-color: #dc2626;\\n    color: white;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 0.5rem 1rem;\\n    font-size: 0.85rem;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s ease;\\n  }\\n\\n  .reject-btn:hover:not(:disabled) {\\n    background-color: #b91c1c;\\n    transform: translateY(-1px);\\n  }\\n\\n  .approve-btn:disabled,\\n  .reject-btn:disabled {\\n    opacity: 0.6;\\n    cursor: not-allowed;\\n    transform: none;\\n  }\\n\\n  /* Mobile Cards */\\n  .mobile-cards {\\n    display: none;\\n  }\\n\\n  .mobile-card {\\n    background: white;\\n    border-radius: 6px;\\n    padding: 1.5rem;\\n    margin-bottom: 1rem;\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n    border-left: 4px solid #ff3e00;\\n  }\\n\\n  .card-header {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-bottom: 1rem;\\n  }\\n\\n  .member-details {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n  .submission-date {\\n    font-size: 0.8rem;\\n    color: #666;\\n  }\\n\\n  .card-body {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 0.75rem;\\n    margin-bottom: 1.5rem;\\n  }\\n\\n  .card-row {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n\\n  .card-row .label {\\n    font-weight: 500;\\n    color: #666;\\n    min-width: 100px;\\n  }\\n\\n  .card-row .value {\\n    font-weight: 600;\\n    color: #333;\\n    text-align: right;\\n  }\\n\\n  .card-actions {\\n    display: flex;\\n    gap: 0.75rem;\\n  }\\n\\n  .approve-btn.mobile,\\n  .reject-btn.mobile {\\n    flex: 1;\\n    padding: 0.75rem 1rem;\\n    font-size: 0.9rem;\\n  }\\n\\n\\n  /* Message Banner */\\n  .message-banner {\\n    background: #fef2f2;\\n    border: 1px solid #fecaca;\\n    color: #dc2626;\\n    padding: 1rem;\\n    border-radius: 6px;\\n    margin: 1rem 0;\\n    text-align: center;\\n  }\\n\\n  /* Modal Styles */\\n  .modal-overlay {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    background: rgba(0, 0, 0, 0.5);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    z-index: 1000;\\n    padding: 1rem;\\n  }\\n\\n  .modal {\\n    background: white;\\n    border-radius: 6px;\\n    max-width: 500px;\\n    width: 100%;\\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\\n    max-height: 90vh;\\n    overflow-y: auto;\\n  }\\n\\n  .modal-header {\\n    padding: 1.5rem 1.5rem 0;\\n    border-bottom: 1px solid #e5e7eb;\\n  }\\n\\n  .modal-header h3 {\\n    color: #333;\\n    font-size: 1.25rem;\\n    margin: 0 0 1rem 0;\\n    text-transform: none;\\n  }\\n\\n  .modal-body {\\n    padding: 1.5rem;\\n  }\\n\\n  .submission-preview {\\n    background: #f8fafc;\\n    border-radius: 6px;\\n    padding: 1rem;\\n    margin-bottom: 1.5rem;\\n  }\\n\\n  .preview-row {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 0.5rem 0;\\n    border-bottom: 1px solid #e5e7eb;\\n  }\\n\\n  .preview-row:last-child {\\n    border-bottom: none;\\n  }\\n\\n  .preview-label {\\n    font-weight: 500;\\n    color: #666;\\n  }\\n\\n  .preview-value {\\n    font-weight: 600;\\n    color: #333;\\n  }\\n\\n  .points-highlight {\\n    color: #ff3e00;\\n    font-size: 1.1rem;\\n  }\\n\\n  .confirmation-text {\\n    color: #666;\\n    text-align: center;\\n    margin: 0;\\n  }\\n\\n  .reason-section {\\n    margin-top: 1rem;\\n  }\\n\\n  .reason-label {\\n    display: block;\\n    font-weight: 500;\\n    color: #333;\\n    margin-bottom: 0.5rem;\\n  }\\n\\n  textarea {\\n    width: 100%;\\n    border: 1px solid #d1d5db;\\n    border-radius: 6px;\\n    padding: 0.75rem;\\n    font-size: 1rem;\\n    font-family: inherit;\\n    resize: vertical;\\n    min-height: 100px;\\n    box-sizing: border-box;\\n    transition: border-color 0.2s;\\n  }\\n\\n  textarea:focus {\\n    outline: none;\\n    border-color: #ff3e00;\\n    box-shadow: 0 0 0 1px #ff3e00;\\n  }\\n\\n  textarea:disabled {\\n    background-color: #f9fafb;\\n    color: #6b7280;\\n    cursor: not-allowed;\\n  }\\n\\n  .modal-actions {\\n    padding: 0 1.5rem 1.5rem;\\n    display: flex;\\n    gap: 1rem;\\n    justify-content: flex-end;\\n  }\\n\\n  .confirm-approve-btn {\\n    background-color: #059669;\\n    color: white;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 0.75rem 1.5rem;\\n    font-size: 1rem;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s ease;\\n    display: flex;\\n    align-items: center;\\n    gap: 0.5rem;\\n  }\\n\\n  .confirm-approve-btn:hover:not(:disabled) {\\n    background-color: #047857;\\n  }\\n\\n  .confirm-reject-btn {\\n    background-color: #dc2626;\\n    color: white;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 0.75rem 1.5rem;\\n    font-size: 1rem;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s ease;\\n    display: flex;\\n    align-items: center;\\n    gap: 0.5rem;\\n  }\\n\\n  .confirm-reject-btn:hover:not(:disabled) {\\n    background-color: #b91c1c;\\n  }\\n\\n  .cancel-btn {\\n    background-color: #6b7280;\\n    color: white;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 0.75rem 1.5rem;\\n    font-size: 1rem;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s ease;\\n  }\\n\\n  .cancel-btn:hover:not(:disabled) {\\n    background-color: #4b5563;\\n  }\\n\\n  .confirm-approve-btn:disabled,\\n  .confirm-reject-btn:disabled,\\n  .cancel-btn:disabled {\\n    opacity: 0.6;\\n    cursor: not-allowed;\\n  }\\n\\n  .button-spinner {\\n    width: 16px;\\n    height: 16px;\\n    border: 2px solid rgba(255, 255, 255, 0.3);\\n    border-top: 2px solid white;\\n    border-radius: 50%;\\n    animation: spin 1s linear infinite;\\n  }\\n\\n  /* Mobile Responsive */\\n  @media (max-width: 768px) {\\n\\n    .summary-card {\\n      padding: 1rem;\\n      margin-bottom: 1.5rem;\\n    }\\n\\n    .summary-icon {\\n      font-size: 2rem;\\n    }\\n\\n    .summary-number {\\n      font-size: 1.5rem;\\n    }\\n\\n    .table-wrapper {\\n      display: none;\\n    }\\n\\n    .mobile-cards {\\n      display: block;\\n    }\\n\\n    .card-header .member-info {\\n      flex-direction: column;\\n      align-items: flex-start;\\n      gap: 0.5rem;\\n    }\\n\\n    .card-row {\\n      flex-direction: column;\\n      align-items: flex-start;\\n      gap: 0.25rem;\\n    }\\n\\n    .card-row .value {\\n      text-align: left;\\n    }\\n\\n    .card-actions {\\n      flex-direction: column;\\n    }\\n\\n    .modal {\\n      margin: 1rem;\\n      max-width: none;\\n    }\\n\\n    .modal-actions {\\n      flex-direction: column-reverse;\\n    }\\n  }\\n\\n  @media (max-width: 480px) {\\n    .summary-card {\\n      flex-direction: column;\\n      text-align: center;\\n      gap: 0.75rem;\\n    }\\n\\n    .member-info {\\n      gap: 0.5rem;\\n    }\\n\\n    .member-avatar {\\n      width: 32px;\\n      height: 32px;\\n      font-size: 0.8rem;\\n    }\\n\\n    .mobile-card {\\n      padding: 1rem;\\n    }\\n\\n    .preview-row {\\n      flex-direction: column;\\n      align-items: flex-start;\\n      gap: 0.25rem;\\n    }\\n  }\\n\\n  @media (min-width: 769px) {\\n    .mobile-cards {\\n      display: none;\\n    }\\n  }\\n</style>\\n"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let submissions;
  let isAuthorized;
  let $page, $$unsubscribe_page;
  let $userProfile, $$unsubscribe_userProfile;
  let $user, $$unsubscribe_user;
  let $storeMessage, $$unsubscribe_storeMessage;
  let $storeApprovals, $$unsubscribe_storeApprovals;
  let $loading, $$unsubscribe_loading;
  $$unsubscribe_page = subscribe(page, (value) => $page = value);
  $$unsubscribe_userProfile = subscribe(userProfile, (value) => $userProfile = value);
  $$unsubscribe_user = subscribe(user, (value) => $user = value);
  $$unsubscribe_storeMessage = subscribe(message, (value) => $storeMessage = value);
  $$unsubscribe_storeApprovals = subscribe(approvals, (value) => $storeApprovals = value);
  $$unsubscribe_loading = subscribe(loading, (value) => $loading = value);
  let message$1 = "";
  let cleanupFunctions = [];
  onDestroy(() => {
    cleanupFunctions.forEach((cleanup) => cleanup());
  });
  $$result.css.add(css);
  submissions = $storeApprovals;
  message$1 = $storeMessage;
  isAuthorized = $user && $userProfile?.is_officer;
  {
    if (isAuthorized) {
      loadApprovals(true);
    }
  }
  {
    if ($page.url.pathname === "/officers/approvals" && isAuthorized) {
      loadApprovals(true);
    }
  }
  $$unsubscribe_page();
  $$unsubscribe_userProfile();
  $$unsubscribe_user();
  $$unsubscribe_storeMessage();
  $$unsubscribe_storeApprovals();
  $$unsubscribe_loading();
  return `${validate_component(Container, "Container").$$render($$result, { size: "lg" }, {}, {
    default: () => {
      return `${validate_component(Hero, "Hero").$$render(
        $$result,
        {
          title: "Review Submissions",
          subtitle: "Approve or reject member point submissions",
          icon: "‚úÖ",
          center: true
        },
        {},
        {}
      )} ${$loading ? `${validate_component(LoadingSpinner, "LoadingSpinner").$$render($$result, { message: "Loading submissions..." }, {}, {})}` : `${!$user ? `${validate_component(EmptyState, "EmptyState").$$render(
        $$result,
        {
          icon: "üîí",
          title: "Authentication Required",
          message: "Please log in to access the approvals system.",
          actionLabel: "Sign In",
          actionHref: "/login"
        },
        {},
        {}
      )}` : `${!$userProfile?.is_officer ? `${validate_component(EmptyState, "EmptyState").$$render(
        $$result,
        {
          icon: "‚ö†Ô∏è",
          title: "Access Restricted",
          message: "Officer privileges are required to review submissions.",
          actionLabel: "Back to Officer Tools",
          actionHref: "/officers"
        },
        {},
        {}
      )}` : `${submissions.length > 0 ? `<div class="submissions-container svelte-ar8wml"> <div class="summary-card svelte-ar8wml"><div class="summary-icon svelte-ar8wml" data-svelte-h="svelte-1ng6w2l">üìã</div> <div class="summary-content"><div class="summary-number svelte-ar8wml">${escape(submissions.length)}</div> <div class="summary-label svelte-ar8wml">${escape(submissions.length === 1 ? "Submission" : "Submissions")} Pending Review</div></div></div>  <div class="table-wrapper svelte-ar8wml"><table class="desktop-table svelte-ar8wml"><thead data-svelte-h="svelte-1vjs4z1"><tr><th class="svelte-ar8wml">Member</th> <th class="svelte-ar8wml">Category</th> <th class="svelte-ar8wml">Description</th> <th class="svelte-ar8wml">Points</th> <th class="svelte-ar8wml">Event Date</th> <th class="svelte-ar8wml">Submitted</th> <th class="svelte-ar8wml">Actions</th></tr></thead> <tbody>${each(submissions, (s) => {
        return `<tr class="submission-row svelte-ar8wml"><td class="member-cell svelte-ar8wml"><div class="member-info svelte-ar8wml"><div class="member-avatar svelte-ar8wml">${escape(s.member.name[0].toUpperCase())}</div> <span class="member-name svelte-ar8wml">${escape(s.member.name)}</span> </div></td> <td class="category-cell svelte-ar8wml"><span class="category-badge svelte-ar8wml">${escape(s.category)}</span></td> <td class="description-cell svelte-ar8wml">${escape(s.description)}</td> <td class="points-cell svelte-ar8wml"><span class="points-value svelte-ar8wml">${escape(s.points)}</span></td> <td class="date-cell svelte-ar8wml">${escape(formatDate(s.event_date))}</td> <td class="submitted-cell svelte-ar8wml">${escape(s.submitted_at ? formatDate(s.submitted_at) : "Not available")}</td> <td class="actions-cell svelte-ar8wml"><div class="action-buttons svelte-ar8wml"><button class="approve-btn svelte-ar8wml" ${""}>‚úÖ Approve</button> <button class="reject-btn svelte-ar8wml" ${""}>‚ùå Reject</button> </div></td> </tr>`;
      })}</tbody></table></div>  <div class="mobile-cards svelte-ar8wml">${each(submissions, (s) => {
        return `<div class="mobile-card svelte-ar8wml"><div class="card-header svelte-ar8wml"><div class="member-info svelte-ar8wml"><div class="member-avatar svelte-ar8wml">${escape(s.member.name[0].toUpperCase())}</div> <div class="member-details svelte-ar8wml"><div class="member-name svelte-ar8wml">${escape(s.member.name)}</div> <div class="submission-date svelte-ar8wml">Submitted ${escape(formatDate(s.submitted_at))}</div> </div></div> <span class="category-badge svelte-ar8wml">${escape(s.category)}</span></div> <div class="card-body svelte-ar8wml"><div class="card-row svelte-ar8wml"><span class="label svelte-ar8wml" data-svelte-h="svelte-18hxrur">Description:</span> <span class="value svelte-ar8wml">${escape(s.description)}</span></div> <div class="card-row svelte-ar8wml"><span class="label svelte-ar8wml" data-svelte-h="svelte-11v1tm">Points:</span> <span class="value points-value svelte-ar8wml">${escape(s.points)}</span></div> <div class="card-row svelte-ar8wml"><span class="label svelte-ar8wml" data-svelte-h="svelte-1c8g29x">Event Date:</span> <span class="value svelte-ar8wml">${escape(formatDate(s.event_date))}</span> </div></div> <div class="card-actions svelte-ar8wml"><button class="approve-btn mobile svelte-ar8wml" ${""}>‚úÖ Approve</button> <button class="reject-btn mobile svelte-ar8wml" ${""}>‚ùå Reject
              </button></div> </div>`;
      })}</div></div>` : `${validate_component(EmptyState, "EmptyState").$$render(
        $$result,
        {
          icon: "üéâ",
          title: "All Caught Up!",
          message: "No pending submissions to review at this time."
        },
        {},
        {
          default: () => {
            return `${validate_component(Button, "Button").$$render($$result, { variant: "secondary" }, {}, {
              default: () => {
                return `üîÑ Refresh`;
              }
            })}`;
          }
        }
      )}`}`}`}`} ${message$1 ? `<div class="message-banner error svelte-ar8wml">${escape(message$1)}</div>` : ``}  ${``}  ${``}`;
    }
  })}`;
});

export { Page as default };
//# sourceMappingURL=_page.svelte-Mykvxsg-.js.map
