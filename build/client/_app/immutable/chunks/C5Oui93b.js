import{s as Ge,n as ne,d as b,y as se,r as oe,a as W,i as Y,b as n,p as Z,q as h,c as p,e as G,f as M,g as U,v as x,h as _,t as z,j as P,k as Ie,R as Te,B as ae,z as he}from"./orW8a4RU.js";import{e as ee}from"./BYoXW1o8.js";import{S as Se,i as Ve}from"./wt4xWrh0.js";import{c as Ae}from"./DsaAdPKi.js";function fe(l,e,t){const s=l.slice();return s[16]=e[t][0],s[17]=e[t][1],s}function de(l,e,t){const s=l.slice();return s[20]=e[t],s}function Be(l){let e;return{c(){e=z("Select All")},l(t){e=M(t,"Select All")},m(t,s){Y(t,e,s)},d(t){t&&b(e)}}}function Oe(l){let e;return{c(){e=z("Deselect All")},l(t){e=M(t,"Deselect All")},m(t,s){Y(t,e,s)},d(t){t&&b(e)}}}function ge(l){let e,t,s,u,r,a,D=l[17].number+"",I,k=l[20].letter+"",i,w,C=l[20].name+"",c,N,V,f;function A(){return l[13](l[20])}return{c(){e=_("label"),t=_("input"),u=P(),r=_("span"),a=_("strong"),I=z(D),i=z(k),w=P(),c=z(C),N=P(),this.h()},l(O){e=p(O,"LABEL",{class:!0});var d=G(e);t=p(d,"INPUT",{type:!0,class:!0}),u=U(d),r=p(d,"SPAN",{class:!0});var E=G(r);a=p(E,"STRONG",{class:!0});var F=G(a);I=M(F,D),i=M(F,k),F.forEach(b),w=U(E),c=M(E,C),E.forEach(b),N=U(d),d.forEach(b),this.h()},h(){h(t,"type","checkbox"),t.checked=s=l[2][l[20].id]||!1,h(t,"class","svelte-spa3le"),h(a,"class","svelte-spa3le"),h(r,"class","subcategory-label svelte-spa3le"),h(e,"class","subcategory-item svelte-spa3le")},m(O,d){Y(O,e,d),n(e,t),n(e,u),n(e,r),n(r,a),n(a,I),n(a,i),n(r,w),n(r,c),n(e,N),V||(f=Z(t,"change",A),V=!0)},p(O,d){l=O,d&12&&s!==(s=l[2][l[20].id]||!1)&&(t.checked=s),d&8&&D!==(D=l[17].number+"")&&W(I,D),d&8&&k!==(k=l[20].letter+"")&&W(i,k),d&8&&C!==(C=l[20].name+"")&&W(c,C)},d(O){O&&b(e),V=!1,f()}}}function ve(l){let e,t,s,u,r=l[17].number+"",a,D,I=l[17].name+"",k,i,w,C,c,N,V,f,A;function O(y,L){return L&12&&(C=null),C==null&&(C=!!y[17].subcategories.every(y[11])),C?Oe:Be}let d=O(l,-1),E=d(l);function F(){return l[12](l[16],l[17])}let q=ee(l[17].subcategories),T=[];for(let y=0;y<q.length;y+=1)T[y]=ge(de(l,q,y));return{c(){e=_("div"),t=_("div"),s=_("h4"),u=z("Category "),a=z(r),D=z(": "),k=z(I),i=P(),w=_("button"),E.c(),c=P(),N=_("div");for(let y=0;y<T.length;y+=1)T[y].c();V=P(),this.h()},l(y){e=p(y,"DIV",{class:!0});var L=G(e);t=p(L,"DIV",{class:!0});var B=G(t);s=p(B,"H4",{class:!0});var v=G(s);u=M(v,"Category "),a=M(v,r),D=M(v,": "),k=M(v,I),i=U(v),w=p(v,"BUTTON",{type:!0,class:!0});var o=G(w);E.l(o),o.forEach(b),v.forEach(b),B.forEach(b),c=U(L),N=p(L,"DIV",{class:!0});var m=G(N);for(let g=0;g<T.length;g+=1)T[g].l(m);m.forEach(b),V=U(L),L.forEach(b),this.h()},h(){h(w,"type","button"),h(w,"class","toggle-all-btn svelte-spa3le"),h(s,"class","category-title svelte-spa3le"),h(t,"class","category-header svelte-spa3le"),h(N,"class","subcategories svelte-spa3le"),h(e,"class","category-group svelte-spa3le")},m(y,L){Y(y,e,L),n(e,t),n(t,s),n(s,u),n(s,a),n(s,D),n(s,k),n(s,i),n(s,w),E.m(w,null),n(e,c),n(e,N);for(let B=0;B<T.length;B+=1)T[B]&&T[B].m(N,null);n(e,V),f||(A=Z(w,"click",F),f=!0)},p(y,L){if(l=y,L&8&&r!==(r=l[17].number+"")&&W(a,r),L&8&&I!==(I=l[17].name+"")&&W(k,I),d!==(d=O(l,L))&&(E.d(1),E=d(l),E&&(E.c(),E.m(w,null))),L&76){q=ee(l[17].subcategories);let B;for(B=0;B<q.length;B+=1){const v=de(l,q,B);T[B]?T[B].p(v,L):(T[B]=ge(v),T[B].c(),T[B].m(N,null))}for(;B<T.length;B+=1)T[B].d(1);T.length=q.length}},d(y){y&&b(e),E.d(),se(T,y),f=!1,A()}}}function Ue(l){let e,t,s,u,r,a,D,I,k,i,w,C,c,N,V,f,A,O="Select All",d,E,F="Select None",q,T,y,L,B=ee(Object.entries(l[3])),v=[];for(let o=0;o<B.length;o+=1)v[o]=ve(fe(l,B,o));return{c(){e=_("div"),t=_("div"),s=_("h3"),u=z(l[0]),r=P(),a=_("p"),D=z(l[1]),I=P(),k=_("div"),i=_("span"),w=z(l[5]),C=z(" of "),c=z(l[4]),N=z(" categories selected"),V=P(),f=_("div"),A=_("button"),A.textContent=O,d=P(),E=_("button"),E.textContent=F,q=P(),T=_("div");for(let o=0;o<v.length;o+=1)v[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var m=G(e);t=p(m,"DIV",{class:!0});var g=G(t);s=p(g,"H3",{class:!0});var R=G(s);u=M(R,l[0]),R.forEach(b),r=U(g),a=p(g,"P",{class:!0});var X=G(a);D=M(X,l[1]),X.forEach(b),I=U(g),k=p(g,"DIV",{class:!0});var Q=G(k);i=p(Q,"SPAN",{class:!0});var S=G(i);w=M(S,l[5]),C=M(S," of "),c=M(S,l[4]),N=M(S," categories selected"),S.forEach(b),V=U(Q),f=p(Q,"DIV",{class:!0});var j=G(f);A=p(j,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(A)!=="svelte-lf2mqp"&&(A.textContent=O),d=U(j),E=p(j,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(E)!=="svelte-1slbmf"&&(E.textContent=F),j.forEach(b),Q.forEach(b),g.forEach(b),q=U(m),T=p(m,"DIV",{class:!0});var H=G(T);for(let J=0;J<v.length;J+=1)v[J].l(H);H.forEach(b),m.forEach(b),this.h()},h(){h(s,"class","title svelte-spa3le"),h(a,"class","description svelte-spa3le"),h(i,"class","count svelte-spa3le"),h(A,"type","button"),h(A,"class","btn-link svelte-spa3le"),h(E,"type","button"),h(E,"class","btn-link svelte-spa3le"),h(f,"class","bulk-actions svelte-spa3le"),h(k,"class","selection-summary svelte-spa3le"),h(t,"class","header svelte-spa3le"),h(T,"class","categories-grid svelte-spa3le"),h(e,"class","category-selector svelte-spa3le")},m(o,m){Y(o,e,m),n(e,t),n(t,s),n(s,u),n(t,r),n(t,a),n(a,D),n(t,I),n(t,k),n(k,i),n(i,w),n(i,C),n(i,c),n(i,N),n(k,V),n(k,f),n(f,A),n(f,d),n(f,E),n(e,q),n(e,T);for(let g=0;g<v.length;g+=1)v[g]&&v[g].m(T,null);y||(L=[Z(A,"click",l[8]),Z(E,"click",l[9])],y=!0)},p(o,[m]){if(m&1&&W(u,o[0]),m&2&&W(D,o[1]),m&32&&W(w,o[5]),m&16&&W(c,o[4]),m&204){B=ee(Object.entries(o[3]));let g;for(g=0;g<B.length;g+=1){const R=fe(o,B,g);v[g]?v[g].p(R,m):(v[g]=ve(R),v[g].c(),v[g].m(T,null))}for(;g<v.length;g+=1)v[g].d(1);v.length=B.length}},i:ne,o:ne,d(o){o&&b(e),se(v,o),y=!1,oe(L)}}}function Pe(l,e,t){let s,u,r;Ie(l,Ae,d=>t(3,r=d));let{selectedCategories:a=[]}=e,{title:D="Select Categories"}=e,{description:I="Choose which BJCP categories are allowed in this competition"}=e;const k=Te();let i={};function w(){const d=Object.keys(i).filter(E=>i[E]);t(10,a=d),k("change",a)}function C(d){t(2,i[d]=!i[d],i),w()}function c(d,E){const F=E.every(q=>i[q.id]);E.forEach(q=>{t(2,i[q.id]=!F,i)}),w()}function N(){Object.values(r).forEach(d=>{d.subcategories.forEach(E=>{t(2,i[E.id]=!0,i)})}),w()}function V(){t(2,i={}),w()}const f=d=>i[d.id],A=(d,E)=>c(d,E.subcategories),O=d=>C(d.id);return l.$$set=d=>{"selectedCategories"in d&&t(10,a=d.selectedCategories),"title"in d&&t(0,D=d.title),"description"in d&&t(1,I=d.description)},l.$$.update=()=>{l.$$.dirty&1024&&(t(2,i={}),a.forEach(d=>{t(2,i[d]=!0,i)})),l.$$.dirty&4&&t(5,s=Object.values(i).filter(Boolean).length),l.$$.dirty&8&&t(4,u=Object.values(r).reduce((d,E)=>d+E.subcategories.length,0))},[D,I,i,r,u,s,C,c,N,V,a,f,A,O]}class Xe extends Se{constructor(e){super(),Ve(this,e,Pe,Ue,Ge,{selectedCategories:10,title:0,description:1})}}function pe(l,e,t){const s=l.slice();return s[25]=e[t],s}function _e(l,e,t){const s=l.slice();return s[28]=e[t],s}function be(l,e,t){const s=l.slice();return s[25]=e[t],s}function me(l,e,t){const s=l.slice();return s[25]=e[t],s}function ke(l){let e,t,s=l[4]==="new"?"New Ranking Group":"Edit Ranking Group",u,r,a,D,I="Group Name",k,i,w,C,c,N="Description (optional)",V,f,A,O,d,E="Categories in this group",F,q,T,y,L,B="Cancel",v,o,m=l[4]==="new"?"Create Group":"Save Changes",g,R,X,Q,S=ee(l[4]==="new"?l[8]:l[1]),j=[];for(let H=0;H<S.length;H+=1)j[H]=Ce(me(l,S,H));return{c(){e=_("div"),t=_("h4"),u=z(s),r=P(),a=_("div"),D=_("label"),D.textContent=I,k=P(),i=_("input"),w=P(),C=_("div"),c=_("label"),c.textContent=N,V=P(),f=_("textarea"),A=P(),O=_("div"),d=_("label"),d.textContent=E,F=P(),q=_("div");for(let H=0;H<j.length;H+=1)j[H].c();T=P(),y=_("div"),L=_("button"),L.textContent=B,v=P(),o=_("button"),g=z(m),this.h()},l(H){e=p(H,"DIV",{class:!0});var J=G(e);t=p(J,"H4",{class:!0});var K=G(t);u=M(K,s),K.forEach(b),r=U(J),a=p(J,"DIV",{class:!0});var $=G(a);D=p($,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(D)!=="svelte-1w7crnx"&&(D.textContent=I),k=U($),i=p($,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),$.forEach(b),w=U(J),C=p(J,"DIV",{class:!0});var le=G(C);c=p(le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(c)!=="svelte-18bv6w1"&&(c.textContent=N),V=U(le),f=p(le,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,class:!0}),G(f).forEach(b),le.forEach(b),A=U(J),O=p(J,"DIV",{class:!0});var te=G(O);d=p(te,"LABEL",{class:!0,"data-svelte-h":!0}),x(d)!=="svelte-1kblhyq"&&(d.textContent=E),F=U(te),q=p(te,"DIV",{class:!0});var ce=G(q);for(let ie=0;ie<j.length;ie+=1)j[ie].l(ce);ce.forEach(b),te.forEach(b),T=U(J),y=p(J,"DIV",{class:!0});var re=G(y);L=p(re,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(L)!=="svelte-uuzg4x"&&(L.textContent=B),v=U(re),o=p(re,"BUTTON",{type:!0,class:!0});var ue=G(o);g=M(ue,m),ue.forEach(b),re.forEach(b),J.forEach(b),this.h()},h(){h(t,"class","svelte-35dg2h"),h(D,"for","group-name"),h(D,"class","svelte-35dg2h"),h(i,"id","group-name"),h(i,"type","text"),h(i,"placeholder","e.g., Scottish and Irish Beers"),i.required=!0,h(i,"class","svelte-35dg2h"),h(a,"class","form-group svelte-35dg2h"),h(c,"for","group-description"),h(c,"class","svelte-35dg2h"),h(f,"id","group-description"),h(f,"placeholder","Description of this ranking group"),h(f,"rows","2"),h(f,"class","svelte-35dg2h"),h(C,"class","form-group svelte-35dg2h"),h(d,"class","svelte-35dg2h"),h(q,"class","category-selection svelte-35dg2h"),h(O,"class","form-group svelte-35dg2h"),h(L,"type","button"),h(L,"class","btn-secondary svelte-35dg2h"),h(o,"type","button"),h(o,"class","btn-primary svelte-35dg2h"),o.disabled=R=!l[5].trim()||l[7].length===0,h(y,"class","editor-actions svelte-35dg2h"),h(e,"class","group-editor svelte-35dg2h")},m(H,J){Y(H,e,J),n(e,t),n(t,u),n(e,r),n(e,a),n(a,D),n(a,k),n(a,i),ae(i,l[5]),n(e,w),n(e,C),n(C,c),n(C,V),n(C,f),ae(f,l[6]),n(e,A),n(e,O),n(O,d),n(O,F),n(O,q);for(let K=0;K<j.length;K+=1)j[K]&&j[K].m(q,null);n(e,T),n(e,y),n(y,L),n(y,v),n(y,o),n(o,g),X||(Q=[Z(i,"input",l[18]),Z(f,"input",l[19]),Z(L,"click",l[11]),Z(o,"click",l[12])],X=!0)},p(H,J){if(J[0]&16&&s!==(s=H[4]==="new"?"New Ranking Group":"Edit Ranking Group")&&W(u,s),J[0]&32&&i.value!==H[5]&&ae(i,H[5]),J[0]&64&&ae(f,H[6]),J[0]&33682){S=ee(H[4]==="new"?H[8]:H[1]);let K;for(K=0;K<S.length;K+=1){const $=me(H,S,K);j[K]?j[K].p($,J):(j[K]=Ce($),j[K].c(),j[K].m(q,null))}for(;K<j.length;K+=1)j[K].d(1);j.length=S.length}J[0]&16&&m!==(m=H[4]==="new"?"Create Group":"Save Changes")&&W(g,m),J[0]&160&&R!==(R=!H[5].trim()||H[7].length===0)&&(o.disabled=R)},d(H){H&&b(e),se(j,H),X=!1,oe(Q)}}}function Ce(l){let e,t,s,u,r,a=l[9](l[25]).fullName+"",D,I,k,i;function w(){return l[20](l[25])}return{c(){e=_("label"),t=_("input"),u=P(),r=_("span"),D=z(a),I=P(),this.h()},l(C){e=p(C,"LABEL",{class:!0});var c=G(e);t=p(c,"INPUT",{type:!0,class:!0}),u=U(c),r=p(c,"SPAN",{});var N=G(r);D=M(N,a),N.forEach(b),I=U(c),c.forEach(b),this.h()},h(){h(t,"type","checkbox"),t.checked=s=l[7].includes(l[25]),h(t,"class","svelte-35dg2h"),h(e,"class","category-item svelte-35dg2h")},m(C,c){Y(C,e,c),n(e,t),n(e,u),n(e,r),n(r,D),n(e,I),k||(i=Z(t,"change",w),k=!0)},p(C,c){l=C,c[0]&402&&s!==(s=l[7].includes(l[25]))&&(t.checked=s),c[0]&274&&a!==(a=l[9](l[25]).fullName+"")&&W(D,a)},d(C){C&&b(e),k=!1,i()}}}function Le(l){let e,t=ee(l[0]),s=[];for(let u=0;u<t.length;u+=1)s[u]=Ne(_e(l,t,u));return{c(){for(let u=0;u<s.length;u+=1)s[u].c();e=he()},l(u){for(let r=0;r<s.length;r+=1)s[r].l(u);e=he()},m(u,r){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(u,r);Y(u,e,r)},p(u,r){if(r[0]&25089){t=ee(u[0]);let a;for(a=0;a<t.length;a+=1){const D=_e(u,t,a);s[a]?s[a].p(D,r):(s[a]=Ne(D),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(u){u&&b(e),se(s,u)}}}function Re(l){let e,t="<p>No ranking groups created yet.</p> <p>Categories will be ranked individually by default.</p>";return{c(){e=_("div"),e.innerHTML=t,this.h()},l(s){e=p(s,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1jyc37r"&&(e.innerHTML=t),this.h()},h(){h(e,"class","empty-state svelte-35dg2h")},m(s,u){Y(s,e,u)},p:ne,d(s){s&&b(e)}}}function Ee(l){let e,t=l[28].description+"",s;return{c(){e=_("p"),s=z(t),this.h()},l(u){e=p(u,"P",{class:!0});var r=G(e);s=M(r,t),r.forEach(b),this.h()},h(){h(e,"class","group-description svelte-35dg2h")},m(u,r){Y(u,e,r),n(e,s)},p(u,r){r[0]&1&&t!==(t=u[28].description+"")&&W(s,t)},d(u){u&&b(e)}}}function ye(l){let e,t=l[9](l[25]).fullName+"",s,u;return{c(){e=_("span"),s=z(t),u=P(),this.h()},l(r){e=p(r,"SPAN",{class:!0});var a=G(e);s=M(a,t),u=U(a),a.forEach(b),this.h()},h(){h(e,"class","category-chip svelte-35dg2h")},m(r,a){Y(r,e,a),n(e,s),n(e,u)},p(r,a){a[0]&1&&t!==(t=r[9](r[25]).fullName+"")&&W(s,t)},d(r){r&&b(e)}}}function Ne(l){let e,t,s,u,r=l[28].name+"",a,D,I,k,i,w="Edit",C,c,N="Delete",V,f,A,O,d=l[28].categories.length+"",E,F,q,T,y,L,B,v=l[28].description&&Ee(l);function o(){return l[21](l[28])}function m(){return l[22](l[28])}let g=ee(l[28].categories),R=[];for(let X=0;X<g.length;X+=1)R[X]=ye(be(l,g,X));return{c(){e=_("div"),t=_("div"),s=_("div"),u=_("h4"),a=z(r),D=P(),v&&v.c(),I=P(),k=_("div"),i=_("button"),i.textContent=w,C=P(),c=_("button"),c.textContent=N,V=P(),f=_("div"),A=_("strong"),O=z("Categories ("),E=z(d),F=z("):"),q=P(),T=_("div");for(let X=0;X<R.length;X+=1)R[X].c();y=P(),this.h()},l(X){e=p(X,"DIV",{class:!0});var Q=G(e);t=p(Q,"DIV",{class:!0});var S=G(t);s=p(S,"DIV",{});var j=G(s);u=p(j,"H4",{class:!0});var H=G(u);a=M(H,r),H.forEach(b),D=U(j),v&&v.l(j),j.forEach(b),I=U(S),k=p(S,"DIV",{class:!0});var J=G(k);i=p(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(i)!=="svelte-fsle0s"&&(i.textContent=w),C=U(J),c=p(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(c)!=="svelte-13ir5ie"&&(c.textContent=N),J.forEach(b),S.forEach(b),V=U(Q),f=p(Q,"DIV",{class:!0});var K=G(f);A=p(K,"STRONG",{class:!0});var $=G(A);O=M($,"Categories ("),E=M($,d),F=M($,"):"),$.forEach(b),q=U(K),T=p(K,"DIV",{class:!0});var le=G(T);for(let te=0;te<R.length;te+=1)R[te].l(le);le.forEach(b),K.forEach(b),y=U(Q),Q.forEach(b),this.h()},h(){h(u,"class","group-name svelte-35dg2h"),h(i,"type","button"),h(i,"class","btn-link svelte-35dg2h"),h(c,"type","button"),h(c,"class","btn-link danger svelte-35dg2h"),h(k,"class","group-actions svelte-35dg2h"),h(t,"class","group-header svelte-35dg2h"),h(A,"class","svelte-35dg2h"),h(T,"class","category-chips svelte-35dg2h"),h(f,"class","group-categories svelte-35dg2h"),h(e,"class","group-card svelte-35dg2h")},m(X,Q){Y(X,e,Q),n(e,t),n(t,s),n(s,u),n(u,a),n(s,D),v&&v.m(s,null),n(t,I),n(t,k),n(k,i),n(k,C),n(k,c),n(e,V),n(e,f),n(f,A),n(A,O),n(A,E),n(A,F),n(f,q),n(f,T);for(let S=0;S<R.length;S+=1)R[S]&&R[S].m(T,null);n(e,y),L||(B=[Z(i,"click",o),Z(c,"click",m)],L=!0)},p(X,Q){if(l=X,Q[0]&1&&r!==(r=l[28].name+"")&&W(a,r),l[28].description?v?v.p(l,Q):(v=Ee(l),v.c(),v.m(s,null)):v&&(v.d(1),v=null),Q[0]&1&&d!==(d=l[28].categories.length+"")&&W(E,d),Q[0]&513){g=ee(l[28].categories);let S;for(S=0;S<g.length;S+=1){const j=be(l,g,S);R[S]?R[S].p(j,Q):(R[S]=ye(j),R[S].c(),R[S].m(T,null))}for(;S<R.length;S+=1)R[S].d(1);R.length=g.length}},d(X){X&&b(e),v&&v.d(),se(R,X),L=!1,oe(B)}}}function De(l){let e,t,s,u=l[8].length+"",r,a,D,I,k,i,w="These categories will be ranked individually.",C=ee(l[8]),c=[];for(let N=0;N<C.length;N+=1)c[N]=we(pe(l,C,N));return{c(){e=_("div"),t=_("strong"),s=z("Unassigned Categories ("),r=z(u),a=z("):"),D=P(),I=_("div");for(let N=0;N<c.length;N+=1)c[N].c();k=P(),i=_("p"),i.textContent=w,this.h()},l(N){e=p(N,"DIV",{class:!0});var V=G(e);t=p(V,"STRONG",{});var f=G(t);s=M(f,"Unassigned Categories ("),r=M(f,u),a=M(f,"):"),f.forEach(b),D=U(V),I=p(V,"DIV",{class:!0});var A=G(I);for(let O=0;O<c.length;O+=1)c[O].l(A);A.forEach(b),k=U(V),i=p(V,"P",{class:!0,"data-svelte-h":!0}),x(i)!=="svelte-xx9pvi"&&(i.textContent=w),V.forEach(b),this.h()},h(){h(I,"class","category-chips svelte-35dg2h"),h(i,"class","warning-text svelte-35dg2h"),h(e,"class","unassigned-warning svelte-35dg2h")},m(N,V){Y(N,e,V),n(e,t),n(t,s),n(t,r),n(t,a),n(e,D),n(e,I);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(I,null);n(e,k),n(e,i)},p(N,V){if(V[0]&256&&u!==(u=N[8].length+"")&&W(r,u),V[0]&768){C=ee(N[8]);let f;for(f=0;f<C.length;f+=1){const A=pe(N,C,f);c[f]?c[f].p(A,V):(c[f]=we(A),c[f].c(),c[f].m(I,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=C.length}},d(N){N&&b(e),se(c,N)}}}function we(l){let e,t=l[9](l[25]).fullName+"",s,u;return{c(){e=_("span"),s=z(t),u=P(),this.h()},l(r){e=p(r,"SPAN",{class:!0});var a=G(e);s=M(a,t),u=U(a),a.forEach(b),this.h()},h(){h(e,"class","category-chip unassigned svelte-35dg2h")},m(r,a){Y(r,e,a),n(e,s),n(e,u)},p(r,a){a[0]&256&&t!==(t=r[9](r[25]).fullName+"")&&W(s,t)},d(r){r&&b(e)}}}function je(l){let e,t,s,u,r,a,D,I,k,i,w="Create Individual Groups",C,c,N="Create Single Group",V,f,A="Add Custom Group",O,d,E,F,q,T,y=l[4]&&ke(l);function L(m,g){return m[0].length===0?Re:Le}let B=L(l),v=B(l),o=l[8].length>0&&De(l);return{c(){e=_("div"),t=_("div"),s=_("h3"),u=z(l[2]),r=P(),a=_("p"),D=z(l[3]),I=P(),k=_("div"),i=_("button"),i.textContent=w,C=P(),c=_("button"),c.textContent=N,V=P(),f=_("button"),f.textContent=A,O=P(),y&&y.c(),d=P(),E=_("div"),v.c(),F=P(),o&&o.c(),this.h()},l(m){e=p(m,"DIV",{class:!0});var g=G(e);t=p(g,"DIV",{class:!0});var R=G(t);s=p(R,"H3",{class:!0});var X=G(s);u=M(X,l[2]),X.forEach(b),r=U(R),a=p(R,"P",{class:!0});var Q=G(a);D=M(Q,l[3]),Q.forEach(b),I=U(R),k=p(R,"DIV",{class:!0});var S=G(k);i=p(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(i)!=="svelte-1n2m2rd"&&(i.textContent=w),C=U(S),c=p(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(c)!=="svelte-qg6zcb"&&(c.textContent=N),V=U(S),f=p(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(f)!=="svelte-124nxfp"&&(f.textContent=A),S.forEach(b),R.forEach(b),O=U(g),y&&y.l(g),d=U(g),E=p(g,"DIV",{class:!0});var j=G(E);v.l(j),F=U(j),o&&o.l(j),j.forEach(b),g.forEach(b),this.h()},h(){h(s,"class","title svelte-35dg2h"),h(a,"class","description svelte-35dg2h"),h(i,"type","button"),h(i,"class","btn-secondary svelte-35dg2h"),h(c,"type","button"),h(c,"class","btn-secondary svelte-35dg2h"),h(f,"type","button"),h(f,"class","btn-primary svelte-35dg2h"),h(k,"class","actions svelte-35dg2h"),h(t,"class","header svelte-35dg2h"),h(E,"class","groups-list"),h(e,"class","ranking-group-manager svelte-35dg2h")},m(m,g){Y(m,e,g),n(e,t),n(t,s),n(s,u),n(t,r),n(t,a),n(a,D),n(t,I),n(t,k),n(k,i),n(k,C),n(k,c),n(k,V),n(k,f),n(e,O),y&&y.m(e,null),n(e,d),n(e,E),v.m(E,null),n(E,F),o&&o.m(E,null),q||(T=[Z(i,"click",l[16]),Z(c,"click",l[17]),Z(f,"click",l[10])],q=!0)},p(m,g){g[0]&4&&W(u,m[2]),g[0]&8&&W(D,m[3]),m[4]?y?y.p(m,g):(y=ke(m),y.c(),y.m(e,d)):y&&(y.d(1),y=null),B===(B=L(m))&&v?v.p(m,g):(v.d(1),v=B(m),v&&(v.c(),v.m(E,F))),m[8].length>0?o?o.p(m,g):(o=De(m),o.c(),o.m(E,null)):o&&(o.d(1),o=null)},i:ne,o:ne,d(m){m&&b(e),y&&y.d(),v.d(),o&&o.d(),q=!1,oe(T)}}}function He(l,e,t){let s,u;Ie(l,Ae,o=>t(23,u=o));let{rankingGroups:r=[]}=e,{selectedCategories:a=[]}=e,{title:D="Ranking Groups"}=e,{description:I="Group categories together for ranking. Categories in the same group will be ranked against each other."}=e;const k=Te();let i=null,w="",C="",c=[];function N(o){for(const m of Object.values(u)){const g=m.subcategories.find(R=>R.id===o);if(g)return{number:m.number,letter:g.letter,name:g.name,fullName:`${m.number}${g.letter} - ${g.name}`}}return{fullName:"Unknown Category"}}function V(){t(4,i="new"),t(5,w=""),t(6,C=""),t(7,c=[])}function f(){t(4,i=null),t(5,w=""),t(6,C=""),t(7,c=[])}function A(){if(!w.trim()||c.length===0)return;const o={id:i==="new"?Date.now().toString():i,name:w.trim(),description:C.trim(),categories:[...c]};i==="new"?t(0,r=[...r,o]):t(0,r=r.map(m=>m.id===i?o:m)),k("change",r),f()}function O(o){t(4,i=o.id),t(5,w=o.name),t(6,C=o.description),t(7,c=[...o.categories])}function d(o){confirm("Are you sure you want to delete this ranking group?")&&(t(0,r=r.filter(m=>m.id!==o)),k("change",r))}function E(o){c.includes(o)?t(7,c=c.filter(m=>m!==o)):t(7,c=[...c,o])}function F(){if(confirm("This will create individual ranking groups for each category. Continue?")){const o=a.map(m=>{const g=N(m);return{id:Date.now().toString()+Math.random().toString(),name:`Category ${g.number}${g.letter}`,description:g.name,categories:[m]}});t(0,r=o),k("change",r)}}function q(){const o={id:Date.now().toString(),name:"All Categories",description:"All selected categories ranked together",categories:[...a]};t(0,r=[o]),k("change",r)}function T(){w=this.value,t(5,w)}function y(){C=this.value,t(6,C)}const L=o=>E(o),B=o=>O(o),v=o=>d(o.id);return l.$$set=o=>{"rankingGroups"in o&&t(0,r=o.rankingGroups),"selectedCategories"in o&&t(1,a=o.selectedCategories),"title"in o&&t(2,D=o.title),"description"in o&&t(3,I=o.description)},l.$$.update=()=>{l.$$.dirty[0]&3&&t(8,s=a.filter(o=>!r.some(m=>m.categories.includes(o))))},[r,a,D,I,i,w,C,c,s,N,V,f,A,O,d,E,F,q,T,y,L,B,v]}class Fe extends Se{constructor(e){super(),Ve(this,e,He,je,Ge,{rankingGroups:0,selectedCategories:1,title:2,description:3},null,[-1,-1])}}export{Xe as C,Fe as R};
