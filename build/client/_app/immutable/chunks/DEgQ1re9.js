import{w as t}from"./NYkyKxQq.js";import{s as m}from"./CCM_4jRA.js";const s=t([]),e=t(""),o=t(!1);let i=0;const u=1e4;async function p(a,n="event_date",l="desc",c=!1){if(!a){e.set("Please log in to view your submissions."),s.set([]);return}if(!c&&Date.now()-i<u)return;o.set(!0);const{data:d,error:r}=await m.from("point_submissions").select("id, category, description, points, event_date, approved, rejection_reason").eq("member_id",a).order(n,{ascending:l==="asc"});if(i=Date.now(),r){console.error("Error loading submissions:",r),e.set("Error loading your submissions."),s.set([]),o.set(!1);return}s.set(d),e.set(""),o.set(!1)}export{s as a,o as b,p as l,e as m};
