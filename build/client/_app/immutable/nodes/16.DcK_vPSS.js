import{s as ft,k as ze,C as pt,D as _t,d as r,i as me,g as b,G as et,j as w,y as tt,n as Ke,a as se,b as t,q as a,c as o,e as u,E as _e,f as j,h as i,t as T,r as Qe,x as ge,H as mt,K as lt}from"../chunks/DpwROyu6.js";import{S as ht,i as bt,d as He,t as Ie,a as Ve,m as Oe,b as Ue,e as qe,g as wt,c as gt}from"../chunks/BHIxbS5H.js";import{e as Xe,u as st,d as at}from"../chunks/CurIhP_1.js";import{s as rt}from"../chunks/CCM_4jRA.js";import{t as Ge}from"../chunks/CMCwdjmP.js";import{u as Et}from"../chunks/8uEjiqCw.js";import{u as kt}from"../chunks/CN8V5uJw.js";import{l as Je,a as We,m as Dt,b as Ct}from"../chunks/DLlZ5TPy.js";import{p as At}from"../chunks/9YNtkGAc.js";import{f as Se}from"../chunks/Bams7pfF.js";import{B as yt}from"../chunks/28GNhQ-J.js";/* empty css                */import{H as St}from"../chunks/D4n3Zs5P.js";import{L as It}from"../chunks/BWGxyfTN.js";import{E as Ze}from"../chunks/CZ9EVN-i.js";import{C as Vt}from"../chunks/XUMP8LP7.js";function nt(c,e,l){const s=c.slice();return s[31]=e[l],s}function ot(c,e,l){const s=c.slice();return s[31]=e[l],s}function Nt(c){let e,l;return e=new Ze({props:{icon:"🎉",title:"All Caught Up!",message:"No pending submissions to review at this time.",$$slots:{default:[Mt]},$$scope:{ctx:c}}}),{c(){qe(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,v){Oe(e,s,v),l=!0},p(s,v){const C={};v[1]&32&&(C.$$scope={dirty:v,ctx:s}),e.$set(C)},i(s){l||(Ve(e.$$.fragment,s),l=!0)},o(s){Ie(e.$$.fragment,s),l=!1},d(s){He(e,s)}}}function Pt(c){let e,l,s,v="📋",C,g,h,y=c[8].length+"",A,K,V,$=c[8].length===1?"Submission":"Submissions",k,p,D,n,_,B,x='<tr><th class="svelte-ar8wml">Member</th> <th class="svelte-ar8wml">Category</th> <th class="svelte-ar8wml">Description</th> <th class="svelte-ar8wml">Points</th> <th class="svelte-ar8wml">Event Date</th> <th class="svelte-ar8wml">Submitted</th> <th class="svelte-ar8wml">Actions</th></tr>',O,q,R=[],U=new Map,N,P,X=[],ae=new Map,L=Xe(c[8]);const J=m=>m[31].id;for(let m=0;m<L.length;m+=1){let f=ot(c,L,m),d=J(f);U.set(d,R[m]=it(d,f))}let ee=Xe(c[8]);const re=m=>m[31].id;for(let m=0;m<ee.length;m+=1){let f=nt(c,ee,m),d=re(f);ae.set(d,X[m]=ct(d,f))}return{c(){e=i("div"),l=i("div"),s=i("div"),s.textContent=v,C=w(),g=i("div"),h=i("div"),A=T(y),K=w(),V=i("div"),k=T($),p=T(" Pending Review"),D=w(),n=i("div"),_=i("table"),B=i("thead"),B.innerHTML=x,O=w(),q=i("tbody");for(let m=0;m<R.length;m+=1)R[m].c();N=w(),P=i("div");for(let m=0;m<X.length;m+=1)X[m].c();this.h()},l(m){e=o(m,"DIV",{class:!0});var f=u(e);l=o(f,"DIV",{class:!0});var d=u(l);s=o(d,"DIV",{class:!0,"data-svelte-h":!0}),_e(s)!=="svelte-1ng6w2l"&&(s.textContent=v),C=b(d),g=o(d,"DIV",{class:!0});var W=u(g);h=o(W,"DIV",{class:!0});var H=u(h);A=j(H,y),H.forEach(r),K=b(W),V=o(W,"DIV",{class:!0});var I=u(V);k=j(I,$),p=j(I," Pending Review"),I.forEach(r),W.forEach(r),d.forEach(r),D=b(f),n=o(f,"DIV",{class:!0});var ce=u(n);_=o(ce,"TABLE",{class:!0});var te=u(_);B=o(te,"THEAD",{"data-svelte-h":!0}),_e(B)!=="svelte-1vjs4z1"&&(B.innerHTML=x),O=b(te),q=o(te,"TBODY",{});var S=u(q);for(let oe=0;oe<R.length;oe+=1)R[oe].l(S);S.forEach(r),te.forEach(r),ce.forEach(r),N=b(f),P=o(f,"DIV",{class:!0});var Q=u(P);for(let oe=0;oe<X.length;oe+=1)X[oe].l(Q);Q.forEach(r),f.forEach(r),this.h()},h(){a(s,"class","summary-icon svelte-ar8wml"),a(h,"class","summary-number svelte-ar8wml"),a(V,"class","summary-label svelte-ar8wml"),a(g,"class","summary-content"),a(l,"class","summary-card svelte-ar8wml"),a(_,"class","desktop-table svelte-ar8wml"),a(n,"class","table-wrapper svelte-ar8wml"),a(P,"class","mobile-cards svelte-ar8wml"),a(e,"class","submissions-container svelte-ar8wml")},m(m,f){me(m,e,f),t(e,l),t(l,s),t(l,C),t(l,g),t(g,h),t(h,A),t(g,K),t(g,V),t(V,k),t(V,p),t(e,D),t(e,n),t(n,_),t(_,B),t(_,O),t(_,q);for(let d=0;d<R.length;d+=1)R[d]&&R[d].m(q,null);t(e,N),t(e,P);for(let d=0;d<X.length;d+=1)X[d]&&X[d].m(P,null)},p(m,f){f[0]&256&&y!==(y=m[8].length+"")&&se(A,y),f[0]&256&&$!==($=m[8].length===1?"Submission":"Submissions")&&se(k,$),f[0]&9600&&(L=Xe(m[8]),R=st(R,f,J,1,m,L,U,q,at,it,null,ot)),f[0]&9600&&(ee=Xe(m[8]),X=st(X,f,re,1,m,ee,ae,P,at,ct,null,nt))},i:Ke,o:Ke,d(m){m&&r(e);for(let f=0;f<R.length;f+=1)R[f].d();for(let f=0;f<X.length;f+=1)X[f].d()}}}function jt(c){let e,l;return e=new Ze({props:{icon:"⚠️",title:"Access Restricted",message:"Officer privileges are required to review submissions.",actionLabel:"Back to Officer Tools",actionHref:"/officers"}}),{c(){qe(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,v){Oe(e,s,v),l=!0},p:Ke,i(s){l||(Ve(e.$$.fragment,s),l=!0)},o(s){Ie(e.$$.fragment,s),l=!1},d(s){He(e,s)}}}function Tt(c){let e,l;return e=new Ze({props:{icon:"🔒",title:"Authentication Required",message:"Please log in to access the approvals system.",actionLabel:"Sign In",actionHref:"/login"}}),{c(){qe(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,v){Oe(e,s,v),l=!0},p:Ke,i(s){l||(Ve(e.$$.fragment,s),l=!0)},o(s){Ie(e.$$.fragment,s),l=!1},d(s){He(e,s)}}}function $t(c){let e,l;return e=new It({props:{message:"Loading submissions..."}}),{c(){qe(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,v){Oe(e,s,v),l=!0},p:Ke,i(s){l||(Ve(e.$$.fragment,s),l=!0)},o(s){Ie(e.$$.fragment,s),l=!1},d(s){He(e,s)}}}function Rt(c){let e;return{c(){e=T("🔄 Refresh")},l(l){e=j(l,"🔄 Refresh")},m(l,s){me(l,e,s)},d(l){l&&r(e)}}}function Mt(c){let e,l;return e=new yt({props:{variant:"secondary",$$slots:{default:[Rt]},$$scope:{ctx:c}}}),e.$on("click",c[26]),{c(){qe(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,v){Oe(e,s,v),l=!0},p(s,v){const C={};v[1]&32&&(C.$$scope={dirty:v,ctx:s}),e.$set(C)},i(s){l||(Ve(e.$$.fragment,s),l=!0)},o(s){Ie(e.$$.fragment,s),l=!1},d(s){He(e,s)}}}function it(c,e){let l,s,v,C,g=e[31].member.name[0].toUpperCase()+"",h,y,A,K=e[31].member.name+"",V,$,k,p,D=e[31].category+"",n,_,B,x=e[31].description+"",O,q,R,U,N=e[31].points+"",P,X,ae,L=Se(e[31].event_date)+"",J,ee,re,m=(e[31].submitted_at?Se(e[31].submitted_at):"Not available")+"",f,d,W,H,I,ce,te,S,Q,oe,ie,de;function fe(){return e[22](e[31])}function Ee(){return e[23](e[31])}return{key:c,first:null,c(){l=i("tr"),s=i("td"),v=i("div"),C=i("div"),h=T(g),y=w(),A=i("span"),V=T(K),$=w(),k=i("td"),p=i("span"),n=T(D),_=w(),B=i("td"),O=T(x),q=w(),R=i("td"),U=i("span"),P=T(N),X=w(),ae=i("td"),J=T(L),ee=w(),re=i("td"),f=T(m),d=w(),W=i("td"),H=i("div"),I=i("button"),ce=T("✅ Approve"),te=w(),S=i("button"),Q=T("❌ Reject"),oe=w(),this.h()},l(ue){l=o(ue,"TR",{class:!0});var E=u(l);s=o(E,"TD",{class:!0});var le=u(s);v=o(le,"DIV",{class:!0});var z=u(v);C=o(z,"DIV",{class:!0});var G=u(C);h=j(G,g),G.forEach(r),y=b(z),A=o(z,"SPAN",{class:!0});var F=u(A);V=j(F,K),F.forEach(r),z.forEach(r),le.forEach(r),$=b(E),k=o(E,"TD",{class:!0});var be=u(k);p=o(be,"SPAN",{class:!0});var ne=u(p);n=j(ne,D),ne.forEach(r),be.forEach(r),_=b(E),B=o(E,"TD",{class:!0});var we=u(B);O=j(we,x),we.forEach(r),q=b(E),R=o(E,"TD",{class:!0});var ke=u(R);U=o(ke,"SPAN",{class:!0});var De=u(U);P=j(De,N),De.forEach(r),ke.forEach(r),X=b(E),ae=o(E,"TD",{class:!0});var ye=u(ae);J=j(ye,L),ye.forEach(r),ee=b(E),re=o(E,"TD",{class:!0});var ve=u(re);f=j(ve,m),ve.forEach(r),d=b(E),W=o(E,"TD",{class:!0});var M=u(W);H=o(M,"DIV",{class:!0});var Y=u(H);I=o(Y,"BUTTON",{class:!0});var Z=u(I);ce=j(Z,"✅ Approve"),Z.forEach(r),te=b(Y),S=o(Y,"BUTTON",{class:!0});var pe=u(S);Q=j(pe,"❌ Reject"),pe.forEach(r),Y.forEach(r),M.forEach(r),oe=b(E),E.forEach(r),this.h()},h(){a(C,"class","member-avatar svelte-ar8wml"),a(A,"class","member-name svelte-ar8wml"),a(v,"class","member-info svelte-ar8wml"),a(s,"class","member-cell svelte-ar8wml"),a(p,"class","category-badge svelte-ar8wml"),a(k,"class","category-cell svelte-ar8wml"),a(B,"class","description-cell svelte-ar8wml"),a(U,"class","points-value svelte-ar8wml"),a(R,"class","points-cell svelte-ar8wml"),a(ae,"class","date-cell svelte-ar8wml"),a(re,"class","submitted-cell svelte-ar8wml"),a(I,"class","approve-btn svelte-ar8wml"),I.disabled=e[7],a(S,"class","reject-btn svelte-ar8wml"),S.disabled=e[7],a(H,"class","action-buttons svelte-ar8wml"),a(W,"class","actions-cell svelte-ar8wml"),a(l,"class","submission-row svelte-ar8wml"),this.first=l},m(ue,E){me(ue,l,E),t(l,s),t(s,v),t(v,C),t(C,h),t(v,y),t(v,A),t(A,V),t(l,$),t(l,k),t(k,p),t(p,n),t(l,_),t(l,B),t(B,O),t(l,q),t(l,R),t(R,U),t(U,P),t(l,X),t(l,ae),t(ae,J),t(l,ee),t(l,re),t(re,f),t(l,d),t(l,W),t(W,H),t(H,I),t(I,ce),t(H,te),t(H,S),t(S,Q),t(l,oe),ie||(de=[ge(I,"click",fe),ge(S,"click",Ee)],ie=!0)},p(ue,E){e=ue,E[0]&256&&g!==(g=e[31].member.name[0].toUpperCase()+"")&&se(h,g),E[0]&256&&K!==(K=e[31].member.name+"")&&se(V,K),E[0]&256&&D!==(D=e[31].category+"")&&se(n,D),E[0]&256&&x!==(x=e[31].description+"")&&se(O,x),E[0]&256&&N!==(N=e[31].points+"")&&se(P,N),E[0]&256&&L!==(L=Se(e[31].event_date)+"")&&se(J,L),E[0]&256&&m!==(m=(e[31].submitted_at?Se(e[31].submitted_at):"Not available")+"")&&se(f,m),E[0]&128&&(I.disabled=e[7]),E[0]&128&&(S.disabled=e[7])},d(ue){ue&&r(l),ie=!1,Qe(de)}}}function ct(c,e){let l,s,v,C,g=e[31].member.name[0].toUpperCase()+"",h,y,A,K,V=e[31].member.name+"",$,k,p,D,n=Se(e[31].submitted_at)+"",_,B,x,O=e[31].category+"",q,R,U,N,P,X="Description:",ae,L,J=e[31].description+"",ee,re,m,f,d="Points:",W,H,I=e[31].points+"",ce,te,S,Q,oe="Event Date:",ie,de,fe=Se(e[31].event_date)+"",Ee,ue,E,le,z,G,F,be,ne,we,ke;function De(){return e[24](e[31])}function ye(){return e[25](e[31])}return{key:c,first:null,c(){l=i("div"),s=i("div"),v=i("div"),C=i("div"),h=T(g),y=w(),A=i("div"),K=i("div"),$=T(V),k=w(),p=i("div"),D=T("Submitted "),_=T(n),B=w(),x=i("span"),q=T(O),R=w(),U=i("div"),N=i("div"),P=i("span"),P.textContent=X,ae=w(),L=i("span"),ee=T(J),re=w(),m=i("div"),f=i("span"),f.textContent=d,W=w(),H=i("span"),ce=T(I),te=w(),S=i("div"),Q=i("span"),Q.textContent=oe,ie=w(),de=i("span"),Ee=T(fe),ue=w(),E=i("div"),le=i("button"),z=T("✅ Approve"),G=w(),F=i("button"),be=T("❌ Reject"),ne=w(),this.h()},l(ve){l=o(ve,"DIV",{class:!0});var M=u(l);s=o(M,"DIV",{class:!0});var Y=u(s);v=o(Y,"DIV",{class:!0});var Z=u(v);C=o(Z,"DIV",{class:!0});var pe=u(C);h=j(pe,g),pe.forEach(r),y=b(Z),A=o(Z,"DIV",{class:!0});var Ce=u(A);K=o(Ce,"DIV",{class:!0});var he=u(K);$=j(he,V),he.forEach(r),k=b(Ce),p=o(Ce,"DIV",{class:!0});var Ne=u(p);D=j(Ne,"Submitted "),_=j(Ne,n),Ne.forEach(r),Ce.forEach(r),Z.forEach(r),B=b(Y),x=o(Y,"SPAN",{class:!0});var Fe=u(x);q=j(Fe,O),Fe.forEach(r),Y.forEach(r),R=b(M),U=o(M,"DIV",{class:!0});var Ae=u(U);N=o(Ae,"DIV",{class:!0});var Pe=u(N);P=o(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),_e(P)!=="svelte-18hxrur"&&(P.textContent=X),ae=b(Pe),L=o(Pe,"SPAN",{class:!0});var je=u(L);ee=j(je,J),je.forEach(r),Pe.forEach(r),re=b(Ae),m=o(Ae,"DIV",{class:!0});var Te=u(m);f=o(Te,"SPAN",{class:!0,"data-svelte-h":!0}),_e(f)!=="svelte-11v1tm"&&(f.textContent=d),W=b(Te),H=o(Te,"SPAN",{class:!0});var $e=u(H);ce=j($e,I),$e.forEach(r),Te.forEach(r),te=b(Ae),S=o(Ae,"DIV",{class:!0});var Re=u(S);Q=o(Re,"SPAN",{class:!0,"data-svelte-h":!0}),_e(Q)!=="svelte-1c8g29x"&&(Q.textContent=oe),ie=b(Re),de=o(Re,"SPAN",{class:!0});var Me=u(de);Ee=j(Me,fe),Me.forEach(r),Re.forEach(r),Ae.forEach(r),ue=b(M),E=o(M,"DIV",{class:!0});var Be=u(E);le=o(Be,"BUTTON",{class:!0});var Le=u(le);z=j(Le,"✅ Approve"),Le.forEach(r),G=b(Be),F=o(Be,"BUTTON",{class:!0});var Ye=u(F);be=j(Ye,"❌ Reject"),Ye.forEach(r),Be.forEach(r),ne=b(M),M.forEach(r),this.h()},h(){a(C,"class","member-avatar svelte-ar8wml"),a(K,"class","member-name svelte-ar8wml"),a(p,"class","submission-date svelte-ar8wml"),a(A,"class","member-details svelte-ar8wml"),a(v,"class","member-info svelte-ar8wml"),a(x,"class","category-badge svelte-ar8wml"),a(s,"class","card-header svelte-ar8wml"),a(P,"class","label svelte-ar8wml"),a(L,"class","value svelte-ar8wml"),a(N,"class","card-row svelte-ar8wml"),a(f,"class","label svelte-ar8wml"),a(H,"class","value points-value svelte-ar8wml"),a(m,"class","card-row svelte-ar8wml"),a(Q,"class","label svelte-ar8wml"),a(de,"class","value svelte-ar8wml"),a(S,"class","card-row svelte-ar8wml"),a(U,"class","card-body svelte-ar8wml"),a(le,"class","approve-btn mobile svelte-ar8wml"),le.disabled=e[7],a(F,"class","reject-btn mobile svelte-ar8wml"),F.disabled=e[7],a(E,"class","card-actions svelte-ar8wml"),a(l,"class","mobile-card svelte-ar8wml"),this.first=l},m(ve,M){me(ve,l,M),t(l,s),t(s,v),t(v,C),t(C,h),t(v,y),t(v,A),t(A,K),t(K,$),t(A,k),t(A,p),t(p,D),t(p,_),t(s,B),t(s,x),t(x,q),t(l,R),t(l,U),t(U,N),t(N,P),t(N,ae),t(N,L),t(L,ee),t(U,re),t(U,m),t(m,f),t(m,W),t(m,H),t(H,ce),t(U,te),t(U,S),t(S,Q),t(S,ie),t(S,de),t(de,Ee),t(l,ue),t(l,E),t(E,le),t(le,z),t(E,G),t(E,F),t(F,be),t(l,ne),we||(ke=[ge(le,"click",De),ge(F,"click",ye)],we=!0)},p(ve,M){e=ve,M[0]&256&&g!==(g=e[31].member.name[0].toUpperCase()+"")&&se(h,g),M[0]&256&&V!==(V=e[31].member.name+"")&&se($,V),M[0]&256&&n!==(n=Se(e[31].submitted_at)+"")&&se(_,n),M[0]&256&&O!==(O=e[31].category+"")&&se(q,O),M[0]&256&&J!==(J=e[31].description+"")&&se(ee,J),M[0]&256&&I!==(I=e[31].points+"")&&se(ce,I),M[0]&256&&fe!==(fe=Se(e[31].event_date)+"")&&se(Ee,fe),M[0]&128&&(le.disabled=e[7]),M[0]&128&&(F.disabled=e[7])},d(ve){ve&&r(l),we=!1,Qe(ke)}}}function dt(c){let e,l;return{c(){e=i("div"),l=T(c[2]),this.h()},l(s){e=o(s,"DIV",{class:!0});var v=u(e);l=j(v,c[2]),v.forEach(r),this.h()},h(){a(e,"class","message-banner error svelte-ar8wml")},m(s,v){me(s,e,v),t(e,l)},p(s,v){v[0]&4&&se(l,s[2])},d(s){s&&r(e)}}}function vt(c){let e,l,s,v='<h3 id="approval-modal-title" class="svelte-ar8wml">✅ Approve Submission</h3>',C,g,h,y,A,K="Member:",V,$,k=c[5].member.name+"",p,D,n,_,B="Category:",x,O,q=c[5].category+"",R,U,N,P,X="Description:",ae,L,J=c[5].description+"",ee,re,m,f,d="Points:",W,H,I=c[5].points+"",ce,te,S,Q,oe="Event Date:",ie,de,fe=Se(c[5].event_date)+"",Ee,ue,E,le="Are you sure you want to approve this submission?",z,G,F,be,ne,we,ke,De;function ye(Y,Z){return Y[7]?Lt:Bt}let ve=ye(c),M=ve(c);return{c(){e=i("div"),l=i("div"),s=i("div"),s.innerHTML=v,C=w(),g=i("div"),h=i("div"),y=i("div"),A=i("span"),A.textContent=K,V=w(),$=i("span"),p=T(k),D=w(),n=i("div"),_=i("span"),_.textContent=B,x=w(),O=i("span"),R=T(q),U=w(),N=i("div"),P=i("span"),P.textContent=X,ae=w(),L=i("span"),ee=T(J),re=w(),m=i("div"),f=i("span"),f.textContent=d,W=w(),H=i("span"),ce=T(I),te=w(),S=i("div"),Q=i("span"),Q.textContent=oe,ie=w(),de=i("span"),Ee=T(fe),ue=w(),E=i("p"),E.textContent=le,z=w(),G=i("div"),F=i("button"),M.c(),be=w(),ne=i("button"),we=T("Cancel"),this.h()},l(Y){e=o(Y,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var Z=u(e);l=o(Z,"DIV",{class:!0});var pe=u(l);s=o(pe,"DIV",{class:!0,"data-svelte-h":!0}),_e(s)!=="svelte-1v7xkf7"&&(s.innerHTML=v),C=b(pe),g=o(pe,"DIV",{class:!0});var Ce=u(g);h=o(Ce,"DIV",{class:!0});var he=u(h);y=o(he,"DIV",{class:!0});var Ne=u(y);A=o(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),_e(A)!=="svelte-jkdpdi"&&(A.textContent=K),V=b(Ne),$=o(Ne,"SPAN",{class:!0});var Fe=u($);p=j(Fe,k),Fe.forEach(r),Ne.forEach(r),D=b(he),n=o(he,"DIV",{class:!0});var Ae=u(n);_=o(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),_e(_)!=="svelte-dtx40s"&&(_.textContent=B),x=b(Ae),O=o(Ae,"SPAN",{class:!0});var Pe=u(O);R=j(Pe,q),Pe.forEach(r),Ae.forEach(r),U=b(he),N=o(he,"DIV",{class:!0});var je=u(N);P=o(je,"SPAN",{class:!0,"data-svelte-h":!0}),_e(P)!=="svelte-qhn0yq"&&(P.textContent=X),ae=b(je),L=o(je,"SPAN",{class:!0});var Te=u(L);ee=j(Te,J),Te.forEach(r),je.forEach(r),re=b(he),m=o(he,"DIV",{class:!0});var $e=u(m);f=o($e,"SPAN",{class:!0,"data-svelte-h":!0}),_e(f)!=="svelte-1ih93pn"&&(f.textContent=d),W=b($e),H=o($e,"SPAN",{class:!0});var Re=u(H);ce=j(Re,I),Re.forEach(r),$e.forEach(r),te=b(he),S=o(he,"DIV",{class:!0});var Me=u(S);Q=o(Me,"SPAN",{class:!0,"data-svelte-h":!0}),_e(Q)!=="svelte-1cv2ya0"&&(Q.textContent=oe),ie=b(Me),de=o(Me,"SPAN",{class:!0});var Be=u(de);Ee=j(Be,fe),Be.forEach(r),Me.forEach(r),he.forEach(r),ue=b(Ce),E=o(Ce,"P",{class:!0,"data-svelte-h":!0}),_e(E)!=="svelte-owyabg"&&(E.textContent=le),Ce.forEach(r),z=b(pe),G=o(pe,"DIV",{class:!0});var Le=u(G);F=o(Le,"BUTTON",{class:!0,"aria-describedby":!0});var Ye=u(F);M.l(Ye),Ye.forEach(r),be=b(Le),ne=o(Le,"BUTTON",{class:!0});var xe=u(ne);we=j(xe,"Cancel"),xe.forEach(r),Le.forEach(r),pe.forEach(r),Z.forEach(r),this.h()},h(){a(s,"class","modal-header svelte-ar8wml"),a(A,"class","preview-label svelte-ar8wml"),a($,"class","preview-value svelte-ar8wml"),a(y,"class","preview-row svelte-ar8wml"),a(_,"class","preview-label svelte-ar8wml"),a(O,"class","preview-value svelte-ar8wml"),a(n,"class","preview-row svelte-ar8wml"),a(P,"class","preview-label svelte-ar8wml"),a(L,"class","preview-value svelte-ar8wml"),a(N,"class","preview-row svelte-ar8wml"),a(f,"class","preview-label svelte-ar8wml"),a(H,"class","preview-value points-highlight svelte-ar8wml"),a(m,"class","preview-row svelte-ar8wml"),a(Q,"class","preview-label svelte-ar8wml"),a(de,"class","preview-value svelte-ar8wml"),a(S,"class","preview-row svelte-ar8wml"),a(h,"class","submission-preview svelte-ar8wml"),a(E,"class","confirmation-text svelte-ar8wml"),a(g,"class","modal-body svelte-ar8wml"),a(F,"class","confirm-approve-btn svelte-ar8wml"),F.disabled=c[7],a(F,"aria-describedby","approval-modal-title"),a(ne,"class","cancel-btn svelte-ar8wml"),ne.disabled=c[7],a(G,"class","modal-actions svelte-ar8wml"),a(l,"class","modal approval-modal svelte-ar8wml"),a(e,"class","modal-overlay svelte-ar8wml"),a(e,"role","dialog"),a(e,"aria-modal","true"),a(e,"aria-labelledby","approval-modal-title")},m(Y,Z){me(Y,e,Z),t(e,l),t(l,s),t(l,C),t(l,g),t(g,h),t(h,y),t(y,A),t(y,V),t(y,$),t($,p),t(h,D),t(h,n),t(n,_),t(n,x),t(n,O),t(O,R),t(h,U),t(h,N),t(N,P),t(N,ae),t(N,L),t(L,ee),t(h,re),t(h,m),t(m,f),t(m,W),t(m,H),t(H,ce),t(h,te),t(h,S),t(S,Q),t(S,ie),t(S,de),t(de,Ee),t(g,ue),t(g,E),t(l,z),t(l,G),t(G,F),M.m(F,null),t(G,be),t(G,ne),t(ne,we),ke||(De=[ge(F,"click",c[11]),ge(ne,"click",c[12]),ge(l,"click",mt(c[21])),ge(e,"click",c[12]),ge(e,"keydown",c[27])],ke=!0)},p(Y,Z){Z[0]&32&&k!==(k=Y[5].member.name+"")&&se(p,k),Z[0]&32&&q!==(q=Y[5].category+"")&&se(R,q),Z[0]&32&&J!==(J=Y[5].description+"")&&se(ee,J),Z[0]&32&&I!==(I=Y[5].points+"")&&se(ce,I),Z[0]&32&&fe!==(fe=Se(Y[5].event_date)+"")&&se(Ee,fe),ve!==(ve=ye(Y))&&(M.d(1),M=ve(Y),M&&(M.c(),M.m(F,null))),Z[0]&128&&(F.disabled=Y[7]),Z[0]&128&&(ne.disabled=Y[7])},d(Y){Y&&r(e),M.d(),ke=!1,Qe(De)}}}function Bt(c){let e;return{c(){e=T("✅ Yes, Approve")},l(l){e=j(l,"✅ Yes, Approve")},m(l,s){me(l,e,s)},d(l){l&&r(e)}}}function Lt(c){let e,l;return{c(){e=i("span"),l=T(`
              Approving...`),this.h()},l(s){e=o(s,"SPAN",{class:!0}),u(e).forEach(r),l=j(s,`
              Approving...`),this.h()},h(){a(e,"class","button-spinner svelte-ar8wml")},m(s,v){me(s,e,v),me(s,l,v)},d(s){s&&(r(e),r(l))}}}function ut(c){let e,l,s,v='<h3 id="reject-modal-title" class="svelte-ar8wml">❌ Reject Submission</h3>',C,g,h,y,A,K="Member:",V,$,k=c[5].member.name+"",p,D,n,_,B="Category:",x,O,q=c[5].category+"",R,U,N,P,X="Description:",ae,L,J=c[5].description+"",ee,re,m,f,d,W="Reason for rejection *",H,I,ce,te,S,Q,oe,ie,de,fe,Ee;function ue(z,G){return z[7]?Ot:Ht}let E=ue(c),le=E(c);return{c(){e=i("div"),l=i("div"),s=i("div"),s.innerHTML=v,C=w(),g=i("div"),h=i("div"),y=i("div"),A=i("span"),A.textContent=K,V=w(),$=i("span"),p=T(k),D=w(),n=i("div"),_=i("span"),_.textContent=B,x=w(),O=i("span"),R=T(q),U=w(),N=i("div"),P=i("span"),P.textContent=X,ae=w(),L=i("span"),ee=T(J),re=w(),m=i("div"),f=i("label"),d=i("span"),d.textContent=W,H=w(),I=i("textarea"),ce=w(),te=i("div"),S=i("button"),le.c(),oe=w(),ie=i("button"),de=T("Cancel"),this.h()},l(z){e=o(z,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var G=u(e);l=o(G,"DIV",{class:!0});var F=u(l);s=o(F,"DIV",{class:!0,"data-svelte-h":!0}),_e(s)!=="svelte-ai5adu"&&(s.innerHTML=v),C=b(F),g=o(F,"DIV",{class:!0});var be=u(g);h=o(be,"DIV",{class:!0});var ne=u(h);y=o(ne,"DIV",{class:!0});var we=u(y);A=o(we,"SPAN",{class:!0,"data-svelte-h":!0}),_e(A)!=="svelte-jkdpdi"&&(A.textContent=K),V=b(we),$=o(we,"SPAN",{class:!0});var ke=u($);p=j(ke,k),ke.forEach(r),we.forEach(r),D=b(ne),n=o(ne,"DIV",{class:!0});var De=u(n);_=o(De,"SPAN",{class:!0,"data-svelte-h":!0}),_e(_)!=="svelte-dtx40s"&&(_.textContent=B),x=b(De),O=o(De,"SPAN",{class:!0});var ye=u(O);R=j(ye,q),ye.forEach(r),De.forEach(r),U=b(ne),N=o(ne,"DIV",{class:!0});var ve=u(N);P=o(ve,"SPAN",{class:!0,"data-svelte-h":!0}),_e(P)!=="svelte-qhn0yq"&&(P.textContent=X),ae=b(ve),L=o(ve,"SPAN",{class:!0});var M=u(L);ee=j(M,J),M.forEach(r),ve.forEach(r),ne.forEach(r),re=b(be),m=o(be,"DIV",{class:!0});var Y=u(m);f=o(Y,"LABEL",{for:!0});var Z=u(f);d=o(Z,"SPAN",{class:!0,"data-svelte-h":!0}),_e(d)!=="svelte-wte97i"&&(d.textContent=W),H=b(Z),I=o(Z,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,"aria-describedby":!0,class:!0}),u(I).forEach(r),Z.forEach(r),Y.forEach(r),be.forEach(r),ce=b(F),te=o(F,"DIV",{class:!0});var pe=u(te);S=o(pe,"BUTTON",{class:!0,"aria-describedby":!0});var Ce=u(S);le.l(Ce),Ce.forEach(r),oe=b(pe),ie=o(pe,"BUTTON",{class:!0});var he=u(ie);de=j(he,"Cancel"),he.forEach(r),pe.forEach(r),F.forEach(r),G.forEach(r),this.h()},h(){a(s,"class","modal-header svelte-ar8wml"),a(A,"class","preview-label svelte-ar8wml"),a($,"class","preview-value svelte-ar8wml"),a(y,"class","preview-row svelte-ar8wml"),a(_,"class","preview-label svelte-ar8wml"),a(O,"class","preview-value svelte-ar8wml"),a(n,"class","preview-row svelte-ar8wml"),a(P,"class","preview-label svelte-ar8wml"),a(L,"class","preview-value svelte-ar8wml"),a(N,"class","preview-row svelte-ar8wml"),a(h,"class","submission-preview svelte-ar8wml"),a(d,"class","reason-label svelte-ar8wml"),a(I,"id","rejection-reason"),a(I,"placeholder","Please provide a clear reason for rejecting this submission..."),a(I,"rows","4"),I.disabled=c[7],I.required=!0,a(I,"aria-describedby","reject-modal-title"),a(I,"class","svelte-ar8wml"),a(f,"for","rejection-reason"),a(m,"class","reason-section svelte-ar8wml"),a(g,"class","modal-body svelte-ar8wml"),a(S,"class","confirm-reject-btn svelte-ar8wml"),S.disabled=Q=c[7]||!c[6].trim(),a(S,"aria-describedby","reject-modal-title"),a(ie,"class","cancel-btn svelte-ar8wml"),ie.disabled=c[7],a(te,"class","modal-actions svelte-ar8wml"),a(l,"class","modal reject-modal svelte-ar8wml"),a(e,"class","modal-overlay svelte-ar8wml"),a(e,"role","dialog"),a(e,"aria-modal","true"),a(e,"aria-labelledby","reject-modal-title")},m(z,G){me(z,e,G),t(e,l),t(l,s),t(l,C),t(l,g),t(g,h),t(h,y),t(y,A),t(y,V),t(y,$),t($,p),t(h,D),t(h,n),t(n,_),t(n,x),t(n,O),t(O,R),t(h,U),t(h,N),t(N,P),t(N,ae),t(N,L),t(L,ee),t(g,re),t(g,m),t(m,f),t(f,d),t(f,H),t(f,I),lt(I,c[6]),t(l,ce),t(l,te),t(te,S),le.m(S,null),t(te,oe),t(te,ie),t(ie,de),fe||(Ee=[ge(I,"input",c[28]),ge(S,"click",c[14]),ge(ie,"click",c[15]),ge(l,"click",mt(c[20])),ge(e,"click",c[15]),ge(e,"keydown",c[29])],fe=!0)},p(z,G){G[0]&32&&k!==(k=z[5].member.name+"")&&se(p,k),G[0]&32&&q!==(q=z[5].category+"")&&se(R,q),G[0]&32&&J!==(J=z[5].description+"")&&se(ee,J),G[0]&128&&(I.disabled=z[7]),G[0]&64&&lt(I,z[6]),E!==(E=ue(z))&&(le.d(1),le=E(z),le&&(le.c(),le.m(S,null))),G[0]&192&&Q!==(Q=z[7]||!z[6].trim())&&(S.disabled=Q),G[0]&128&&(ie.disabled=z[7])},d(z){z&&r(e),le.d(),fe=!1,Qe(Ee)}}}function Ht(c){let e;return{c(){e=T("❌ Reject Submission")},l(l){e=j(l,"❌ Reject Submission")},m(l,s){me(l,e,s)},d(l){l&&r(e)}}}function Ot(c){let e,l;return{c(){e=i("span"),l=T(`
              Rejecting...`),this.h()},l(s){e=o(s,"SPAN",{class:!0}),u(e).forEach(r),l=j(s,`
              Rejecting...`),this.h()},h(){a(e,"class","button-spinner svelte-ar8wml")},m(s,v){me(s,e,v),me(s,l,v)},d(s){s&&(r(e),r(l))}}}function Ut(c){let e,l,s,v,C,g,h,y,A;e=new St({props:{title:"Review Submissions",subtitle:"Approve or reject member point submissions",icon:"✅",center:!0}});const K=[$t,Tt,jt,Pt,Nt],V=[];function $(n,_){var B;return n[9]?0:n[1]?(B=n[0])!=null&&B.is_officer?n[8].length>0?3:4:2:1}s=$(c),v=V[s]=K[s](c);let k=c[2]&&dt(c),p=c[3]&&c[5]&&vt(c),D=c[4]&&c[5]&&ut(c);return{c(){qe(e.$$.fragment),l=w(),v.c(),C=w(),k&&k.c(),g=w(),p&&p.c(),h=w(),D&&D.c(),y=et()},l(n){Ue(e.$$.fragment,n),l=b(n),v.l(n),C=b(n),k&&k.l(n),g=b(n),p&&p.l(n),h=b(n),D&&D.l(n),y=et()},m(n,_){Oe(e,n,_),me(n,l,_),V[s].m(n,_),me(n,C,_),k&&k.m(n,_),me(n,g,_),p&&p.m(n,_),me(n,h,_),D&&D.m(n,_),me(n,y,_),A=!0},p(n,_){let B=s;s=$(n),s===B?V[s].p(n,_):(wt(),Ie(V[B],1,1,()=>{V[B]=null}),gt(),v=V[s],v?v.p(n,_):(v=V[s]=K[s](n),v.c()),Ve(v,1),v.m(C.parentNode,C)),n[2]?k?k.p(n,_):(k=dt(n),k.c(),k.m(g.parentNode,g)):k&&(k.d(1),k=null),n[3]&&n[5]?p?p.p(n,_):(p=vt(n),p.c(),p.m(h.parentNode,h)):p&&(p.d(1),p=null),n[4]&&n[5]?D?D.p(n,_):(D=ut(n),D.c(),D.m(y.parentNode,y)):D&&(D.d(1),D=null)},i(n){A||(Ve(e.$$.fragment,n),Ve(v),A=!0)},o(n){Ie(e.$$.fragment,n),Ie(v),A=!1},d(n){n&&(r(l),r(C),r(g),r(h),r(y)),He(e,n),V[s].d(n),k&&k.d(n),p&&p.d(n),D&&D.d(n)}}}function qt(c){let e,l;return e=new Vt({props:{size:"lg",$$slots:{default:[Ut]},$$scope:{ctx:c}}}),{c(){qe(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,v){Oe(e,s,v),l=!0},p(s,v){const C={};v[0]&1023|v[1]&32&&(C.$$scope={dirty:v,ctx:s}),e.$set(C)},i(s){l||(Ve(e.$$.fragment,s),l=!0)},o(s){Ie(e.$$.fragment,s),l=!1},d(s){He(e,s)}}}function zt(){return()=>{}}function Ft(c,e,l){let s,v,C,g,h,y,A,K;ze(c,At,d=>l(17,C=d)),ze(c,kt,d=>l(0,g=d)),ze(c,Et,d=>l(1,h=d)),ze(c,Dt,d=>l(18,y=d)),ze(c,We,d=>l(19,A=d)),ze(c,Ct,d=>l(9,K=d));let V="",$=!1,k=!1,p=null,D="",n=!1,_=[];function B(d){l(5,p=d),l(3,$=!0)}async function x(){if(!(!p||n)){l(7,n=!0);try{const{error:d}=await rt.from("point_submissions").update({approved:!0,updated_at:new Date().toISOString()}).eq("id",p.id);if(d)throw d;Ge.success(`✅ Approved ${p.member.name}'s submission for ${p.points} points!`),We.update(W=>W.filter(H=>H.id!==p.id)),O()}catch(d){console.error("Approval error:",d),Ge.error("Failed to approve submission. Please try again.")}finally{l(7,n=!1)}}}function O(){l(3,$=!1),l(5,p=null)}function q(d){l(5,p=d),l(6,D=""),l(4,k=!0)}async function R(){if(!D.trim()||n){Ge.error("Please enter a reason for rejection.");return}l(7,n=!0);try{const{error:d}=await rt.from("point_submissions").update({rejection_reason:D.trim(),approved:!1,updated_at:new Date().toISOString()}).eq("id",p.id);if(d)throw d;Ge.success(`❌ Rejected ${p.member.name}'s submission`),We.update(W=>W.filter(H=>H.id!==p.id)),U()}catch(d){console.error("Rejection error:",d),Ge.error("Failed to reject submission. Please try again.")}finally{l(7,n=!1)}}function U(){l(4,k=!1),l(5,p=null),l(6,D="")}pt(()=>{const d=zt();_.push(d),v&&Je(!0)}),_t(()=>{_.forEach(d=>d())});function N(d){tt.call(this,c,d)}function P(d){tt.call(this,c,d)}const X=d=>B(d),ae=d=>q(d),L=d=>B(d),J=d=>q(d),ee=()=>Je(!0),re=d=>d.key==="Escape"&&O();function m(){D=this.value,l(6,D)}const f=d=>d.key==="Escape"&&U();return c.$$.update=()=>{c.$$.dirty[0]&524288&&l(8,s=A),c.$$.dirty[0]&262144&&l(2,V=y),c.$$.dirty[0]&3&&l(16,v=h&&(g==null?void 0:g.is_officer)),c.$$.dirty[0]&65536&&v&&Je(!0),c.$$.dirty[0]&196608&&C.url.pathname==="/officers/approvals"&&v&&Je(!0)},[g,h,V,$,k,p,D,n,s,K,B,x,O,q,R,U,v,C,y,A,N,P,X,ae,L,J,ee,re,m,f]}class ol extends ht{constructor(e){super(),bt(this,e,Ft,qt,ft,{},null,[-1,-1])}}export{ol as component};
