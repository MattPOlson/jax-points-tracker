import{s as $e,n as _e,d,i as R,b as n,p as Xe,q as p,c as v,e as y,v as Z,g as w,h,j as V,w as et,x as tt,a as O,f as S,t as T,y as Pe,A as Me,B as Ve,z as ye,G as fe}from"../chunks/orW8a4RU.js";import{e as me}from"../chunks/BYoXW1o8.js";import{S as lt,i as st}from"../chunks/wt4xWrh0.js";import{g as at}from"../chunks/C_vtffu0.js";import{s as ge}from"../chunks/CCM_4jRA.js";function He(r,e,l){const t=r.slice();return t[12]=e[l][0],t[13]=e[l][1],t}function Re(r,e,l){const t=r.slice();return t[16]=e[l],t}function Be(r,e,l){const t=r.slice();return t[16]=e[l],t}function Oe(r,e,l){const t=r.slice();return t[21]=e[l],t}function qe(r){let e,l;return{c(){e=h("div"),l=T(r[6]),this.h()},l(t){e=v(t,"DIV",{class:!0});var a=y(e);l=S(a,r[6]),a.forEach(d),this.h()},h(){p(e,"class","error svelte-1vzx3sh")},m(t,a){R(t,e,a),n(e,l)},p(t,a){a&64&&O(l,t[6])},d(t){t&&d(e)}}}function nt(r){let e,l,t="Select Competition to View Results:",a,o,i,s="Choose a competition...",u,_,m,E,D,I=me(r[2]),P=[];for(let c=0;c<I.length;c+=1)P[c]=Je(Oe(r,I,c));let f=r[3]&&Fe(r);return{c(){e=h("div"),l=h("div"),l.textContent=t,a=V(),o=h("select"),i=h("option"),i.textContent=s;for(let c=0;c<P.length;c+=1)P[c].c();_=V(),f&&f.c(),m=ye(),this.h()},l(c){e=v(c,"DIV",{class:!0});var g=y(e);l=v(g,"DIV",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-6famh2"&&(l.textContent=t),a=w(g),o=v(g,"SELECT",{class:!0});var j=y(o);i=v(j,"OPTION",{"data-svelte-h":!0}),Z(i)!=="svelte-1urbt8h"&&(i.textContent=s);for(let b=0;b<P.length;b+=1)P[b].l(j);j.forEach(d),g.forEach(d),_=w(c),f&&f.l(c),m=ye(),this.h()},h(){p(l,"class","selector-label svelte-1vzx3sh"),i.__value="",Ve(i,i.__value),p(o,"class","competition-select svelte-1vzx3sh"),p(e,"class","competition-selector svelte-1vzx3sh")},m(c,g){var j;R(c,e,g),n(e,l),n(e,a),n(e,o),n(o,i);for(let b=0;b<P.length;b+=1)P[b]&&P[b].m(o,null);Me(o,((j=r[3])==null?void 0:j.id)||""),R(c,_,g),f&&f.m(c,g),R(c,m,g),E||(D=Xe(o,"change",r[8]),E=!0)},p(c,g){var j,b;if(g&4){I=me(c[2]);let z;for(z=0;z<I.length;z+=1){const k=Oe(c,I,z);P[z]?P[z].p(k,g):(P[z]=Je(k),P[z].c(),P[z].m(o,null))}for(;z<P.length;z+=1)P[z].d(1);P.length=I.length}g&12&&u!==(u=((j=c[3])==null?void 0:j.id)||"")&&Me(o,((b=c[3])==null?void 0:b.id)||""),c[3]?f?f.p(c,g):(f=Fe(c),f.c(),f.m(m.parentNode,m)):f&&(f.d(1),f=null)},d(c){c&&(d(e),d(_),d(m)),Pe(P,c),f&&f.d(c),E=!1,D()}}}function rt(r){let e,l="<h3>No Results Published</h3> <p>There are currently no competition results available to view.</p> <p>Check back after competitions have been judged and results published.</p>";return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-ntmt9w"&&(e.innerHTML=l),this.h()},h(){p(e,"class","empty-state svelte-1vzx3sh")},m(t,a){R(t,e,a)},p:_e,d(t){t&&d(e)}}}function ot(r){let e,l='<div class="spinner svelte-1vzx3sh"></div> <p>Loading competition results...</p>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1c57wy0"&&(e.innerHTML=l),this.h()},h(){p(e,"class","loading svelte-1vzx3sh")},m(t,a){R(t,e,a)},p:_e,d(t){t&&d(e)}}}function Je(r){let e,l=r[21].name+"",t,a,o=We(r[21].judging_date)+"",i,s,u;return{c(){e=h("option"),t=T(l),a=T(" - Judged "),i=T(o),s=V(),this.h()},l(_){e=v(_,"OPTION",{});var m=y(e);t=S(m,l),a=S(m," - Judged "),i=S(m,o),s=w(m),m.forEach(d),this.h()},h(){e.__value=u=r[21].id,Ve(e,e.__value)},m(_,m){R(_,e,m),n(e,t),n(e,a),n(e,i),n(e,s)},p(_,m){m&4&&l!==(l=_[21].name+"")&&O(t,l),m&4&&o!==(o=We(_[21].judging_date)+"")&&O(i,o),m&4&&u!==(u=_[21].id)&&(e.__value=u,Ve(e,e.__value))},d(_){_&&d(e)}}}function Fe(r){let e,l,t=!r[5]&&r[0].length>0&&Ge(r);function a(s,u){return s[5]?ut:s[0].length===0?ct:it}let o=a(r),i=o(r);return{c(){t&&t.c(),e=V(),i.c(),l=ye()},l(s){t&&t.l(s),e=w(s),i.l(s),l=ye()},m(s,u){t&&t.m(s,u),R(s,e,u),i.m(s,u),R(s,l,u)},p(s,u){!s[5]&&s[0].length>0?t?t.p(s,u):(t=Ge(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o===(o=a(s))&&i?i.p(s,u):(i.d(1),i=o(s),i&&(i.c(),i.m(l.parentNode,l)))},d(s){s&&(d(e),d(l)),t&&t.d(s),i.d(s)}}}function Ge(r){let e,l,t=r[3].name+"",a,o,i,s,u,_,m="Total Entries",E,D,I=r[7].totalEntries+"",P,f,c,g,j="Awards Given",b,z,k=r[7].placedEntries+"",q,$,J,M,F="Categories",ae,K,G=r[7].categories+"",C,le,L,B,re="Average Score",te,A,se=r[7].averageScore+"",W;return{c(){e=h("div"),l=h("h2"),a=T(t),o=T(" - Results Summary"),i=V(),s=h("div"),u=h("div"),_=h("div"),_.textContent=m,E=V(),D=h("div"),P=T(I),f=V(),c=h("div"),g=h("div"),g.textContent=j,b=V(),z=h("div"),q=T(k),$=V(),J=h("div"),M=h("div"),M.textContent=F,ae=V(),K=h("div"),C=T(G),le=V(),L=h("div"),B=h("div"),B.textContent=re,te=V(),A=h("div"),W=T(se),this.h()},l(H){e=v(H,"DIV",{class:!0});var x=y(e);l=v(x,"H2",{style:!0});var N=y(l);a=S(N,t),o=S(N," - Results Summary"),N.forEach(d),i=w(x),s=v(x,"DIV",{class:!0});var X=y(s);u=v(X,"DIV",{class:!0});var ne=y(u);_=v(ne,"DIV",{class:!0,"data-svelte-h":!0}),Z(_)!=="svelte-ufm050"&&(_.textContent=m),E=w(ne),D=v(ne,"DIV",{class:!0});var ve=y(D);P=S(ve,I),ve.forEach(d),ne.forEach(d),f=w(X),c=v(X,"DIV",{class:!0});var ce=y(c);g=v(ce,"DIV",{class:!0,"data-svelte-h":!0}),Z(g)!=="svelte-1wthacd"&&(g.textContent=j),b=w(ce),z=v(ce,"DIV",{class:!0});var ue=y(z);q=S(ue,k),ue.forEach(d),ce.forEach(d),$=w(X),J=v(X,"DIV",{class:!0});var oe=y(J);M=v(oe,"DIV",{class:!0,"data-svelte-h":!0}),Z(M)!=="svelte-1t4zeo0"&&(M.textContent=F),ae=w(oe),K=v(oe,"DIV",{class:!0});var he=y(K);C=S(he,G),he.forEach(d),oe.forEach(d),le=w(X),L=v(X,"DIV",{class:!0});var Q=y(L);B=v(Q,"DIV",{class:!0,"data-svelte-h":!0}),Z(B)!=="svelte-r90083"&&(B.textContent=re),te=w(Q),A=v(Q,"DIV",{class:!0});var pe=y(A);W=S(pe,se),pe.forEach(d),Q.forEach(d),X.forEach(d),x.forEach(d),this.h()},h(){fe(l,"margin","0 0 1.5rem 0"),fe(l,"color","#333"),p(_,"class","summary-label svelte-1vzx3sh"),p(D,"class","summary-value svelte-1vzx3sh"),p(u,"class","summary-item svelte-1vzx3sh"),p(g,"class","summary-label svelte-1vzx3sh"),p(z,"class","summary-value svelte-1vzx3sh"),p(c,"class","summary-item svelte-1vzx3sh"),p(M,"class","summary-label svelte-1vzx3sh"),p(K,"class","summary-value svelte-1vzx3sh"),p(J,"class","summary-item svelte-1vzx3sh"),p(B,"class","summary-label svelte-1vzx3sh"),p(A,"class","summary-value svelte-1vzx3sh"),p(L,"class","summary-item svelte-1vzx3sh"),p(s,"class","summary-grid svelte-1vzx3sh"),p(e,"class","results-summary svelte-1vzx3sh")},m(H,x){R(H,e,x),n(e,l),n(l,a),n(l,o),n(e,i),n(e,s),n(s,u),n(u,_),n(u,E),n(u,D),n(D,P),n(s,f),n(s,c),n(c,g),n(c,b),n(c,z),n(z,q),n(s,$),n(s,J),n(J,M),n(J,ae),n(J,K),n(K,C),n(s,le),n(s,L),n(L,B),n(L,te),n(L,A),n(A,W)},p(H,x){x&8&&t!==(t=H[3].name+"")&&O(a,t),x&128&&I!==(I=H[7].totalEntries+"")&&O(P,I),x&128&&k!==(k=H[7].placedEntries+"")&&O(q,k),x&128&&G!==(G=H[7].categories+"")&&O(C,G),x&128&&se!==(se=H[7].averageScore+"")&&O(W,se)},d(H){H&&d(e)}}}function it(r){let e,l=me(Object.entries(r[1])),t=[];for(let a=0;a<l.length;a+=1)t[a]=Qe(He(r,l,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=ye()},l(a){for(let o=0;o<t.length;o+=1)t[o].l(a);e=ye()},m(a,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(a,o);R(a,e,o)},p(a,o){if(o&2){l=me(Object.entries(a[1]));let i;for(i=0;i<l.length;i+=1){const s=He(a,l,i);t[i]?t[i].p(s,o):(t[i]=Qe(s),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(a){a&&d(e),Pe(t,a)}}}function ct(r){let e,l="<h3>No Results Available</h3> <p>Results for this competition have not been entered yet.</p>";return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-5maymk"&&(e.innerHTML=l),this.h()},h(){p(e,"class","empty-state svelte-1vzx3sh")},m(t,a){R(t,e,a)},p:_e,d(t){t&&d(e)}}}function ut(r){let e,l='<div class="spinner svelte-1vzx3sh"></div> <p>Loading results...</p>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1wd8za7"&&(e.innerHTML=l),this.h()},h(){p(e,"class","loading svelte-1vzx3sh")},m(t,a){R(t,e,a)},p:_e,d(t){t&&d(e)}}}function Ue(r){let e,l,t=r[16].judge_count+"",a,o,i=r[16].judge_count===1?"":"s",s;return{c(){e=h("br"),l=h("small"),a=T(t),o=T(" judge"),s=T(i),this.h()},l(u){e=v(u,"BR",{}),l=v(u,"SMALL",{style:!0});var _=y(l);a=S(_,t),o=S(_," judge"),s=S(_,i),_.forEach(d),this.h()},h(){fe(l,"color","#666")},m(u,_){R(u,e,_),R(u,l,_),n(l,a),n(l,o),n(l,s)},p(u,_){_&2&&t!==(t=u[16].judge_count+"")&&O(a,t),_&2&&i!==(i=u[16].judge_count===1?"":"s")&&O(s,i)},d(u){u&&(d(e),d(l))}}}function dt(r){let e,l="-/50";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=v(t,"SPAN",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1qmajtw"&&(e.textContent=l),this.h()},h(){p(e,"class","score-badge svelte-1vzx3sh")},m(t,a){R(t,e,a)},p:_e,d(t){t&&d(e)}}}function _t(r){let e,l=r[16].score+"",t,a;return{c(){e=h("span"),t=T(l),a=T("/50"),this.h()},l(o){e=v(o,"SPAN",{class:!0});var i=y(e);t=S(i,l),a=S(i,"/50"),i.forEach(d),this.h()},h(){p(e,"class","score-badge svelte-1vzx3sh")},m(o,i){R(o,e,i),n(e,t),n(e,a)},p(o,i){i&2&&l!==(l=o[16].score+"")&&O(t,l)},d(o){o&&d(e)}}}function vt(r){let e,l="No Placement";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=v(t,"SPAN",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1ngxc4k"&&(e.textContent=l),this.h()},h(){p(e,"class","placement-badge placement-none svelte-1vzx3sh")},m(t,a){R(t,e,a)},p:_e,d(t){t&&d(e)}}}function ht(r){let e,l,t=ie(r[16].calculated_placement).medal+"",a,o,i,s=ie(r[16].calculated_placement).text+"",u,_;return{c(){e=h("span"),l=h("span"),a=T(t),o=V(),i=h("span"),u=T(s),this.h()},l(m){e=v(m,"SPAN",{class:!0});var E=y(e);l=v(E,"SPAN",{});var D=y(l);a=S(D,t),D.forEach(d),o=w(E),i=v(E,"SPAN",{});var I=y(i);u=S(I,s),I.forEach(d),E.forEach(d),this.h()},h(){p(e,"class",_="placement-badge "+ie(r[16].calculated_placement).class+" svelte-1vzx3sh")},m(m,E){R(m,e,E),n(e,l),n(l,a),n(e,o),n(e,i),n(i,u)},p(m,E){E&2&&t!==(t=ie(m[16].calculated_placement).medal+"")&&O(a,t),E&2&&s!==(s=ie(m[16].calculated_placement).text+"")&&O(u,s),E&2&&_!==(_="placement-badge "+ie(m[16].calculated_placement).class+" svelte-1vzx3sh")&&p(e,"class",_)},d(m){m&&d(e)}}}function ft(r){let e,l="No notes";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=v(t,"SPAN",{style:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1ylmb08"&&(e.textContent=l),this.h()},h(){fe(e,"color","#999")},m(t,a){R(t,e,a)},p:_e,d(t){t&&d(e)}}}function pt(r){let e,l=r[16].judge_notes+"",t;return{c(){e=h("div"),t=T(l),this.h()},l(a){e=v(a,"DIV",{class:!0});var o=y(e);t=S(o,l),o.forEach(d),this.h()},h(){p(e,"class","judge-notes svelte-1vzx3sh")},m(a,o){R(a,e,o),n(e,t)},p(a,o){o&2&&l!==(l=a[16].judge_notes+"")&&O(t,l)},d(a){a&&d(e)}}}function Ze(r){let e,l,t,a=r[16].entry_number+"",o,i,s,u=r[16].member_name+"",_,m,E,D=r[16].beer_name+"",I,P,f,c,g=r[16].ranking_points+"",j,b,z=r[16].ranking_points===1?"pt":"pts",k,q,$,J,M,F,ae,K,G,C=r[16].judge_count>0&&Ue(r);function le(x,N){return x[16].score?_t:dt}let L=le(r),B=L(r);function re(x,N){return x[16].calculated_placement?ht:vt}let te=re(r),A=te(r);function se(x,N){return x[16].judge_notes?pt:ft}let W=se(r),H=W(r);return{c(){e=h("tr"),l=h("td"),t=h("span"),o=T(a),i=V(),s=h("td"),_=T(u),m=V(),E=h("td"),I=T(D),P=V(),f=h("td"),c=h("span"),j=T(g),b=V(),k=T(z),q=V(),C&&C.c(),$=V(),J=h("td"),B.c(),M=V(),F=h("td"),A.c(),ae=V(),K=h("td"),H.c(),G=V(),this.h()},l(x){e=v(x,"TR",{class:!0});var N=y(e);l=v(N,"TD",{class:!0});var X=y(l);t=v(X,"SPAN",{class:!0});var ne=y(t);o=S(ne,a),ne.forEach(d),X.forEach(d),i=w(N),s=v(N,"TD",{class:!0});var ve=y(s);_=S(ve,u),ve.forEach(d),m=w(N),E=v(N,"TD",{class:!0});var ce=y(E);I=S(ce,D),ce.forEach(d),P=w(N),f=v(N,"TD",{class:!0});var ue=y(f);c=v(ue,"SPAN",{style:!0});var oe=y(c);j=S(oe,g),b=w(oe),k=S(oe,z),oe.forEach(d),q=w(ue),C&&C.l(ue),ue.forEach(d),$=w(N),J=v(N,"TD",{class:!0});var he=y(J);B.l(he),he.forEach(d),M=w(N),F=v(N,"TD",{class:!0});var Q=y(F);A.l(Q),Q.forEach(d),ae=w(N),K=v(N,"TD",{class:!0});var pe=y(K);H.l(pe),pe.forEach(d),G=w(N),N.forEach(d),this.h()},h(){p(t,"class","entry-number svelte-1vzx3sh"),p(l,"class","svelte-1vzx3sh"),p(s,"class","svelte-1vzx3sh"),p(E,"class","svelte-1vzx3sh"),fe(c,"font-weight","600"),fe(c,"color",r[16].ranking_points>0?"#059669":"#666"),p(f,"class","svelte-1vzx3sh"),p(J,"class","svelte-1vzx3sh"),p(F,"class","svelte-1vzx3sh"),p(K,"class","svelte-1vzx3sh"),p(e,"class","svelte-1vzx3sh")},m(x,N){R(x,e,N),n(e,l),n(l,t),n(t,o),n(e,i),n(e,s),n(s,_),n(e,m),n(e,E),n(E,I),n(e,P),n(e,f),n(f,c),n(c,j),n(c,b),n(c,k),n(f,q),C&&C.m(f,null),n(e,$),n(e,J),B.m(J,null),n(e,M),n(e,F),A.m(F,null),n(e,ae),n(e,K),H.m(K,null),n(e,G)},p(x,N){N&2&&a!==(a=x[16].entry_number+"")&&O(o,a),N&2&&u!==(u=x[16].member_name+"")&&O(_,u),N&2&&D!==(D=x[16].beer_name+"")&&O(I,D),N&2&&g!==(g=x[16].ranking_points+"")&&O(j,g),N&2&&z!==(z=x[16].ranking_points===1?"pt":"pts")&&O(k,z),N&2&&fe(c,"color",x[16].ranking_points>0?"#059669":"#666"),x[16].judge_count>0?C?C.p(x,N):(C=Ue(x),C.c(),C.m(f,null)):C&&(C.d(1),C=null),L===(L=le(x))&&B?B.p(x,N):(B.d(1),B=L(x),B&&(B.c(),B.m(J,null))),te===(te=re(x))&&A?A.p(x,N):(A.d(1),A=te(x),A&&(A.c(),A.m(F,null))),W===(W=se(x))&&H?H.p(x,N):(H.d(1),H=W(x),H&&(H.c(),H.m(K,null)))},d(x){x&&d(e),C&&C.d(),B.d(),A.d(),H.d()}}}function mt(r){let e,l="No Placement";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-18rysov"&&(e.textContent=l),this.h()},h(){p(e,"class","placement-badge-mobile placement-none svelte-1vzx3sh")},m(t,a){R(t,e,a)},p:_e,d(t){t&&d(e)}}}function gt(r){let e,l,t=ie(r[16].calculated_placement).medal+"",a,o,i,s=ie(r[16].calculated_placement).text+"",u,_;return{c(){e=h("div"),l=h("span"),a=T(t),o=V(),i=h("span"),u=T(s),this.h()},l(m){e=v(m,"DIV",{class:!0});var E=y(e);l=v(E,"SPAN",{class:!0});var D=y(l);a=S(D,t),D.forEach(d),o=w(E),i=v(E,"SPAN",{class:!0});var I=y(i);u=S(I,s),I.forEach(d),E.forEach(d),this.h()},h(){p(l,"class","medal"),p(i,"class","placement-text"),p(e,"class",_="placement-badge-mobile "+ie(r[16].calculated_placement).class+" svelte-1vzx3sh")},m(m,E){R(m,e,E),n(e,l),n(l,a),n(e,o),n(e,i),n(i,u)},p(m,E){E&2&&t!==(t=ie(m[16].calculated_placement).medal+"")&&O(a,t),E&2&&s!==(s=ie(m[16].calculated_placement).text+"")&&O(u,s),E&2&&_!==(_="placement-badge-mobile "+ie(m[16].calculated_placement).class+" svelte-1vzx3sh")&&p(e,"class",_)},d(m){m&&d(e)}}}function bt(r){let e;return{c(){e=T("-/50")},l(l){e=S(l,"-/50")},m(l,t){R(l,e,t)},p:_e,d(l){l&&d(e)}}}function kt(r){let e=r[16].score+"",l,t;return{c(){l=T(e),t=T("/50")},l(a){l=S(a,e),t=S(a,"/50")},m(a,o){R(a,l,o),R(a,t,o)},p(a,o){o&2&&e!==(e=a[16].score+"")&&O(l,e)},d(a){a&&(d(l),d(t))}}}function Ke(r){let e,l,t="Judge Notes",a,o,i=r[16].judge_notes+"",s;return{c(){e=h("div"),l=h("span"),l.textContent=t,a=V(),o=h("p"),s=T(i),this.h()},l(u){e=v(u,"DIV",{class:!0});var _=y(e);l=v(_,"SPAN",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-17wykah"&&(l.textContent=t),a=w(_),o=v(_,"P",{class:!0});var m=y(o);s=S(m,i),m.forEach(d),_.forEach(d),this.h()},h(){p(l,"class","notes-label svelte-1vzx3sh"),p(o,"class","notes-text svelte-1vzx3sh"),p(e,"class","judge-notes-mobile svelte-1vzx3sh")},m(u,_){R(u,e,_),n(e,l),n(e,a),n(e,o),n(o,s)},p(u,_){_&2&&i!==(i=u[16].judge_notes+"")&&O(s,i)},d(u){u&&d(e)}}}function Ye(r){let e,l,t,a,o,i=r[16].entry_number+"",s,u,_,m=r[16].beer_name+"",E,D,I,P=r[16].member_name+"",f,c,g,j,b,z,k,q,$="Points",J,M,F=r[16].ranking_points+"",ae,K,G=r[16].ranking_points===1?"pt":"pts",C,le,L,B,re="Score",te,A,se,W,H,x="Judges",N,X,ne=r[16].judge_count+"",ve,ce,ue;function oe(U,Y){return U[16].calculated_placement?gt:mt}let he=oe(r),Q=he(r);function pe(U,Y){return U[16].score?kt:bt}let ze=pe(r),de=ze(r),ee=r[16].judge_notes&&Ke(r);return{c(){e=h("div"),l=h("div"),t=h("div"),a=h("span"),o=T("#"),s=T(i),u=V(),_=h("h4"),E=T(m),D=V(),I=h("p"),f=T(P),c=V(),g=h("div"),Q.c(),j=V(),b=h("div"),z=h("div"),k=h("div"),q=h("span"),q.textContent=$,J=V(),M=h("span"),ae=T(F),K=V(),C=T(G),le=V(),L=h("div"),B=h("span"),B.textContent=re,te=V(),A=h("span"),de.c(),se=V(),W=h("div"),H=h("span"),H.textContent=x,N=V(),X=h("span"),ve=T(ne),ce=V(),ee&&ee.c(),ue=V(),this.h()},l(U){e=v(U,"DIV",{class:!0});var Y=y(e);l=v(Y,"DIV",{class:!0});var Ee=y(l);t=v(Ee,"DIV",{class:!0});var be=y(t);a=v(be,"SPAN",{class:!0});var we=y(a);o=S(we,"#"),s=S(we,i),we.forEach(d),u=w(be),_=v(be,"H4",{class:!0});var Ne=y(_);E=S(Ne,m),Ne.forEach(d),D=w(be),I=v(be,"P",{class:!0});var Se=y(I);f=S(Se,P),Se.forEach(d),be.forEach(d),c=w(Ee),g=v(Ee,"DIV",{class:!0});var Te=y(g);Q.l(Te),Te.forEach(d),Ee.forEach(d),j=w(Y),b=v(Y,"DIV",{class:!0});var Ce=y(b);z=v(Ce,"DIV",{class:!0});var ke=y(z);k=v(ke,"DIV",{class:!0});var De=y(k);q=v(De,"SPAN",{class:!0,"data-svelte-h":!0}),Z(q)!=="svelte-1s0cwgq"&&(q.textContent=$),J=w(De),M=v(De,"SPAN",{class:!0,style:!0});var je=y(M);ae=S(je,F),K=w(je),C=S(je,G),je.forEach(d),De.forEach(d),le=w(ke),L=v(ke,"DIV",{class:!0});var xe=y(L);B=v(xe,"SPAN",{class:!0,"data-svelte-h":!0}),Z(B)!=="svelte-31smhd"&&(B.textContent=re),te=w(xe),A=v(xe,"SPAN",{class:!0});var Ae=y(A);de.l(Ae),Ae.forEach(d),xe.forEach(d),se=w(ke),W=v(ke,"DIV",{class:!0});var Ie=y(W);H=v(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),Z(H)!=="svelte-5b4hqb"&&(H.textContent=x),N=w(Ie),X=v(Ie,"SPAN",{class:!0});var Le=y(X);ve=S(Le,ne),Le.forEach(d),Ie.forEach(d),ke.forEach(d),ce=w(Ce),ee&&ee.l(Ce),Ce.forEach(d),ue=w(Y),Y.forEach(d),this.h()},h(){p(a,"class","entry-number svelte-1vzx3sh"),p(_,"class","beer-name svelte-1vzx3sh"),p(I,"class","member-name svelte-1vzx3sh"),p(t,"class","entry-info svelte-1vzx3sh"),p(g,"class","ranking-info svelte-1vzx3sh"),p(l,"class","card-header svelte-1vzx3sh"),p(q,"class","detail-label svelte-1vzx3sh"),p(M,"class","detail-value svelte-1vzx3sh"),fe(M,"color",r[16].ranking_points>0?"#059669":"#666"),fe(M,"font-weight","600"),p(k,"class","detail-item svelte-1vzx3sh"),p(B,"class","detail-label svelte-1vzx3sh"),p(A,"class","detail-value svelte-1vzx3sh"),p(L,"class","detail-item svelte-1vzx3sh"),p(H,"class","detail-label svelte-1vzx3sh"),p(X,"class","detail-value svelte-1vzx3sh"),p(W,"class","detail-item svelte-1vzx3sh"),p(z,"class","detail-row svelte-1vzx3sh"),p(b,"class","card-details svelte-1vzx3sh"),p(e,"class","result-card svelte-1vzx3sh")},m(U,Y){R(U,e,Y),n(e,l),n(l,t),n(t,a),n(a,o),n(a,s),n(t,u),n(t,_),n(_,E),n(t,D),n(t,I),n(I,f),n(l,c),n(l,g),Q.m(g,null),n(e,j),n(e,b),n(b,z),n(z,k),n(k,q),n(k,J),n(k,M),n(M,ae),n(M,K),n(M,C),n(z,le),n(z,L),n(L,B),n(L,te),n(L,A),de.m(A,null),n(z,se),n(z,W),n(W,H),n(W,N),n(W,X),n(X,ve),n(b,ce),ee&&ee.m(b,null),n(e,ue)},p(U,Y){Y&2&&i!==(i=U[16].entry_number+"")&&O(s,i),Y&2&&m!==(m=U[16].beer_name+"")&&O(E,m),Y&2&&P!==(P=U[16].member_name+"")&&O(f,P),he===(he=oe(U))&&Q?Q.p(U,Y):(Q.d(1),Q=he(U),Q&&(Q.c(),Q.m(g,null))),Y&2&&F!==(F=U[16].ranking_points+"")&&O(ae,F),Y&2&&G!==(G=U[16].ranking_points===1?"pt":"pts")&&O(C,G),Y&2&&fe(M,"color",U[16].ranking_points>0?"#059669":"#666"),ze===(ze=pe(U))&&de?de.p(U,Y):(de.d(1),de=ze(U),de&&(de.c(),de.m(A,null))),Y&2&&ne!==(ne=U[16].judge_count+"")&&O(ve,ne),U[16].judge_notes?ee?ee.p(U,Y):(ee=Ke(U),ee.c(),ee.m(b,null)):ee&&(ee.d(1),ee=null)},d(U){U&&d(e),Q.d(),de.d(),ee&&ee.d()}}}function Qe(r){let e,l,t,a=r[12]+"",o,i,s,u,_='<tr class="svelte-1vzx3sh"><th class="svelte-1vzx3sh">Entry</th> <th class="svelte-1vzx3sh">Member</th> <th class="svelte-1vzx3sh">Beer Name</th> <th class="svelte-1vzx3sh">Ranking Points</th> <th class="svelte-1vzx3sh">Score</th> <th class="svelte-1vzx3sh">Placement</th> <th class="svelte-1vzx3sh">Judge Notes</th></tr>',m,E,D,I,P,f=me(r[13]),c=[];for(let b=0;b<f.length;b+=1)c[b]=Ze(Be(r,f,b));let g=me(r[13]),j=[];for(let b=0;b<g.length;b+=1)j[b]=Ye(Re(r,g,b));return{c(){e=h("div"),l=h("div"),t=h("h3"),o=T(a),i=V(),s=h("table"),u=h("thead"),u.innerHTML=_,m=V(),E=h("tbody");for(let b=0;b<c.length;b+=1)c[b].c();D=V(),I=h("div");for(let b=0;b<j.length;b+=1)j[b].c();P=V(),this.h()},l(b){e=v(b,"DIV",{class:!0});var z=y(e);l=v(z,"DIV",{class:!0});var k=y(l);t=v(k,"H3",{class:!0});var q=y(t);o=S(q,a),q.forEach(d),k.forEach(d),i=w(z),s=v(z,"TABLE",{class:!0});var $=y(s);u=v($,"THEAD",{"data-svelte-h":!0}),Z(u)!=="svelte-hus28l"&&(u.innerHTML=_),m=w($),E=v($,"TBODY",{});var J=y(E);for(let F=0;F<c.length;F+=1)c[F].l(J);J.forEach(d),$.forEach(d),D=w(z),I=v(z,"DIV",{class:!0});var M=y(I);for(let F=0;F<j.length;F+=1)j[F].l(M);M.forEach(d),P=w(z),z.forEach(d),this.h()},h(){p(t,"class","category-title svelte-1vzx3sh"),p(l,"class","category-header svelte-1vzx3sh"),p(s,"class","results-table desktop-view svelte-1vzx3sh"),p(I,"class","results-cards mobile-view svelte-1vzx3sh"),p(e,"class","category-section svelte-1vzx3sh")},m(b,z){R(b,e,z),n(e,l),n(l,t),n(t,o),n(e,i),n(e,s),n(s,u),n(s,m),n(s,E);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(E,null);n(e,D),n(e,I);for(let k=0;k<j.length;k+=1)j[k]&&j[k].m(I,null);n(e,P)},p(b,z){if(z&2&&a!==(a=b[12]+"")&&O(o,a),z&2){f=me(b[13]);let k;for(k=0;k<f.length;k+=1){const q=Be(b,f,k);c[k]?c[k].p(q,z):(c[k]=Ze(q),c[k].c(),c[k].m(E,null))}for(;k<c.length;k+=1)c[k].d(1);c.length=f.length}if(z&2){g=me(b[13]);let k;for(k=0;k<g.length;k+=1){const q=Re(b,g,k);j[k]?j[k].p(q,z):(j[k]=Ye(q),j[k].c(),j[k].m(I,null))}for(;k<j.length;k+=1)j[k].d(1);j.length=g.length}},d(b){b&&d(e),Pe(c,b),Pe(j,b)}}}function yt(r){let e,l,t='<h1 class="svelte-1vzx3sh">Competition Results</h1> <p class="subtitle svelte-1vzx3sh">View published competition results and standings</p>',a,o,i,s="Back to Competitions",u,_,m,E,D=r[6]&&qe(r);function I(c,g){return c[4]?ot:c[2].length===0?rt:nt}let P=I(r),f=P(r);return{c(){e=h("div"),l=h("div"),l.innerHTML=t,a=V(),o=h("div"),i=h("button"),i.textContent=s,u=V(),D&&D.c(),_=V(),f.c(),this.h()},l(c){e=v(c,"DIV",{class:!0});var g=y(e);l=v(g,"DIV",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-utbced"&&(l.innerHTML=t),a=w(g),o=v(g,"DIV",{class:!0});var j=y(o);i=v(j,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-ri2cai"&&(i.textContent=s),j.forEach(d),u=w(g),D&&D.l(g),_=w(g),f.l(g),g.forEach(d),this.h()},h(){p(l,"class","hero svelte-1vzx3sh"),p(i,"class","btn btn-secondary svelte-1vzx3sh"),p(o,"class","controls svelte-1vzx3sh"),p(e,"class","container svelte-1vzx3sh")},m(c,g){R(c,e,g),n(e,l),n(e,a),n(e,o),n(o,i),n(e,u),D&&D.m(e,null),n(e,_),f.m(e,null),m||(E=Xe(i,"click",r[9]),m=!0)},p(c,[g]){c[6]?D?D.p(c,g):(D=qe(c),D.c(),D.m(e,_)):D&&(D.d(1),D=null),P===(P=I(c))&&f?f.p(c,g):(f.d(1),f=P(c),f&&(f.c(),f.m(e,null)))},i:_e,o:_e,d(c){c&&d(e),D&&D.d(),f.d(),m=!1,E()}}}function zt(r){switch(r){case 1:return 3;case 2:return 2;case 3:return 1;default:return 0}}function Et(r,e,l,t){let a=[],o=null;for(const s of t){let u;try{u=Array.isArray(s.bjcp_category_ids)?s.bjcp_category_ids:JSON.parse(s.bjcp_category_ids)}catch{console.warn("Failed to parse bjcp_category_ids for group:",s.id);continue}if(u.includes(e)){o=s.id;break}}return o?a=l.filter(s=>s.entry_id===r&&s.ranking_group_id===o):a=l.filter(s=>s.entry_id===r&&s.bjcp_category_id===e),{totalPoints:a.reduce((s,u)=>s+zt(u.rank_position),0),judgeCount:a.length,rankings:a}}function ie(r){switch(r){case"1":return{text:"1st Place",class:"placement-first",medal:"🥇"};case"2":return{text:"2nd Place",class:"placement-second",medal:"🥈"};case"3":return{text:"3rd Place",class:"placement-third",medal:"🥉"};case"HM":return{text:"Honorable Mention",class:"placement-hm",medal:"🏅"};default:return{text:"No Placement",class:"placement-none",medal:""}}}function Ct(r){const e=r.reduce((l,t)=>{const a=t.display_group;return l[a]||(l[a]=[]),l[a].push(t),l},{});return Object.keys(e).forEach(l=>{const t=e[l];if(t.some(o=>o.ranking_points>0)){t.sort((s,u)=>u.ranking_points!==s.ranking_points?u.ranking_points-s.ranking_points:(u.score||0)-(s.score||0));let o=1,i=null;t.forEach((s,u)=>{i!==null&&s.ranking_points<i&&(o=u+1),s.ranking_points>0?o===1?s.calculated_placement="1":o===2?s.calculated_placement="2":o===3?s.calculated_placement="3":o<=6?s.calculated_placement="HM":s.calculated_placement="":s.calculated_placement="",i=s.ranking_points})}else{t.sort((s,u)=>(u.score||0)-(s.score||0));let o=1,i=null;t.forEach((s,u)=>{const _=s.score||0;i!==null&&_<i&&(o=u+1),_>0?o===1?s.calculated_placement="1":o===2?s.calculated_placement="2":o===3?s.calculated_placement="3":o<=6?s.calculated_placement="HM":s.calculated_placement="":s.calculated_placement="",i=_})}}),e}function We(r){if(!r)return"No date set";try{let e=r;r.includes(" ")&&!r.includes("T")&&(e=r.replace(" ","T"),!e.includes("+")&&!e.includes("Z")&&(e+="Z"));const l=new Date(e);return isNaN(l.getTime())?(console.warn("Invalid date after parsing:",r,"->",e),"Invalid Date"):l.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(e){return console.warn("Error formatting date:",r,e),"Invalid Date"}}function Dt(r,e,l){let t,a,o=[],i=null,s=[],u=!0,_=!1,m=null;et(()=>{E()}),tt(()=>{});async function E(){l(4,u=!0),l(6,m=null);try{console.log("Loading published competitions...");const{data:f,error:c}=await ge.from("competitions").select("*").eq("results_published",!0).order("judging_date",{ascending:!1});if(c)throw c;l(2,o=f||[]),console.log("Loaded",o.length,"published competitions"),o.length>0&&(l(3,i=o[0]),await I(o[0]))}catch(f){console.error("Error loading competitions:",f),l(6,m=f.message||"Failed to load competitions")}finally{l(4,u=!1)}}async function D(f){const c=f.target.value;if(!c){l(3,i=null),l(0,s=[]);return}const g=o.find(j=>j.id===c);g&&(l(3,i=g),await I(g))}async function I(f){l(5,_=!0),l(6,m=null);try{console.log("Loading results for competition:",f.name);const{data:c,error:g}=await ge.from("competition_results").select("*").eq("competition_id",f.id);if(g)throw g;if(!c||c.length===0){l(0,s=[]);return}const j=c.map(G=>G.entry_id),{data:b,error:z}=await ge.from("competition_entries").select("*").in("id",j);if(z)throw z;const k=[...new Set(b.map(G=>G.member_id))],{data:q}=await ge.from("members").select("id, name").in("id",k),$=[...new Set(b.map(G=>G.bjcp_category_id).filter(Boolean))],{data:J}=await ge.from("bjcp_categories").select("id, category_name, category_number, subcategory_letter, subcategory_name").in("id",$);let M=[];if(f.category_system==="custom"){const{data:G,error:C}=await ge.from("competition_ranking_groups").select("*").eq("competition_id",f.id).order("group_order");C||(M=G||[])}const{data:F,error:ae}=await ge.from("competition_rankings").select(`
          *,
          entry:competition_entries!inner(id, entry_number, beer_name),
          judge:members!competition_rankings_judge_id_fkey(id, name),
          category:bjcp_categories(category_name, category_number, subcategory_letter),
          ranking_group:competition_ranking_groups(id, group_name, group_description)
        `).eq("competition_id",f.id).order("bjcp_category_id").order("rank_position"),K=F||[];l(0,s=c.map(G=>{const C=b.find(A=>A.id===G.entry_id),le=q==null?void 0:q.find(A=>A.id===(C==null?void 0:C.member_id)),L=J==null?void 0:J.find(A=>A.id===(C==null?void 0:C.bjcp_category_id)),B=L?`${L.category_number}${L.subcategory_letter||""} - ${L.category_name}`:"Unknown Category";let re=null;if(M.length>0&&(C!=null&&C.bjcp_category_id)){const A=M.find(se=>se.bjcp_category_ids.includes(C.bjcp_category_id));re=(A==null?void 0:A.group_name)||null}const te=C!=null&&C.bjcp_category_id?Et(C.id,C.bjcp_category_id,K,M):{totalPoints:0,judgeCount:0,rankings:[]};return{...G,entry_number:(C==null?void 0:C.entry_number)||"N/A",beer_name:(C==null?void 0:C.beer_name)||"Unknown Beer",member_name:(le==null?void 0:le.name)||"Unknown Member",category_display:B,ranking_group_name:re,display_group:re||B,category_number:(L==null?void 0:L.category_number)||"",subcategory_letter:(L==null?void 0:L.subcategory_letter)||"",ranking_points:te.totalPoints,judge_count:te.judgeCount}})),console.log("Loaded",s.length,"results")}catch(c){console.error("Error loading results:",c),l(6,m=c.message||"Failed to load results")}finally{l(5,_=!1)}}function P(){at("/competitions")}return r.$$.update=()=>{r.$$.dirty&1&&l(1,t=Ct(s)),r.$$.dirty&3&&l(7,a={totalEntries:s.length,placedEntries:s.filter(f=>f.calculated_placement&&f.calculated_placement!=="").length,categories:Object.keys(t).length,averageScore:s.length>0?Math.round(s.reduce((f,c)=>f+(c.score||0),0)/s.length*10)/10:0})},[s,t,o,i,u,_,m,a,D,P]}class Vt extends lt{constructor(e){super(),st(this,e,Dt,yt,$e,{})}}export{Vt as component};
