import{s as is,n as Kt,d as c,i as K,q as l,c as o,e as d,h as i,k as bt,C as us,D as cs,N as oe,L as Ue,B as D,b as e,v as T,g as h,j as m,E as vs,x as ds,a as B,H as R,f as w,t as E}from"../chunks/tH3vu9X-.js";import{e as ls}from"../chunks/Cd0iBuNO.js";import{S as ps,i as fs}from"../chunks/3rbuGhWg.js";import{g as Yt}from"../chunks/CsiUa4Yb.js";import{p as _s}from"../chunks/BH-s507r.js";import{u as hs}from"../chunks/DO0socrL.js";import{c as Ze,b as ms,a as gs,i as bs}from"../chunks/Dkr2MXDq.js";function ss(t,s,a){const v=t.slice();return v[42]=s[a],v[44]=a,v}function js(t){var Xl,zl,Yl,Kl,Ql,Wl;let s,a,v=((Xl=t[7].activeCompetition)==null?void 0:Xl.name)+"",p,u,_,y,V,g,j=t[4].completed+"",fe,Y,b=t[4].total+"",P,A,Fe=t[4].percentage+"",xe,ie,$e,L,et,$,I,ee,ue,rt,Oe=t[1].entry_number+"",qe,ot,H,te,ce,jt="Beer Name",it,_e,Re=t[9](t[1].beer_name)+"",tt,ut,le,ve,wt="Category",ct,se,r=(((zl=t[1].category)==null?void 0:zl.category_number)||"")+"",C,Q,Ge=(((Yl=t[1].category)==null?void 0:Yl.category_name)||"Unknown")+"",Et,Qt,he,Xe,Vl="Style",Wt,de,vt=(((Kl=t[1].category)==null?void 0:Kl.category_number)||"")+"",yt,dt=(((Ql=t[1].category)==null?void 0:Ql.subcategory_letter)||"")+"",Ct,Zt,pt=(((Wl=t[1].category)==null?void 0:Wl.subcategory_name)||"N/A")+"",It,xt,me,ze,Pl="Entry Notes",$t,lt,ft=(t[1].beer_notes||"None")+"",Tt,el,G,Ye,Nt,tl,ll,Ke,Al="Total Score",sl,al,ge,Qe,Ll="BJCP Scoring (50 points total)",nl,J,be,je,Bl='Aroma <span class="score-max svelte-1l9pwnj">(0-12)</span>',rl,M,ol,we,Ee,Hl='Appearance <span class="score-max svelte-1l9pwnj">(0-3)</span>',il,U,ul,ye,Ce,Jl='Flavor <span class="score-max svelte-1l9pwnj">(0-20)</span>',cl,F,vl,Ie,Te,Ml='Mouthfeel <span class="score-max svelte-1l9pwnj">(0-5)</span>',dl,O,pl,Ne,ke,Ul='Overall <span class="score-max svelte-1l9pwnj">(0-10)</span>',fl,q,_l,De,We,Fl="Judging Notes",hl,Se,Ve,Pe,Ol="Judge Notes (visible to entrant)",ml,W,gl,Ae,Le,ql="Private Notes (only visible to judges and officers)",bl,Z,jl,X,pe,wl,kt,El,Be,yl,Dt,Cl,He,Il,St,Tl,Nl,Rl,st=ls(t[7].assignedEntries),N=[];for(let n=0;n<st.length;n+=1)N[n]=as(ss(t,st,n));let S=t[5]>0&&ns(t);function Gl(n,f){return n[2]<n[7].assignedEntries.length-1?Cs:ys}let Vt=Gl(t),x=Vt(t);return{c(){s=i("div"),a=i("h1"),p=E(v),u=m(),_=i("div"),y=i("div"),V=m(),g=i("div"),fe=E(j),Y=E(" of "),P=E(b),A=E(" entries judged ("),xe=E(Fe),ie=E("%)"),$e=m(),L=i("div");for(let n=0;n<N.length;n+=1)N[n].c();et=m(),$=i("div"),I=i("div"),ee=i("div"),ue=i("h2"),rt=E("Entry #"),qe=E(Oe),ot=m(),H=i("div"),te=i("div"),ce=i("span"),ce.textContent=jt,it=m(),_e=i("span"),tt=E(Re),ut=m(),le=i("div"),ve=i("span"),ve.textContent=wt,ct=m(),se=i("span"),C=E(r),Q=E(" - "),Et=E(Ge),Qt=m(),he=i("div"),Xe=i("span"),Xe.textContent=Vl,Wt=m(),de=i("span"),yt=E(vt),Ct=E(dt),Zt=E(" - "),It=E(pt),xt=m(),me=i("div"),ze=i("span"),ze.textContent=Pl,$t=m(),lt=i("span"),Tt=E(ft),el=m(),G=i("div"),Ye=i("h3"),Nt=E(t[5]),tl=E("/50"),ll=m(),Ke=i("p"),Ke.textContent=Al,sl=m(),S&&S.c(),al=m(),ge=i("div"),Qe=i("h3"),Qe.textContent=Ll,nl=m(),J=i("div"),be=i("div"),je=i("label"),je.innerHTML=Bl,rl=m(),M=i("input"),ol=m(),we=i("div"),Ee=i("label"),Ee.innerHTML=Hl,il=m(),U=i("input"),ul=m(),ye=i("div"),Ce=i("label"),Ce.innerHTML=Jl,cl=m(),F=i("input"),vl=m(),Ie=i("div"),Te=i("label"),Te.innerHTML=Ml,dl=m(),O=i("input"),pl=m(),Ne=i("div"),ke=i("label"),ke.innerHTML=Ul,fl=m(),q=i("input"),_l=m(),De=i("div"),We=i("h3"),We.textContent=Fl,hl=m(),Se=i("div"),Ve=i("div"),Pe=i("label"),Pe.textContent=Ol,ml=m(),W=i("textarea"),gl=m(),Ae=i("div"),Le=i("label"),Le.textContent=ql,bl=m(),Z=i("textarea"),jl=m(),X=i("div"),pe=i("button"),wl=E("⬅️ Previous Entry"),El=m(),Be=i("a"),yl=E("📋 BJCP Scoresheet"),Cl=m(),He=i("a"),Il=E("🏆 Rankings"),Tl=m(),x.c(),this.h()},l(n){s=o(n,"DIV",{class:!0});var f=d(s);a=o(f,"H1",{class:!0});var ae=d(a);p=w(ae,v),ae.forEach(c),u=h(f),_=o(f,"DIV",{class:!0});var _t=d(_);y=o(_t,"DIV",{class:!0,style:!0}),d(y).forEach(c),_t.forEach(c),V=h(f),g=o(f,"DIV",{class:!0});var ne=d(g);fe=w(ne,j),Y=w(ne," of "),P=w(ne,b),A=w(ne," entries judged ("),xe=w(ne,Fe),ie=w(ne,"%)"),ne.forEach(c),f.forEach(c),$e=h(n),L=o(n,"DIV",{class:!0});var ht=d(L);for(let Dl=0;Dl<N.length;Dl+=1)N[Dl].l(ht);ht.forEach(c),et=h(n),$=o(n,"DIV",{class:!0});var mt=d($);I=o(mt,"DIV",{class:!0});var z=d(I);ee=o(z,"DIV",{class:!0});var k=d(ee);ue=o(k,"H2",{class:!0});var at=d(ue);rt=w(at,"Entry #"),qe=w(at,Oe),at.forEach(c),ot=h(k),H=o(k,"DIV",{class:!0});var Je=d(H);te=o(Je,"DIV",{class:!0});var Pt=d(te);ce=o(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),D(ce)!=="svelte-15a86sm"&&(ce.textContent=jt),it=h(Pt),_e=o(Pt,"SPAN",{class:!0});var Zl=d(_e);tt=w(Zl,Re),Zl.forEach(c),Pt.forEach(c),ut=h(Je),le=o(Je,"DIV",{class:!0});var At=d(le);ve=o(At,"SPAN",{class:!0,"data-svelte-h":!0}),D(ve)!=="svelte-15re40r"&&(ve.textContent=wt),ct=h(At),se=o(At,"SPAN",{class:!0});var Lt=d(se);C=w(Lt,r),Q=w(Lt," - "),Et=w(Lt,Ge),Lt.forEach(c),At.forEach(c),Qt=h(Je),he=o(Je,"DIV",{class:!0});var Bt=d(he);Xe=o(Bt,"SPAN",{class:!0,"data-svelte-h":!0}),D(Xe)!=="svelte-1k6atpa"&&(Xe.textContent=Vl),Wt=h(Bt),de=o(Bt,"SPAN",{class:!0});var gt=d(de);yt=w(gt,vt),Ct=w(gt,dt),Zt=w(gt," - "),It=w(gt,pt),gt.forEach(c),Bt.forEach(c),xt=h(Je),me=o(Je,"DIV",{class:!0});var Ht=d(me);ze=o(Ht,"SPAN",{class:!0,"data-svelte-h":!0}),D(ze)!=="svelte-8vljau"&&(ze.textContent=Pl),$t=h(Ht),lt=o(Ht,"SPAN",{class:!0});var xl=d(lt);Tt=w(xl,ft),xl.forEach(c),Ht.forEach(c),Je.forEach(c),k.forEach(c),el=h(z),G=o(z,"DIV",{class:!0,style:!0});var nt=d(G);Ye=o(nt,"H3",{class:!0});var kl=d(Ye);Nt=w(kl,t[5]),tl=w(kl,"/50"),kl.forEach(c),ll=h(nt),Ke=o(nt,"P",{class:!0,"data-svelte-h":!0}),D(Ke)!=="svelte-h4i2gr"&&(Ke.textContent=Al),sl=h(nt),S&&S.l(nt),nt.forEach(c),al=h(z),ge=o(z,"DIV",{class:!0});var Jt=d(ge);Qe=o(Jt,"H3",{class:!0,"data-svelte-h":!0}),D(Qe)!=="svelte-3tiq5s"&&(Qe.textContent=Ll),nl=h(Jt),J=o(Jt,"DIV",{class:!0});var re=d(J);be=o(re,"DIV",{class:!0});var Mt=d(be);je=o(Mt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(je)!=="svelte-xqfdtg"&&(je.innerHTML=Bl),rl=h(Mt),M=o(Mt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Mt.forEach(c),ol=h(re),we=o(re,"DIV",{class:!0});var Ut=d(we);Ee=o(Ut,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Ee)!=="svelte-ljiog4"&&(Ee.innerHTML=Hl),il=h(Ut),U=o(Ut,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Ut.forEach(c),ul=h(re),ye=o(re,"DIV",{class:!0});var Ft=d(ye);Ce=o(Ft,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Ce)!=="svelte-1h3mxuj"&&(Ce.innerHTML=Jl),cl=h(Ft),F=o(Ft,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Ft.forEach(c),vl=h(re),Ie=o(re,"DIV",{class:!0});var Ot=d(Ie);Te=o(Ot,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Te)!=="svelte-1ijxj1i"&&(Te.innerHTML=Ml),dl=h(Ot),O=o(Ot,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Ot.forEach(c),pl=h(re),Ne=o(re,"DIV",{class:!0});var qt=d(Ne);ke=o(qt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(ke)!=="svelte-1fijyxa"&&(ke.innerHTML=Ul),fl=h(qt),q=o(qt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),qt.forEach(c),re.forEach(c),Jt.forEach(c),_l=h(z),De=o(z,"DIV",{class:!0});var Rt=d(De);We=o(Rt,"H3",{class:!0,"data-svelte-h":!0}),D(We)!=="svelte-ed27gq"&&(We.textContent=Fl),hl=h(Rt),Se=o(Rt,"DIV",{class:!0});var Gt=d(Se);Ve=o(Gt,"DIV",{class:!0});var Xt=d(Ve);Pe=o(Xt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Pe)!=="svelte-1jlf7qm"&&(Pe.textContent=Ol),ml=h(Xt),W=o(Xt,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),d(W).forEach(c),Xt.forEach(c),gl=h(Gt),Ae=o(Gt,"DIV",{class:!0});var zt=d(Ae);Le=o(zt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Le)!=="svelte-3nxa16"&&(Le.textContent=ql),bl=h(zt),Z=o(zt,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),d(Z).forEach(c),zt.forEach(c),Gt.forEach(c),Rt.forEach(c),jl=h(z),X=o(z,"DIV",{class:!0});var Me=d(X);pe=o(Me,"BUTTON",{class:!0});var $l=d(pe);wl=w($l,"⬅️ Previous Entry"),$l.forEach(c),El=h(Me),Be=o(Me,"A",{href:!0,class:!0});var es=d(Be);yl=w(es,"📋 BJCP Scoresheet"),es.forEach(c),Cl=h(Me),He=o(Me,"A",{href:!0,class:!0});var ts=d(He);Il=w(ts,"🏆 Rankings"),ts.forEach(c),Tl=h(Me),x.l(Me),Me.forEach(c),z.forEach(c),mt.forEach(c),this.h()},h(){l(a,"class","competition-title svelte-1l9pwnj"),l(y,"class","progress-fill svelte-1l9pwnj"),Ue(y,"width",t[4].percentage+"%"),l(_,"class","progress-bar svelte-1l9pwnj"),l(g,"class","progress-text svelte-1l9pwnj"),l(s,"class","header svelte-1l9pwnj"),l(L,"class","entry-nav svelte-1l9pwnj"),l(ue,"class","entry-number svelte-1l9pwnj"),l(ce,"class","detail-label svelte-1l9pwnj"),l(_e,"class","detail-value svelte-1l9pwnj"),l(te,"class","detail-item svelte-1l9pwnj"),l(ve,"class","detail-label svelte-1l9pwnj"),l(se,"class","detail-value svelte-1l9pwnj"),l(le,"class","detail-item svelte-1l9pwnj"),l(Xe,"class","detail-label svelte-1l9pwnj"),l(de,"class","detail-value svelte-1l9pwnj"),l(he,"class","detail-item svelte-1l9pwnj"),l(ze,"class","detail-label svelte-1l9pwnj"),l(lt,"class","detail-value svelte-1l9pwnj"),l(me,"class","detail-item svelte-1l9pwnj"),l(H,"class","entry-details svelte-1l9pwnj"),l(ee,"class","entry-header svelte-1l9pwnj"),l(Ye,"class","total-score-value svelte-1l9pwnj"),l(Ke,"class","total-score-label svelte-1l9pwnj"),l(G,"class","total-score svelte-1l9pwnj"),Ue(G,"background",t[5]>0?rs(t[5]):"#6b7280"),l(Qe,"class","section-title svelte-1l9pwnj"),l(je,"class","score-label svelte-1l9pwnj"),l(je,"for","aroma"),l(M,"id","aroma"),l(M,"type","number"),l(M,"class","score-input svelte-1l9pwnj"),l(M,"min","0"),l(M,"max","12"),l(M,"placeholder","0"),l(be,"class","score-item svelte-1l9pwnj"),l(Ee,"class","score-label svelte-1l9pwnj"),l(Ee,"for","appearance"),l(U,"id","appearance"),l(U,"type","number"),l(U,"class","score-input svelte-1l9pwnj"),l(U,"min","0"),l(U,"max","3"),l(U,"placeholder","0"),l(we,"class","score-item svelte-1l9pwnj"),l(Ce,"class","score-label svelte-1l9pwnj"),l(Ce,"for","flavor"),l(F,"id","flavor"),l(F,"type","number"),l(F,"class","score-input svelte-1l9pwnj"),l(F,"min","0"),l(F,"max","20"),l(F,"placeholder","0"),l(ye,"class","score-item svelte-1l9pwnj"),l(Te,"class","score-label svelte-1l9pwnj"),l(Te,"for","mouthfeel"),l(O,"id","mouthfeel"),l(O,"type","number"),l(O,"class","score-input svelte-1l9pwnj"),l(O,"min","0"),l(O,"max","5"),l(O,"placeholder","0"),l(Ie,"class","score-item svelte-1l9pwnj"),l(ke,"class","score-label svelte-1l9pwnj"),l(ke,"for","overall"),l(q,"id","overall"),l(q,"type","number"),l(q,"class","score-input svelte-1l9pwnj"),l(q,"min","0"),l(q,"max","10"),l(q,"placeholder","0"),l(Ne,"class","score-item svelte-1l9pwnj"),l(J,"class","score-grid svelte-1l9pwnj"),l(ge,"class","scoring-section svelte-1l9pwnj"),l(We,"class","section-title svelte-1l9pwnj"),l(Pe,"class","notes-label svelte-1l9pwnj"),l(Pe,"for","public-notes"),l(W,"id","public-notes"),l(W,"class","notes-textarea svelte-1l9pwnj"),l(W,"placeholder","Provide constructive feedback about aroma, appearance, flavor, mouthfeel, and overall impression..."),l(Ve,"class","notes-item svelte-1l9pwnj"),l(Le,"class","notes-label svelte-1l9pwnj"),l(Le,"for","private-notes"),l(Z,"id","private-notes"),l(Z,"class","notes-textarea svelte-1l9pwnj"),l(Z,"placeholder","Internal judging notes, comparisons, or other observations..."),l(Ae,"class","notes-item svelte-1l9pwnj"),l(Se,"class","notes-grid svelte-1l9pwnj"),l(De,"class","notes-section svelte-1l9pwnj"),l(pe,"class","nav-btn nav-btn-secondary svelte-1l9pwnj"),pe.disabled=kt=t[2]===0||t[3],l(Be,"href",Dt="/judge/competition/"+t[6]+"/scoresheet"),l(Be,"class","nav-btn nav-btn-secondary nav-btn-link svelte-1l9pwnj"),l(He,"href",St="/judge/competition/"+t[6]+"/rankings"),l(He,"class","nav-btn nav-btn-secondary nav-btn-link svelte-1l9pwnj"),l(X,"class","nav-buttons svelte-1l9pwnj"),l(I,"class","entry-card svelte-1l9pwnj"),l($,"class","main-content svelte-1l9pwnj")},m(n,f){K(n,s,f),e(s,a),e(a,p),e(s,u),e(s,_),e(_,y),e(s,V),e(s,g),e(g,fe),e(g,Y),e(g,P),e(g,A),e(g,xe),e(g,ie),K(n,$e,f),K(n,L,f);for(let ae=0;ae<N.length;ae+=1)N[ae]&&N[ae].m(L,null);K(n,et,f),K(n,$,f),e($,I),e(I,ee),e(ee,ue),e(ue,rt),e(ue,qe),e(ee,ot),e(ee,H),e(H,te),e(te,ce),e(te,it),e(te,_e),e(_e,tt),e(H,ut),e(H,le),e(le,ve),e(le,ct),e(le,se),e(se,C),e(se,Q),e(se,Et),e(H,Qt),e(H,he),e(he,Xe),e(he,Wt),e(he,de),e(de,yt),e(de,Ct),e(de,Zt),e(de,It),e(H,xt),e(H,me),e(me,ze),e(me,$t),e(me,lt),e(lt,Tt),e(I,el),e(I,G),e(G,Ye),e(Ye,Nt),e(Ye,tl),e(G,ll),e(G,Ke),e(G,sl),S&&S.m(G,null),e(I,al),e(I,ge),e(ge,Qe),e(ge,nl),e(ge,J),e(J,be),e(be,je),e(be,rl),e(be,M),R(M,t[0].aroma_score),e(J,ol),e(J,we),e(we,Ee),e(we,il),e(we,U),R(U,t[0].appearance_score),e(J,ul),e(J,ye),e(ye,Ce),e(ye,cl),e(ye,F),R(F,t[0].flavor_score),e(J,vl),e(J,Ie),e(Ie,Te),e(Ie,dl),e(Ie,O),R(O,t[0].mouthfeel_score),e(J,pl),e(J,Ne),e(Ne,ke),e(Ne,fl),e(Ne,q),R(q,t[0].overall_score),e(I,_l),e(I,De),e(De,We),e(De,hl),e(De,Se),e(Se,Ve),e(Ve,Pe),e(Ve,ml),e(Ve,W),R(W,t[0].judge_notes),e(Se,gl),e(Se,Ae),e(Ae,Le),e(Ae,bl),e(Ae,Z),R(Z,t[0].private_notes),e(I,jl),e(I,X),e(X,pe),e(pe,wl),e(X,El),e(X,Be),e(Be,yl),e(X,Cl),e(X,He),e(He,Il),e(X,Tl),x.m(X,null),Nl||(Rl=[T(M,"input",t[20]),T(M,"input",t[21]),T(U,"input",t[22]),T(U,"input",t[23]),T(F,"input",t[24]),T(F,"input",t[25]),T(O,"input",t[26]),T(O,"input",t[27]),T(q,"input",t[28]),T(q,"input",t[29]),T(W,"input",t[30]),T(W,"input",t[11]),T(Z,"input",t[31]),T(Z,"input",t[11]),T(pe,"click",t[13])],Nl=!0)},p(n,f){var ae,_t,ne,ht,mt,z;if(f[0]&128&&v!==(v=((ae=n[7].activeCompetition)==null?void 0:ae.name)+"")&&B(p,v),f[0]&16&&Ue(y,"width",n[4].percentage+"%"),f[0]&16&&j!==(j=n[4].completed+"")&&B(fe,j),f[0]&16&&b!==(b=n[4].total+"")&&B(P,b),f[0]&16&&Fe!==(Fe=n[4].percentage+"")&&B(xe,Fe),f[0]&16524){st=ls(n[7].assignedEntries);let k;for(k=0;k<st.length;k+=1){const at=ss(n,st,k);N[k]?N[k].p(at,f):(N[k]=as(at),N[k].c(),N[k].m(L,null))}for(;k<N.length;k+=1)N[k].d(1);N.length=st.length}f[0]&2&&Oe!==(Oe=n[1].entry_number+"")&&B(qe,Oe),f[0]&2&&Re!==(Re=n[9](n[1].beer_name)+"")&&B(tt,Re),f[0]&2&&r!==(r=(((_t=n[1].category)==null?void 0:_t.category_number)||"")+"")&&B(C,r),f[0]&2&&Ge!==(Ge=(((ne=n[1].category)==null?void 0:ne.category_name)||"Unknown")+"")&&B(Et,Ge),f[0]&2&&vt!==(vt=(((ht=n[1].category)==null?void 0:ht.category_number)||"")+"")&&B(yt,vt),f[0]&2&&dt!==(dt=(((mt=n[1].category)==null?void 0:mt.subcategory_letter)||"")+"")&&B(Ct,dt),f[0]&2&&pt!==(pt=(((z=n[1].category)==null?void 0:z.subcategory_name)||"N/A")+"")&&B(It,pt),f[0]&2&&ft!==(ft=(n[1].beer_notes||"None")+"")&&B(Tt,ft),f[0]&32&&B(Nt,n[5]),n[5]>0?S?S.p(n,f):(S=ns(n),S.c(),S.m(G,null)):S&&(S.d(1),S=null),f[0]&32&&Ue(G,"background",n[5]>0?rs(n[5]):"#6b7280"),f[0]&1&&oe(M.value)!==n[0].aroma_score&&R(M,n[0].aroma_score),f[0]&1&&oe(U.value)!==n[0].appearance_score&&R(U,n[0].appearance_score),f[0]&1&&oe(F.value)!==n[0].flavor_score&&R(F,n[0].flavor_score),f[0]&1&&oe(O.value)!==n[0].mouthfeel_score&&R(O,n[0].mouthfeel_score),f[0]&1&&oe(q.value)!==n[0].overall_score&&R(q,n[0].overall_score),f[0]&1&&R(W,n[0].judge_notes),f[0]&1&&R(Z,n[0].private_notes),f[0]&12&&kt!==(kt=n[2]===0||n[3])&&(pe.disabled=kt),f[0]&64&&Dt!==(Dt="/judge/competition/"+n[6]+"/scoresheet")&&l(Be,"href",Dt),f[0]&64&&St!==(St="/judge/competition/"+n[6]+"/rankings")&&l(He,"href",St),Vt===(Vt=Gl(n))&&x?x.p(n,f):(x.d(1),x=Vt(n),x&&(x.c(),x.m(X,null)))},d(n){n&&(c(s),c($e),c(L),c(et),c($)),vs(N,n),S&&S.d(),x.d(),Nl=!1,ds(Rl)}}}function ws(t){let s,a,v="No entries to judge",p,u,_="Back to Judge Portal",y,V;return{c(){s=i("div"),a=i("h2"),a.textContent=v,p=m(),u=i("button"),u.textContent=_,this.h()},l(g){s=o(g,"DIV",{style:!0});var j=d(s);a=o(j,"H2",{"data-svelte-h":!0}),D(a)!=="svelte-dovhs3"&&(a.textContent=v),p=h(j),u=o(j,"BUTTON",{class:!0,"data-svelte-h":!0}),D(u)!=="svelte-4py7n9"&&(u.textContent=_),j.forEach(c),this.h()},h(){l(u,"class","nav-btn nav-btn-secondary svelte-1l9pwnj"),Ue(s,"text-align","center"),Ue(s,"padding","3rem")},m(g,j){K(g,s,j),e(s,a),e(s,p),e(s,u),y||(V=T(u,"click",t[18]),y=!0)},p:Kt,d(g){g&&c(s),y=!1,V()}}}function Es(t){let s,a="<h2>Starting judging session...</h2>";return{c(){s=i("div"),s.innerHTML=a,this.h()},l(v){s=o(v,"DIV",{style:!0,"data-svelte-h":!0}),D(s)!=="svelte-dn045j"&&(s.innerHTML=a),this.h()},h(){Ue(s,"text-align","center"),Ue(s,"padding","3rem")},m(v,p){K(v,s,p)},p:Kt,d(v){v&&c(s)}}}function as(t){let s,a=t[42].entry_number+"",v,p,u,_,y;function V(){return t[19](t[44])}return{c(){s=i("button"),v=E(a),p=m(),this.h()},l(g){s=o(g,"BUTTON",{class:!0});var j=d(s);v=w(j,a),p=h(j),j.forEach(c),this.h()},h(){l(s,"class",u="entry-nav-item "+(t[44]===t[2]?"active":t[42].hasBeenJudged?"judged":"pending")+" svelte-1l9pwnj"),s.disabled=t[3]},m(g,j){K(g,s,j),e(s,v),e(s,p),_||(y=T(s,"click",V),_=!0)},p(g,j){t=g,j[0]&128&&a!==(a=t[42].entry_number+"")&&B(v,a),j[0]&132&&u!==(u="entry-nav-item "+(t[44]===t[2]?"active":t[42].hasBeenJudged?"judged":"pending")+" svelte-1l9pwnj")&&l(s,"class",u),j[0]&8&&(s.disabled=t[3])},d(g){g&&c(s),_=!1,y()}}}function ns(t){let s,a=os(t[5])+"",v;return{c(){s=i("p"),v=E(a),this.h()},l(p){s=o(p,"P",{class:!0});var u=d(s);v=w(u,a),u.forEach(c),this.h()},h(){l(s,"class","score-description svelte-1l9pwnj")},m(p,u){K(p,s,u),e(s,v)},p(p,u){u[0]&32&&a!==(a=os(p[5])+"")&&B(v,a)},d(p){p&&c(s)}}}function ys(t){let s,a,v,p;return{c(){s=i("button"),a=E("🏁 Finish Judging"),this.h()},l(u){s=o(u,"BUTTON",{class:!0});var _=d(s);a=w(_,"🏁 Finish Judging"),_.forEach(c),this.h()},h(){l(s,"class","nav-btn nav-btn-finish svelte-1l9pwnj"),s.disabled=t[3]},m(u,_){K(u,s,_),e(s,a),v||(p=T(s,"click",t[15]),v=!0)},p(u,_){_[0]&8&&(s.disabled=u[3])},d(u){u&&c(s),v=!1,p()}}}function Cs(t){let s,a,v,p;return{c(){s=i("button"),a=E("Next Entry ➡️"),this.h()},l(u){s=o(u,"BUTTON",{class:!0});var _=d(s);a=w(_,"Next Entry ➡️"),_.forEach(c),this.h()},h(){l(s,"class","nav-btn nav-btn-primary svelte-1l9pwnj"),s.disabled=t[3]},m(u,_){K(u,s,_),e(s,a),v||(p=T(s,"click",t[12]),v=!0)},p(u,_){_[0]&8&&(s.disabled=u[3])},d(u){u&&c(s),v=!1,p()}}}function Is(t){let s;function a(u,_){return u[8]?u[1]?js:ws:Es}let v=a(t),p=v(t);return{c(){s=i("div"),p.c(),this.h()},l(u){s=o(u,"DIV",{class:!0});var _=d(s);p.l(_),_.forEach(c),this.h()},h(){l(s,"class","judging-container svelte-1l9pwnj")},m(u,_){K(u,s,_),p.m(s,null)},p(u,_){v===(v=a(u))&&p?p.p(u,_):(p.d(1),p=v(u),p&&(p.c(),p.m(s,null)))},i:Kt,o:Kt,d(u){u&&c(s),p.d()}}}function rs(t){return t>=45?"#059669":t>=38?"#0891b2":t>=30?"#eab308":t>=21?"#f59e0b":"#dc2626"}function os(t){return t>=45?"Excellent":t>=38?"Very Good":t>=30?"Good":t>=21?"Fair":t>0?"Poor":""}function Sl(t,s="info"){const a=document.createElement("div");a.textContent=t,a.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 6px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      background: ${s==="success"?"#059669":s==="error"?"#dc2626":"#6b7280"};
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `,document.body.appendChild(a),setTimeout(()=>document.body.removeChild(a),3e3)}function Ts(t,s,a){let v,p,u,_,y,V,g,j,fe;bt(t,ms,r=>a(1,y=r)),bt(t,gs,r=>a(7,V=r)),bt(t,hs,r=>a(16,g=r)),bt(t,bs,r=>a(8,j=r)),bt(t,_s,r=>a(17,fe=r));let Y=0,b={aroma_score:"",appearance_score:"",flavor_score:"",mouthfeel_score:"",overall_score:"",judge_notes:"",private_notes:""},P=!1,A=null;function Fe(r){return p?r||"No name provided":"Hidden"}const xe={aroma_score:12,appearance_score:3,flavor_score:20,mouthfeel_score:5,overall_score:10};us(async()=>{var r;if(!g){Yt("/auth");return}try{j&&V.judgeId!==g.id&&(console.warn("Session mismatch detected - clearing session for security"),Ze.endSession()),(!j||((r=V.activeCompetition)==null?void 0:r.id)!==v||V.judgeId!==g.id)&&await Ze.startJudgingSession(v,g.id),ie()}catch(C){console.error("Error starting judging session:",C),alert(`Failed to start judging: ${C.message}`),Yt("/judge")}}),cs(()=>{A&&clearTimeout(A)});function ie(){if(!y)return;const r=y.judging;r?a(0,b={aroma_score:r.aroma_score||"",appearance_score:r.appearance_score||"",flavor_score:r.flavor_score||"",mouthfeel_score:r.mouthfeel_score||"",overall_score:r.overall_score||"",judge_notes:r.judge_notes||"",private_notes:r.private_notes||""}):a(0,b={aroma_score:"",appearance_score:"",flavor_score:"",mouthfeel_score:"",overall_score:"",judge_notes:"",private_notes:""})}function $e(r,C){const Q=parseInt(C),Ge=xe[r];return!(isNaN(Q)||Q<0||Q>Ge)}function L(r,C){const Q=C.target.value;Q===""||$e(r,Q)?(a(0,b[r]=Q,b),$()):C.target.value=b[r]}function et(){$()}function $(){A&&clearTimeout(A),A=setTimeout(()=>{I()},2e3)}async function I(){if(y)try{const r={...b};Object.keys(r).forEach(C=>{r[C]===""?r[C]=null:C.includes("_score")&&(r[C]=parseInt(r[C])||null)}),await Ze.saveJudgingResults(y.id,r),Sl("Progress saved","success")}catch(r){throw console.error("Error auto-saving:",r),Sl("Failed to save progress","error"),r}}async function ee(){await rt()}async function ue(){await Oe()}async function rt(){if(!(!y||P)){A&&clearTimeout(A),a(3,P=!0);try{await I();const r=V.assignedEntries,C=Y+1;C<r.length&&(a(2,Y=C),Ze.setCurrentEntry(C),ie())}catch(r){console.error("Failed to save before navigation:",r)}finally{a(3,P=!1)}}}async function Oe(){if(!(!y||P)){A&&clearTimeout(A),a(3,P=!0);try{await I(),Y>0&&(a(2,Y=Y-1),Ze.setCurrentEntry(Y),ie())}catch(r){console.error("Failed to save before navigation:",r)}finally{a(3,P=!1)}}}async function qe(r){if(!(!y||P)){A&&clearTimeout(A),a(3,P=!0);try{await I(),a(2,Y=r),Ze.setCurrentEntry(r),ie()}catch(C){console.error("Failed to save before navigation:",C)}finally{a(3,P=!1)}}}async function ot(){confirm("Are you sure you want to finish judging? You can still make changes later if needed.")&&(await I(),Sl("Judging session saved successfully!","success"),setTimeout(()=>{Yt("/judge")},1500))}const H=()=>Yt("/judge"),te=r=>qe(r);function ce(){b.aroma_score=oe(this.value),a(0,b)}const jt=r=>L("aroma_score",r);function it(){b.appearance_score=oe(this.value),a(0,b)}const _e=r=>L("appearance_score",r);function Re(){b.flavor_score=oe(this.value),a(0,b)}const tt=r=>L("flavor_score",r);function ut(){b.mouthfeel_score=oe(this.value),a(0,b)}const le=r=>L("mouthfeel_score",r);function ve(){b.overall_score=oe(this.value),a(0,b)}const wt=r=>L("overall_score",r);function ct(){b.judge_notes=this.value,a(0,b)}function se(){b.private_notes=this.value,a(0,b)}return t.$$.update=()=>{t.$$.dirty[0]&131072&&a(6,v=fe.params.id),t.$$.dirty[0]&65536&&(p=(g==null?void 0:g.role)==="competition_director"),t.$$.dirty[0]&1&&a(5,u=(parseInt(b.aroma_score)||0)+(parseInt(b.appearance_score)||0)+(parseInt(b.flavor_score)||0)+(parseInt(b.mouthfeel_score)||0)+(parseInt(b.overall_score)||0)),t.$$.dirty[0]&2&&y&&ie()},a(4,_=Ze.getJudgingProgress()),[b,y,Y,P,_,u,v,V,j,Fe,L,et,ee,ue,qe,ot,g,fe,H,te,ce,jt,it,_e,Re,tt,ut,le,ve,wt,ct,se]}class Ls extends ps{constructor(s){super(),fs(this,s,Ts,Is,is,{},null,[-1,-1])}}export{Ls as component};
