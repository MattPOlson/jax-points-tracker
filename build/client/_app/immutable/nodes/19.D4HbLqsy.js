import{s as tr,k as Fi,C as ir,D as rr,d as m,i as A,g as h,G as Bi,j as v,O as Gt,n as sr,Q as lr,r as nr,q as n,K as T,a as _e,b as s,x as re,N as ar,c as u,e as k,E as S,f as ne,h as d,t as ae,R as Zi,S as xi,M as or}from"../chunks/DpwROyu6.js";import{S as ur,i as dr,d as Ze,t as se,a as X,m as xe,b as et,e as tt,g as gi,c as bi,f as er}from"../chunks/BHIxbS5H.js";import{g as Jt}from"../chunks/BPUUyVED.js";import{p as fr}from"../chunks/9YNtkGAc.js";import{u as cr}from"../chunks/CN8V5uJw.js";import{updateCompetition as pr}from"../chunks/DD-D0yzS.js";import{n as mr}from"../chunks/Cgvdxfmj.js";import{C as _r,R as hr}from"../chunks/BtNLFkxd.js";import{s as vi}from"../chunks/CCM_4jRA.js";import{H as vr}from"../chunks/D4n3Zs5P.js";import{C as gr}from"../chunks/XUMP8LP7.js";import{L as br}from"../chunks/BWGxyfTN.js";import{B as Ui}from"../chunks/28GNhQ-J.js";function Cr(r){let i,t,e,l,o="Basic Information",y,g,f,b="Competition Name",p,C,E,L,M,w,Y,Z="Description",oe,V,ke,Je,Ge,x,ht="Provide any additional details about the competition",ut,Ce,vt="Important Dates",dt,he,z,ve,gt="Entry Deadline",ft,ge,W,it,rt,ct,ee,st,pt,lt,Ee,_=r[17]?"Cannot change after entries submitted":"Date and time when entries close",ue,de,j,$,Ci="Judging Date",zt,ye,le,bt,Ot,fe,Rt,Ct,ze,Di="Date and time when judging will take place",Kt,Ie,ce,Qt,Ve,ki="Keep judging date private until after entry deadline",Xt,Oe,Ei="Entry Settings",Yt,we,te,Se,yi="Entry Fee ($)",Wt,N,Dt,kt,Zt,Et,nt,mt=r[17]?"Cannot change after entries submitted":"Fee per entry (0 for free)",yt,xt,ie,Le,Ii="Max Entries Per Member",ei,O,It,Vt,ti,wt,at,_t=r[17]?"Cannot change after entries submitted":"Maximum entries allowed per member",St,ii,Re,Vi="Category System",ri,pe,Ke,wi="Ranking System",si,je,Pe,R,Lt,li,Qe,Si='<strong>Default BJCP System</strong> <div class="radio-description svelte-iee1hr">Allow all BJCP categories, rank each category individually</div>',ni,Te,K,jt,ai,Xe,Li='<strong>Custom Category System</strong> <div class="radio-description svelte-iee1hr">Select specific categories and create custom ranking groups</div>',oi,ui,Pt,Ye,ji="Status",di,$e,me,fi,Ae,Pi="Competition is active and accepting entries",ci,We,Ti="Uncheck to close competition to new entries",pi,Me,De,mi,Ne,I,_i,hi,$i,F=r[17]&&qi(r),B=r[16].name&&Hi(r),U=r[16].description&&Ji(r),q=r[16].entryDeadline&&Gi(r),H=r[16].judgingDate&&zi(r),J=r[16].entryFee&&Oi(r),G=r[16].maxEntriesPerMember&&Ri(r),Q=r[17]&&Ki(),P=r[11]==="custom"&&Qi(r);return De=new Ui({props:{variant:"secondary",disabled:r[15],$$slots:{default:[kr]},$$scope:{ctx:r}}}),De.$on("click",r[19]),Ne=new Ui({props:{variant:"primary",type:"submit",disabled:r[15],$$slots:{default:[Er]},$$scope:{ctx:r}}}),_i=lr(r[32][0]),{c(){i=d("div"),F&&F.c(),t=v(),e=d("form"),l=d("div"),l.textContent=o,y=v(),g=d("div"),f=d("label"),f.textContent=b,p=v(),C=d("input"),L=v(),B&&B.c(),M=v(),w=d("div"),Y=d("label"),Y.textContent=Z,oe=v(),V=d("textarea"),Je=v(),U&&U.c(),Ge=v(),x=d("div"),x.textContent=ht,ut=v(),Ce=d("div"),Ce.textContent=vt,dt=v(),he=d("div"),z=d("div"),ve=d("label"),ve.textContent=gt,ft=v(),ge=d("div"),W=d("input"),ct=v(),ee=d("input"),pt=v(),q&&q.c(),lt=v(),Ee=d("div"),ue=ae(_),de=v(),j=d("div"),$=d("label"),$.textContent=Ci,zt=v(),ye=d("div"),le=d("input"),Ot=v(),fe=d("input"),Rt=v(),H&&H.c(),Ct=v(),ze=d("div"),ze.textContent=Di,Kt=v(),Ie=d("div"),ce=d("input"),Qt=v(),Ve=d("label"),Ve.textContent=ki,Xt=v(),Oe=d("div"),Oe.textContent=Ei,Yt=v(),we=d("div"),te=d("div"),Se=d("label"),Se.textContent=yi,Wt=v(),N=d("input"),Zt=v(),J&&J.c(),Et=v(),nt=d("div"),yt=ae(mt),xt=v(),ie=d("div"),Le=d("label"),Le.textContent=Ii,ei=v(),O=d("input"),ti=v(),G&&G.c(),wt=v(),at=d("div"),St=ae(_t),ii=v(),Re=d("div"),Re.textContent=Vi,ri=v(),pe=d("div"),Ke=d("label"),Ke.textContent=wi,si=v(),je=d("div"),Pe=d("label"),R=d("input"),li=v(),Qe=d("span"),Qe.innerHTML=Si,ni=v(),Te=d("label"),K=d("input"),ai=v(),Xe=d("span"),Xe.innerHTML=Li,oi=v(),Q&&Q.c(),ui=v(),P&&P.c(),Pt=v(),Ye=d("div"),Ye.textContent=ji,di=v(),$e=d("div"),me=d("input"),fi=v(),Ae=d("label"),Ae.textContent=Pi,ci=v(),We=d("div"),We.textContent=Ti,pi=v(),Me=d("div"),tt(De.$$.fragment),mi=v(),tt(Ne.$$.fragment),this.h()},l(a){i=u(a,"DIV",{class:!0});var c=k(i);F&&F.l(c),t=h(c),e=u(c,"FORM",{});var D=k(e);l=u(D,"DIV",{class:!0,"data-svelte-h":!0}),S(l)!=="svelte-1wptp77"&&(l.textContent=o),y=h(D),g=u(D,"DIV",{class:!0});var be=k(g);f=u(be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(f)!=="svelte-zrd23n"&&(f.textContent=b),p=h(be),C=u(be,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,maxlength:!0}),L=h(be),B&&B.l(be),be.forEach(m),M=h(D),w=u(D,"DIV",{class:!0});var Fe=k(w);Y=u(Fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Y)!=="svelte-1tds9bi"&&(Y.textContent=Z),oe=h(Fe),V=u(Fe,"TEXTAREA",{id:!0,class:!0,placeholder:!0,maxlength:!0}),k(V).forEach(m),Je=h(Fe),U&&U.l(Fe),Ge=h(Fe),x=u(Fe,"DIV",{class:!0,"data-svelte-h":!0}),S(x)!=="svelte-1xuy3fr"&&(x.textContent=ht),Fe.forEach(m),ut=h(D),Ce=u(D,"DIV",{class:!0,"data-svelte-h":!0}),S(Ce)!=="svelte-k8kt80"&&(Ce.textContent=vt),dt=h(D),he=u(D,"DIV",{class:!0});var Tt=k(he);z=u(Tt,"DIV",{class:!0});var Be=k(z);ve=u(Be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(ve)!=="svelte-1uv1vuu"&&(ve.textContent=gt),ft=h(Be),ge=u(Be,"DIV",{class:!0});var $t=k(ge);W=u($t,"INPUT",{type:!0,id:!0,class:!0}),ct=h($t),ee=u($t,"INPUT",{type:!0,id:!0,class:!0}),$t.forEach(m),pt=h(Be),q&&q.l(Be),lt=h(Be),Ee=u(Be,"DIV",{class:!0});var Ai=k(Ee);ue=ne(Ai,_),Ai.forEach(m),Be.forEach(m),de=h(Tt),j=u(Tt,"DIV",{class:!0});var Ue=k(j);$=u(Ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S($)!=="svelte-1n4hh8e"&&($.textContent=Ci),zt=h(Ue),ye=u(Ue,"DIV",{class:!0});var At=k(ye);le=u(At,"INPUT",{type:!0,id:!0,class:!0}),Ot=h(At),fe=u(At,"INPUT",{type:!0,id:!0,class:!0}),At.forEach(m),Rt=h(Ue),H&&H.l(Ue),Ct=h(Ue),ze=u(Ue,"DIV",{class:!0,"data-svelte-h":!0}),S(ze)!=="svelte-1910duc"&&(ze.textContent=Di),Ue.forEach(m),Tt.forEach(m),Kt=h(D),Ie=u(D,"DIV",{class:!0});var Mt=k(Ie);ce=u(Mt,"INPUT",{type:!0,id:!0,class:!0}),Qt=h(Mt),Ve=u(Mt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ve)!=="svelte-1xa05d8"&&(Ve.textContent=ki),Mt.forEach(m),Xt=h(D),Oe=u(D,"DIV",{class:!0,"data-svelte-h":!0}),S(Oe)!=="svelte-1shdzwa"&&(Oe.textContent=Ei),Yt=h(D),we=u(D,"DIV",{class:!0});var Nt=k(we);te=u(Nt,"DIV",{class:!0});var qe=k(te);Se=u(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Se)!=="svelte-hrj0bz"&&(Se.textContent=yi),Wt=h(qe),N=u(qe,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0,step:!0}),Zt=h(qe),J&&J.l(qe),Et=h(qe),nt=u(qe,"DIV",{class:!0});var Mi=k(nt);yt=ne(Mi,mt),Mi.forEach(m),qe.forEach(m),xt=h(Nt),ie=u(Nt,"DIV",{class:!0});var He=k(ie);Le=u(He,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Le)!=="svelte-vuu2kx"&&(Le.textContent=Ii),ei=h(He),O=u(He,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0}),ti=h(He),G&&G.l(He),wt=h(He),at=u(He,"DIV",{class:!0});var Ni=k(at);St=ne(Ni,_t),Ni.forEach(m),He.forEach(m),Nt.forEach(m),ii=h(D),Re=u(D,"DIV",{class:!0,"data-svelte-h":!0}),S(Re)!=="svelte-dsh9im"&&(Re.textContent=Vi),ri=h(D),pe=u(D,"DIV",{class:!0});var ot=k(pe);Ke=u(ot,"LABEL",{class:!0,"data-svelte-h":!0}),S(Ke)!=="svelte-1om2l1x"&&(Ke.textContent=wi),si=h(ot),je=u(ot,"DIV",{class:!0});var Ft=k(je);Pe=u(Ft,"LABEL",{class:!0});var Bt=k(Pe);R=u(Bt,"INPUT",{type:!0}),li=h(Bt),Qe=u(Bt,"SPAN",{class:!0,"data-svelte-h":!0}),S(Qe)!=="svelte-o3bxzz"&&(Qe.innerHTML=Si),Bt.forEach(m),ni=h(Ft),Te=u(Ft,"LABEL",{class:!0});var Ut=k(Te);K=u(Ut,"INPUT",{type:!0}),ai=h(Ut),Xe=u(Ut,"SPAN",{class:!0,"data-svelte-h":!0}),S(Xe)!=="svelte-gwerxa"&&(Xe.innerHTML=Li),Ut.forEach(m),Ft.forEach(m),oi=h(ot),Q&&Q.l(ot),ot.forEach(m),ui=h(D),P&&P.l(D),Pt=h(D),Ye=u(D,"DIV",{class:!0,"data-svelte-h":!0}),S(Ye)!=="svelte-f5f1f"&&(Ye.textContent=ji),di=h(D),$e=u(D,"DIV",{class:!0});var qt=k($e);me=u(qt,"INPUT",{type:!0,id:!0,class:!0}),fi=h(qt),Ae=u(qt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ae)!=="svelte-1flgo58"&&(Ae.textContent=Pi),qt.forEach(m),ci=h(D),We=u(D,"DIV",{class:!0,"data-svelte-h":!0}),S(We)!=="svelte-40ckw0"&&(We.textContent=Ti),pi=h(D),Me=u(D,"DIV",{class:!0});var Ht=k(Me);et(De.$$.fragment,Ht),mi=h(Ht),et(Ne.$$.fragment,Ht),Ht.forEach(m),D.forEach(m),c.forEach(m),this.h()},h(){n(l,"class","section-title svelte-iee1hr"),n(f,"for","name"),n(f,"class","required svelte-iee1hr"),n(C,"type","text"),n(C,"id","name"),n(C,"class",E="form-control "+(r[16].name?"error":"")+" svelte-iee1hr"),n(C,"placeholder","e.g., Spring 2025 Homebrew Competition"),n(C,"maxlength","100"),C.disabled=r[15],n(g,"class","form-group svelte-iee1hr"),n(Y,"for","description"),n(Y,"class","svelte-iee1hr"),n(V,"id","description"),n(V,"class",ke="form-control "+(r[16].description?"error":"")+" svelte-iee1hr"),n(V,"placeholder","Optional description or special instructions"),n(V,"maxlength","500"),V.disabled=r[15],n(x,"class","help-text svelte-iee1hr"),n(w,"class","form-group svelte-iee1hr"),n(Ce,"class","section-title svelte-iee1hr"),n(ve,"for","entryDeadline"),n(ve,"class","required svelte-iee1hr"),n(W,"type","date"),n(W,"id","entryDeadline"),n(W,"class",it="form-control "+(r[16].entryDeadline?"error":"")+" svelte-iee1hr"),W.disabled=rt=r[15]||r[17],n(ee,"type","time"),n(ee,"id","entryDeadlineTime"),n(ee,"class","form-control time-input svelte-iee1hr"),ee.disabled=st=r[15]||r[17],n(ge,"class","datetime-inputs svelte-iee1hr"),n(Ee,"class","help-text svelte-iee1hr"),n(z,"class","form-group svelte-iee1hr"),n($,"for","judgingDate"),n($,"class","required svelte-iee1hr"),n(le,"type","date"),n(le,"id","judgingDate"),n(le,"class",bt="form-control "+(r[16].judgingDate?"error":"")+" svelte-iee1hr"),le.disabled=r[15],n(fe,"type","time"),n(fe,"id","judgingDateTime"),n(fe,"class","form-control time-input svelte-iee1hr"),fe.disabled=r[15],n(ye,"class","datetime-inputs svelte-iee1hr"),n(ze,"class","help-text svelte-iee1hr"),n(j,"class","form-group svelte-iee1hr"),n(he,"class","form-row svelte-iee1hr"),n(ce,"type","checkbox"),n(ce,"id","hideJudgingDate"),ce.disabled=r[15],n(ce,"class","svelte-iee1hr"),n(Ve,"for","hideJudgingDate"),n(Ve,"class","svelte-iee1hr"),n(Ie,"class","checkbox-group svelte-iee1hr"),n(Oe,"class","section-title svelte-iee1hr"),n(Se,"for","entryFee"),n(Se,"class","svelte-iee1hr"),n(N,"type","number"),n(N,"id","entryFee"),n(N,"class",Dt="form-control "+(r[16].entryFee?"error":"")+" svelte-iee1hr"),n(N,"min","0"),n(N,"max","100"),n(N,"step","1"),N.disabled=kt=r[15]||r[17],n(nt,"class","help-text svelte-iee1hr"),n(te,"class","form-group svelte-iee1hr"),n(Le,"for","maxEntries"),n(Le,"class","svelte-iee1hr"),n(O,"type","number"),n(O,"id","maxEntries"),n(O,"class",It="form-control "+(r[16].maxEntriesPerMember?"error":"")+" svelte-iee1hr"),n(O,"min","1"),n(O,"max","20"),O.disabled=Vt=r[15]||r[17],n(at,"class","help-text svelte-iee1hr"),n(ie,"class","form-group svelte-iee1hr"),n(we,"class","form-row svelte-iee1hr"),n(Re,"class","section-title svelte-iee1hr"),n(Ke,"class","svelte-iee1hr"),n(R,"type","radio"),R.__value="default",T(R,R.__value),R.disabled=Lt=r[15]||r[17],n(Qe,"class","radio-label svelte-iee1hr"),n(Pe,"class","radio-option svelte-iee1hr"),n(K,"type","radio"),K.__value="custom",T(K,K.__value),K.disabled=jt=r[15]||r[17],n(Xe,"class","radio-label svelte-iee1hr"),n(Te,"class","radio-option svelte-iee1hr"),n(je,"class","radio-group svelte-iee1hr"),n(pe,"class","form-group svelte-iee1hr"),n(Ye,"class","section-title svelte-iee1hr"),n(me,"type","checkbox"),n(me,"id","isActive"),me.disabled=r[15],n(me,"class","svelte-iee1hr"),n(Ae,"for","isActive"),n(Ae,"class","svelte-iee1hr"),n($e,"class","checkbox-group svelte-iee1hr"),n(We,"class","help-text svelte-iee1hr"),n(Me,"class","form-actions svelte-iee1hr"),n(i,"class","form-card svelte-iee1hr"),_i.p(R,K)},m(a,c){A(a,i,c),F&&F.m(i,null),s(i,t),s(i,e),s(e,l),s(e,y),s(e,g),s(g,f),s(g,p),s(g,C),T(C,r[1]),s(g,L),B&&B.m(g,null),s(e,M),s(e,w),s(w,Y),s(w,oe),s(w,V),T(V,r[2]),s(w,Je),U&&U.m(w,null),s(w,Ge),s(w,x),s(e,ut),s(e,Ce),s(e,dt),s(e,he),s(he,z),s(z,ve),s(z,ft),s(z,ge),s(ge,W),T(W,r[3]),s(ge,ct),s(ge,ee),T(ee,r[4]),s(z,pt),q&&q.m(z,null),s(z,lt),s(z,Ee),s(Ee,ue),s(he,de),s(he,j),s(j,$),s(j,zt),s(j,ye),s(ye,le),T(le,r[5]),s(ye,Ot),s(ye,fe),T(fe,r[6]),s(j,Rt),H&&H.m(j,null),s(j,Ct),s(j,ze),s(e,Kt),s(e,Ie),s(Ie,ce),ce.checked=r[10],s(Ie,Qt),s(Ie,Ve),s(e,Xt),s(e,Oe),s(e,Yt),s(e,we),s(we,te),s(te,Se),s(te,Wt),s(te,N),T(N,r[7]),s(te,Zt),J&&J.m(te,null),s(te,Et),s(te,nt),s(nt,yt),s(we,xt),s(we,ie),s(ie,Le),s(ie,ei),s(ie,O),T(O,r[8]),s(ie,ti),G&&G.m(ie,null),s(ie,wt),s(ie,at),s(at,St),s(e,ii),s(e,Re),s(e,ri),s(e,pe),s(pe,Ke),s(pe,si),s(pe,je),s(je,Pe),s(Pe,R),R.checked=R.__value===r[11],s(Pe,li),s(Pe,Qe),s(je,ni),s(je,Te),s(Te,K),K.checked=K.__value===r[11],s(Te,ai),s(Te,Xe),s(pe,oi),Q&&Q.m(pe,null),s(e,ui),P&&P.m(e,null),s(e,Pt),s(e,Ye),s(e,di),s(e,$e),s($e,me),me.checked=r[9],s($e,fi),s($e,Ae),s(e,ci),s(e,We),s(e,pi),s(e,Me),xe(De,Me,null),s(Me,mi),xe(Ne,Me,null),I=!0,hi||($i=[re(C,"input",r[22]),re(V,"input",r[23]),re(W,"input",r[24]),re(ee,"input",r[25]),re(le,"input",r[26]),re(fe,"input",r[27]),re(ce,"change",r[28]),re(N,"input",r[29]),re(O,"input",r[30]),re(R,"change",r[31]),re(K,"change",r[33]),re(me,"change",r[37]),re(e,"submit",ar(r[18]))],hi=!0)},p(a,c){a[17]?F?F.p(a,c):(F=qi(a),F.c(),F.m(i,t)):F&&(F.d(1),F=null),(!I||c[0]&65536&&E!==(E="form-control "+(a[16].name?"error":"")+" svelte-iee1hr"))&&n(C,"class",E),(!I||c[0]&32768)&&(C.disabled=a[15]),c[0]&2&&C.value!==a[1]&&T(C,a[1]),a[16].name?B?B.p(a,c):(B=Hi(a),B.c(),B.m(g,null)):B&&(B.d(1),B=null),(!I||c[0]&65536&&ke!==(ke="form-control "+(a[16].description?"error":"")+" svelte-iee1hr"))&&n(V,"class",ke),(!I||c[0]&32768)&&(V.disabled=a[15]),c[0]&4&&T(V,a[2]),a[16].description?U?U.p(a,c):(U=Ji(a),U.c(),U.m(w,Ge)):U&&(U.d(1),U=null),(!I||c[0]&65536&&it!==(it="form-control "+(a[16].entryDeadline?"error":"")+" svelte-iee1hr"))&&n(W,"class",it),(!I||c[0]&163840&&rt!==(rt=a[15]||a[17]))&&(W.disabled=rt),c[0]&8&&T(W,a[3]),(!I||c[0]&163840&&st!==(st=a[15]||a[17]))&&(ee.disabled=st),c[0]&16&&T(ee,a[4]),a[16].entryDeadline?q?q.p(a,c):(q=Gi(a),q.c(),q.m(z,lt)):q&&(q.d(1),q=null),(!I||c[0]&131072)&&_!==(_=a[17]?"Cannot change after entries submitted":"Date and time when entries close")&&_e(ue,_),(!I||c[0]&65536&&bt!==(bt="form-control "+(a[16].judgingDate?"error":"")+" svelte-iee1hr"))&&n(le,"class",bt),(!I||c[0]&32768)&&(le.disabled=a[15]),c[0]&32&&T(le,a[5]),(!I||c[0]&32768)&&(fe.disabled=a[15]),c[0]&64&&T(fe,a[6]),a[16].judgingDate?H?H.p(a,c):(H=zi(a),H.c(),H.m(j,Ct)):H&&(H.d(1),H=null),(!I||c[0]&32768)&&(ce.disabled=a[15]),c[0]&1024&&(ce.checked=a[10]),(!I||c[0]&65536&&Dt!==(Dt="form-control "+(a[16].entryFee?"error":"")+" svelte-iee1hr"))&&n(N,"class",Dt),(!I||c[0]&163840&&kt!==(kt=a[15]||a[17]))&&(N.disabled=kt),c[0]&128&&Gt(N.value)!==a[7]&&T(N,a[7]),a[16].entryFee?J?J.p(a,c):(J=Oi(a),J.c(),J.m(te,Et)):J&&(J.d(1),J=null),(!I||c[0]&131072)&&mt!==(mt=a[17]?"Cannot change after entries submitted":"Fee per entry (0 for free)")&&_e(yt,mt),(!I||c[0]&65536&&It!==(It="form-control "+(a[16].maxEntriesPerMember?"error":"")+" svelte-iee1hr"))&&n(O,"class",It),(!I||c[0]&163840&&Vt!==(Vt=a[15]||a[17]))&&(O.disabled=Vt),c[0]&256&&Gt(O.value)!==a[8]&&T(O,a[8]),a[16].maxEntriesPerMember?G?G.p(a,c):(G=Ri(a),G.c(),G.m(ie,wt)):G&&(G.d(1),G=null),(!I||c[0]&131072)&&_t!==(_t=a[17]?"Cannot change after entries submitted":"Maximum entries allowed per member")&&_e(St,_t),(!I||c[0]&163840&&Lt!==(Lt=a[15]||a[17]))&&(R.disabled=Lt),c[0]&2048&&(R.checked=R.__value===a[11]),(!I||c[0]&163840&&jt!==(jt=a[15]||a[17]))&&(K.disabled=jt),c[0]&2048&&(K.checked=K.__value===a[11]),a[17]?Q||(Q=Ki(),Q.c(),Q.m(pe,null)):Q&&(Q.d(1),Q=null),a[11]==="custom"?P?(P.p(a,c),c[0]&2048&&X(P,1)):(P=Qi(a),P.c(),X(P,1),P.m(e,Pt)):P&&(gi(),se(P,1,1,()=>{P=null}),bi()),(!I||c[0]&32768)&&(me.disabled=a[15]),c[0]&512&&(me.checked=a[9]);const D={};c[0]&32768&&(D.disabled=a[15]),c[1]&1024&&(D.$$scope={dirty:c,ctx:a}),De.$set(D);const be={};c[0]&32768&&(be.disabled=a[15]),c[0]&32768|c[1]&1024&&(be.$$scope={dirty:c,ctx:a}),Ne.$set(be)},i(a){I||(X(P),X(De.$$.fragment,a),X(Ne.$$.fragment,a),I=!0)},o(a){se(P),se(De.$$.fragment,a),se(Ne.$$.fragment,a),I=!1},d(a){a&&m(i),F&&F.d(),B&&B.d(),U&&U.d(),q&&q.d(),H&&H.d(),J&&J.d(),G&&G.d(),Q&&Q.d(),P&&P.d(),Ze(De),Ze(Ne),_i.r(),hi=!1,nr($i)}}}function Dr(r){let i,t;return i=new br({props:{message:"Loading competition..."}}),{c(){tt(i.$$.fragment)},l(e){et(i.$$.fragment,e)},m(e,l){xe(i,e,l),t=!0},p:sr,i(e){t||(X(i.$$.fragment,e),t=!0)},o(e){se(i.$$.fragment,e),t=!1},d(e){Ze(i,e)}}}function qi(r){let i,t=`<strong class="svelte-iee1hr">⚠️ This competition has entries</strong>
          Some fields cannot be modified after entries have been submitted.`,e,l,o,y,g="Total Entries",f,b,p=(r[0].entry_count||0)+"",C;return{c(){i=d("div"),i.innerHTML=t,e=v(),l=d("div"),o=d("div"),y=d("span"),y.textContent=g,f=v(),b=d("span"),C=ae(p),this.h()},l(E){i=u(E,"DIV",{class:!0,"data-svelte-h":!0}),S(i)!=="svelte-z1fbzs"&&(i.innerHTML=t),e=h(E),l=u(E,"DIV",{class:!0});var L=k(l);o=u(L,"DIV",{class:!0});var M=k(o);y=u(M,"SPAN",{class:!0,"data-svelte-h":!0}),S(y)!=="svelte-ybinew"&&(y.textContent=g),f=h(M),b=u(M,"SPAN",{class:!0});var w=k(b);C=ne(w,p),w.forEach(m),M.forEach(m),L.forEach(m),this.h()},h(){n(i,"class","warning-banner svelte-iee1hr"),n(y,"class","stat-label svelte-iee1hr"),n(b,"class","stat-value svelte-iee1hr"),n(o,"class","stat svelte-iee1hr"),n(l,"class","entry-stats svelte-iee1hr")},m(E,L){A(E,i,L),A(E,e,L),A(E,l,L),s(l,o),s(o,y),s(o,f),s(o,b),s(b,C)},p(E,L){L[0]&1&&p!==(p=(E[0].entry_count||0)+"")&&_e(C,p)},d(E){E&&(m(i),m(e),m(l))}}}function Hi(r){let i,t=r[16].name+"",e;return{c(){i=d("div"),e=ae(t),this.h()},l(l){i=u(l,"DIV",{class:!0});var o=k(i);e=ne(o,t),o.forEach(m),this.h()},h(){n(i,"class","error-message svelte-iee1hr")},m(l,o){A(l,i,o),s(i,e)},p(l,o){o[0]&65536&&t!==(t=l[16].name+"")&&_e(e,t)},d(l){l&&m(i)}}}function Ji(r){let i,t=r[16].description+"",e;return{c(){i=d("div"),e=ae(t),this.h()},l(l){i=u(l,"DIV",{class:!0});var o=k(i);e=ne(o,t),o.forEach(m),this.h()},h(){n(i,"class","error-message svelte-iee1hr")},m(l,o){A(l,i,o),s(i,e)},p(l,o){o[0]&65536&&t!==(t=l[16].description+"")&&_e(e,t)},d(l){l&&m(i)}}}function Gi(r){let i,t=r[16].entryDeadline+"",e;return{c(){i=d("div"),e=ae(t),this.h()},l(l){i=u(l,"DIV",{class:!0});var o=k(i);e=ne(o,t),o.forEach(m),this.h()},h(){n(i,"class","error-message svelte-iee1hr")},m(l,o){A(l,i,o),s(i,e)},p(l,o){o[0]&65536&&t!==(t=l[16].entryDeadline+"")&&_e(e,t)},d(l){l&&m(i)}}}function zi(r){let i,t=r[16].judgingDate+"",e;return{c(){i=d("div"),e=ae(t),this.h()},l(l){i=u(l,"DIV",{class:!0});var o=k(i);e=ne(o,t),o.forEach(m),this.h()},h(){n(i,"class","error-message svelte-iee1hr")},m(l,o){A(l,i,o),s(i,e)},p(l,o){o[0]&65536&&t!==(t=l[16].judgingDate+"")&&_e(e,t)},d(l){l&&m(i)}}}function Oi(r){let i,t=r[16].entryFee+"",e;return{c(){i=d("div"),e=ae(t),this.h()},l(l){i=u(l,"DIV",{class:!0});var o=k(i);e=ne(o,t),o.forEach(m),this.h()},h(){n(i,"class","error-message svelte-iee1hr")},m(l,o){A(l,i,o),s(i,e)},p(l,o){o[0]&65536&&t!==(t=l[16].entryFee+"")&&_e(e,t)},d(l){l&&m(i)}}}function Ri(r){let i,t=r[16].maxEntriesPerMember+"",e;return{c(){i=d("div"),e=ae(t),this.h()},l(l){i=u(l,"DIV",{class:!0});var o=k(i);e=ne(o,t),o.forEach(m),this.h()},h(){n(i,"class","error-message svelte-iee1hr")},m(l,o){A(l,i,o),s(i,e)},p(l,o){o[0]&65536&&t!==(t=l[16].maxEntriesPerMember+"")&&_e(e,t)},d(l){l&&m(i)}}}function Ki(r){let i,t="Cannot change after entries submitted";return{c(){i=d("div"),i.textContent=t,this.h()},l(e){i=u(e,"DIV",{class:!0,"data-svelte-h":!0}),S(i)!=="svelte-sareta"&&(i.textContent=t),this.h()},h(){n(i,"class","help-text svelte-iee1hr")},m(e,l){A(e,i,l)},d(e){e&&m(i)}}}function Qi(r){let i,t,e,l,o;function y(b){r[34](b)}let g={disabled:r[17]};r[12]!==void 0&&(g.selectedCategories=r[12]),t=new _r({props:g}),Zi.push(()=>er(t,"selectedCategories",y)),t.$on("change",r[35]);let f=r[12].length>0&&Xi(r);return{c(){i=d("div"),tt(t.$$.fragment),l=v(),f&&f.c(),this.h()},l(b){i=u(b,"DIV",{class:!0});var p=k(i);et(t.$$.fragment,p),l=h(p),f&&f.l(p),p.forEach(m),this.h()},h(){n(i,"class","custom-category-section svelte-iee1hr")},m(b,p){A(b,i,p),xe(t,i,null),s(i,l),f&&f.m(i,null),o=!0},p(b,p){const C={};p[0]&131072&&(C.disabled=b[17]),!e&&p[0]&4096&&(e=!0,C.selectedCategories=b[12],xi(()=>e=!1)),t.$set(C),b[12].length>0?f?(f.p(b,p),p[0]&4096&&X(f,1)):(f=Xi(b),f.c(),X(f,1),f.m(i,null)):f&&(gi(),se(f,1,1,()=>{f=null}),bi())},i(b){o||(X(t.$$.fragment,b),X(f),o=!0)},o(b){se(t.$$.fragment,b),se(f),o=!1},d(b){b&&m(i),Ze(t),f&&f.d()}}}function Xi(r){let i,t,e,l;function o(g){r[36](g)}let y={selectedCategories:r[12],disabled:r[17]};return r[13]!==void 0&&(y.rankingGroups=r[13]),t=new hr({props:y}),Zi.push(()=>er(t,"rankingGroups",o)),t.$on("change",Vr),{c(){i=d("div"),tt(t.$$.fragment),this.h()},l(g){i=u(g,"DIV",{style:!0});var f=k(i);et(t.$$.fragment,f),f.forEach(m),this.h()},h(){or(i,"margin-top","1.5rem")},m(g,f){A(g,i,f),xe(t,i,null),l=!0},p(g,f){const b={};f[0]&4096&&(b.selectedCategories=g[12]),f[0]&131072&&(b.disabled=g[17]),!e&&f[0]&8192&&(e=!0,b.rankingGroups=g[13],xi(()=>e=!1)),t.$set(b)},i(g){l||(X(t.$$.fragment,g),l=!0)},o(g){se(t.$$.fragment,g),l=!1},d(g){g&&m(i),Ze(t)}}}function kr(r){let i;return{c(){i=ae("Cancel")},l(t){i=ne(t,"Cancel")},m(t,e){A(t,i,e)},d(t){t&&m(i)}}}function Er(r){let i=r[15]?"Saving...":"Save Changes",t;return{c(){t=ae(i)},l(e){t=ne(e,i)},m(e,l){A(e,t,l)},p(e,l){l[0]&32768&&i!==(i=e[15]?"Saving...":"Save Changes")&&_e(t,i)},d(e){e&&m(t)}}}function yr(r){let i,t,e,l,o,y;i=new vr({props:{title:"Edit Competition",subtitle:"Update competition details",icon:"✏️",center:!0}});const g=[Dr,Cr],f=[];function b(p,C){return p[14]?0:p[0]?1:-1}return~(e=b(r))&&(l=f[e]=g[e](r)),{c(){tt(i.$$.fragment),t=v(),l&&l.c(),o=Bi()},l(p){et(i.$$.fragment,p),t=h(p),l&&l.l(p),o=Bi()},m(p,C){xe(i,p,C),A(p,t,C),~e&&f[e].m(p,C),A(p,o,C),y=!0},p(p,C){let E=e;e=b(p),e===E?~e&&f[e].p(p,C):(l&&(gi(),se(f[E],1,1,()=>{f[E]=null}),bi()),~e?(l=f[e],l?l.p(p,C):(l=f[e]=g[e](p),l.c()),X(l,1),l.m(o.parentNode,o)):l=null)},i(p){y||(X(i.$$.fragment,p),X(l),y=!0)},o(p){se(i.$$.fragment,p),se(l),y=!1},d(p){p&&(m(t),m(o)),Ze(i,p),~e&&f[e].d(p)}}}function Ir(r){let i,t;return i=new gr({props:{size:"md",$$slots:{default:[yr]},$$scope:{ctx:r}}}),{c(){tt(i.$$.fragment)},l(e){et(i.$$.fragment,e)},m(e,l){xe(i,e,l),t=!0},p(e,l){const o={};l[0]&262143|l[1]&1024&&(o.$$scope={dirty:l,ctx:e}),i.$set(o)},i(e){t||(X(i.$$.fragment,e),t=!0)},o(e){se(i.$$.fragment,e),t=!1},d(e){Ze(i,e)}}}function Yi(r){const i=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),e=String(r.getDate()).padStart(2,"0");return`${i}-${t}-${e}`}function Wi(r){const i=String(r.getHours()).padStart(2,"0"),t=String(r.getMinutes()).padStart(2,"0");return`${i}:${t}`}const Vr=()=>{};function wr(r,i,t){let e,l,o,y;Fi(r,fr,_=>t(20,o=_)),Fi(r,cr,_=>t(21,y=_));let g="",f="",b="",p="00:00",C="",E="00:00",L=5,M=5,w=!0,Y=!1,Z="default",oe=[],V=[],ke=!0,Je=!1,Ge={},x=null;ir(async()=>{await mr(),ht()}),rr(()=>{});async function ht(){t(14,ke=!0);try{const{data:_,error:ue}=await vi.from("competitions").select(`
          *,
          competition_ranking_groups (
            id,
            group_name,
            group_description,
            bjcp_category_ids,
            group_order
          )
        `).eq("id",e).single();if(ue)throw ue;if(_){t(0,x=_),t(1,g=_.name||""),t(2,f=_.description||"");const de=new Date(_.entry_deadline);t(3,b=Yi(de)),t(4,p=Wi(de));const j=new Date(_.judging_date);t(5,C=Yi(j)),t(6,E=Wi(j)),t(7,L=_.entry_fee||0),t(8,M=_.max_entries_per_member||5),t(9,w=_.active??!0),t(10,Y=_.hide_judging_date??!1),t(11,Z=_.category_system||"default"),Z==="custom"&&_.category_restrictions?(t(12,oe=Array.isArray(_.category_restrictions)?_.category_restrictions:JSON.parse(_.category_restrictions)),_.competition_ranking_groups&&_.competition_ranking_groups.length>0&&t(13,V=_.competition_ranking_groups.map($=>({id:$.id,name:$.group_name,description:$.group_description||"",categories:Array.isArray($.bjcp_category_ids)?$.bjcp_category_ids:JSON.parse($.bjcp_category_ids)})))):(t(12,oe=[]),t(13,V=[]))}}catch(_){console.error("Error loading competition:",_),alert("Failed to load competition"),Jt("/officers/manage-competitions")}finally{t(14,ke=!1)}}function ut(){const _={};if(g.trim()?g.length>100&&(_.name="Name must be 100 characters or less"):_.name="Competition name is required",f&&f.length>500&&(_.description="Description must be 500 characters or less"),b||(_.entryDeadline="Entry deadline is required"),!C)_.judgingDate="Judging date is required";else{const ue=new Date(`${C}T${E}:00`),de=new Date(`${b}T${p}:00`);ue<=de&&(_.judgingDate="Judging date and time must be after entry deadline")}return(L<0||L>100)&&(_.entryFee="Entry fee must be between $0 and $100"),(M<1||M>20)&&(_.maxEntriesPerMember="Max entries must be between 1 and 20"),t(16,Ge=_),Object.keys(_).length===0}async function Ce(){if(ut()){t(15,Je=!0);try{const _={name:g.trim(),description:f.trim()||null,entry_deadline:`${b}T${p}:00`,judging_date:`${C}T${E}:00`,entry_fee:L,max_entries_per_member:M,active:w,hide_judging_date:Y,category_system:Z,category_restrictions:Z==="custom"&&oe.length>0?oe:null};if(await pr(e,_),!l&&(await vi.from("competition_ranking_groups").delete().eq("competition_id",e),Z==="custom"&&V.length>0)){const ue=V.map((j,$)=>({competition_id:e,group_name:j.name,group_description:j.description||null,bjcp_category_ids:j.categories,group_order:$+1})),{error:de}=await vi.from("competition_ranking_groups").insert(ue);if(de)throw de}Jt("/officers/manage-competitions")}catch(_){console.error("Error updating competition:",_),alert(`Error updating competition: ${_.message}`),t(15,Je=!1)}}}function vt(){Jt("/officers/manage-competitions")}const dt=[[]];function he(){g=this.value,t(1,g)}function z(){f=this.value,t(2,f)}function ve(){b=this.value,t(3,b)}function gt(){p=this.value,t(4,p)}function ft(){C=this.value,t(5,C)}function ge(){E=this.value,t(6,E)}function W(){Y=this.checked,t(10,Y)}function it(){L=Gt(this.value),t(7,L)}function rt(){M=Gt(this.value),t(8,M)}function ct(){Z=this.__value,t(11,Z)}function ee(){Z=this.__value,t(11,Z)}function st(_){oe=_,t(12,oe)}const pt=()=>{l||t(13,V=[])};function lt(_){V=_,t(13,V)}function Ee(){w=this.checked,t(9,w)}return r.$$.update=()=>{r.$$.dirty[0]&2097152&&y&&!y.is_officer&&Jt("/"),r.$$.dirty[0]&1048576&&(e=o.params.id),r.$$.dirty[0]&1&&t(17,l=(x==null?void 0:x.entry_count)>0)},[x,g,f,b,p,C,E,L,M,w,Y,Z,oe,V,ke,Je,Ge,l,Ce,vt,o,y,he,z,ve,gt,ft,ge,W,it,rt,ct,dt,ee,st,pt,lt,Ee]}class Hr extends ur{constructor(i){super(),dr(this,i,wr,Ir,tr,{},null,[-1,-1])}}export{Hr as component};
