import{s as al,n as Rt,d as u,i as K,q as t,c as n,e as h,h as o,k as _t,w as rl,x as nl,I as ce,G as A,v as D,b as e,p as N,g as _,j as b,y as ol,r as il,a as O,B as U,f as C,t as I}from"../chunks/DOvoZ9Ia.js";import{e as Zs}from"../chunks/DJwZhPfI.js";import{S as cl,i as ul}from"../chunks/DZMW2zPD.js";import{g as Ft}from"../chunks/F2-QbuOs.js";import{p as vl}from"../chunks/BwSWz2JU.js";import{u as dl}from"../chunks/DP1yl1qp.js";import{c as lt,b as hl,a as fl,i as pl}from"../chunks/z-QhZtwN.js";function $s(s,l,a){const v=s.slice();return v[40]=l[a],v[42]=a,v}function _l(s){var qs,Fs,Rs,Gs,Xs;let l,a,v=((qs=s[7].activeCompetition)==null?void 0:qs.name)+"",f,c,d,j,X,g,y=s[4].completed+"",q,m,x=s[4].total+"",te,at,Q=s[4].percentage+"",ze,se,Ye,W,ue,ve,P,le,de,Ke,Me=s[1].entry_number+"",Qe,rt,S,ae,he,bt="Beer Name",nt,_e,Ue=(s[1].beer_name||"No name provided")+"",We,ot,re,fe,mt="Category",i,E,F=(((Fs=s[1].category)==null?void 0:Fs.category_number)||"")+"",Ze,it=(((Rs=s[1].category)==null?void 0:Rs.subcategory_letter)||"")+"",gt,Gt,ct=(((Gs=s[1].category)==null?void 0:Gs.category_name)||"Unknown")+"",Et,Xt,be,Oe,ks="Subcategory",xt,$e,ut=(((Xs=s[1].category)==null?void 0:Xs.subcategory_name)||"N/A")+"",yt,zt,me,qe,Ds="Entry Notes",Yt,et,vt=(s[1].beer_notes||"None")+"",Ct,Kt,R,Fe,It,Qt,Wt,Re,Ps="Total Score",Zt,$t,ge,Ge,Vs="BJCP Scoring (50 points total)",es,L,Ee,ye,As='Aroma <span class="score-max svelte-5hsbci">(0-12)</span>',ts,B,ss,Ce,Ie,Ss='Appearance <span class="score-max svelte-5hsbci">(0-3)</span>',ls,J,as,Te,je,Ls='Flavor <span class="score-max svelte-5hsbci">(0-20)</span>',rs,H,ns,Ne,ke,Bs='Mouthfeel <span class="score-max svelte-5hsbci">(0-5)</span>',os,w,is,De,Pe,Js='Overall <span class="score-max svelte-5hsbci">(0-10)</span>',cs,M,us,Ve,Xe,Hs="Judging Notes",vs,Ae,Se,Le,ws="Judge Notes (visible to entrant)",ds,Z,hs,Be,Je,Ms="Private Notes (only visible to judges and officers)",fs,$,ps,G,pe,_s,Tt,bs,z,ms,jt,gs,Y,Es,Nt,ys,Cs,Us,tt=Zs(s[7].assignedEntries),k=[];for(let r=0;r<tt.length;r+=1)k[r]=el($s(s,tt,r));let V=s[5]>0&&tl(s);function Os(r,p){return r[2]<r[7].assignedEntries.length-1?El:gl}let kt=Os(s),ee=kt(s);return{c(){l=o("div"),a=o("h1"),f=I(v),c=b(),d=o("div"),j=o("div"),X=b(),g=o("div"),q=I(y),m=I(" of "),te=I(x),at=I(" entries judged ("),ze=I(Q),se=I("%)"),Ye=b(),W=o("div");for(let r=0;r<k.length;r+=1)k[r].c();ue=b(),ve=o("div"),P=o("div"),le=o("div"),de=o("h2"),Ke=I("Entry #"),Qe=I(Me),rt=b(),S=o("div"),ae=o("div"),he=o("span"),he.textContent=bt,nt=b(),_e=o("span"),We=I(Ue),ot=b(),re=o("div"),fe=o("span"),fe.textContent=mt,i=b(),E=o("span"),Ze=I(F),gt=I(it),Gt=I(" - "),Et=I(ct),Xt=b(),be=o("div"),Oe=o("span"),Oe.textContent=ks,xt=b(),$e=o("span"),yt=I(ut),zt=b(),me=o("div"),qe=o("span"),qe.textContent=Ds,Yt=b(),et=o("span"),Ct=I(vt),Kt=b(),R=o("div"),Fe=o("h3"),It=I(s[5]),Qt=I("/50"),Wt=b(),Re=o("p"),Re.textContent=Ps,Zt=b(),V&&V.c(),$t=b(),ge=o("div"),Ge=o("h3"),Ge.textContent=Vs,es=b(),L=o("div"),Ee=o("div"),ye=o("label"),ye.innerHTML=As,ts=b(),B=o("input"),ss=b(),Ce=o("div"),Ie=o("label"),Ie.innerHTML=Ss,ls=b(),J=o("input"),as=b(),Te=o("div"),je=o("label"),je.innerHTML=Ls,rs=b(),H=o("input"),ns=b(),Ne=o("div"),ke=o("label"),ke.innerHTML=Bs,os=b(),w=o("input"),is=b(),De=o("div"),Pe=o("label"),Pe.innerHTML=Js,cs=b(),M=o("input"),us=b(),Ve=o("div"),Xe=o("h3"),Xe.textContent=Hs,vs=b(),Ae=o("div"),Se=o("div"),Le=o("label"),Le.textContent=ws,ds=b(),Z=o("textarea"),hs=b(),Be=o("div"),Je=o("label"),Je.textContent=Ms,fs=b(),$=o("textarea"),ps=b(),G=o("div"),pe=o("button"),_s=I("⬅️ Previous Entry"),bs=b(),z=o("a"),ms=I("📋 BJCP Scoresheet"),gs=b(),Y=o("a"),Es=I("🏆 Rankings"),ys=b(),ee.c(),this.h()},l(r){l=n(r,"DIV",{class:!0});var p=h(l);a=n(p,"H1",{class:!0});var ne=h(a);f=C(ne,v),ne.forEach(u),c=_(p),d=n(p,"DIV",{class:!0});var dt=h(d);j=n(dt,"DIV",{class:!0,style:!0}),h(j).forEach(u),dt.forEach(u),X=_(p),g=n(p,"DIV",{class:!0});var oe=h(g);q=C(oe,y),m=C(oe," of "),te=C(oe,x),at=C(oe," entries judged ("),ze=C(oe,Q),se=C(oe,"%)"),oe.forEach(u),p.forEach(u),Ye=_(r),W=n(r,"DIV",{class:!0});var ht=h(W);for(let js=0;js<k.length;js+=1)k[js].l(ht);ht.forEach(u),ue=_(r),ve=n(r,"DIV",{class:!0});var ft=h(ve);P=n(ft,"DIV",{class:!0});var T=h(P);le=n(T,"DIV",{class:!0});var xe=h(le);de=n(xe,"H2",{class:!0});var Is=h(de);Ke=C(Is,"Entry #"),Qe=C(Is,Me),Is.forEach(u),rt=_(xe),S=n(xe,"DIV",{class:!0});var He=h(S);ae=n(He,"DIV",{class:!0});var Dt=h(ae);he=n(Dt,"SPAN",{class:!0,"data-svelte-h":!0}),D(he)!=="svelte-15a86sm"&&(he.textContent=bt),nt=_(Dt),_e=n(Dt,"SPAN",{class:!0});var xs=h(_e);We=C(xs,Ue),xs.forEach(u),Dt.forEach(u),ot=_(He),re=n(He,"DIV",{class:!0});var Pt=h(re);fe=n(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),D(fe)!=="svelte-15re40r"&&(fe.textContent=mt),i=_(Pt),E=n(Pt,"SPAN",{class:!0});var pt=h(E);Ze=C(pt,F),gt=C(pt,it),Gt=C(pt," - "),Et=C(pt,ct),pt.forEach(u),Pt.forEach(u),Xt=_(He),be=n(He,"DIV",{class:!0});var Vt=h(be);Oe=n(Vt,"SPAN",{class:!0,"data-svelte-h":!0}),D(Oe)!=="svelte-1bsaegp"&&(Oe.textContent=ks),xt=_(Vt),$e=n(Vt,"SPAN",{class:!0});var zs=h($e);yt=C(zs,ut),zs.forEach(u),Vt.forEach(u),zt=_(He),me=n(He,"DIV",{class:!0});var At=h(me);qe=n(At,"SPAN",{class:!0,"data-svelte-h":!0}),D(qe)!=="svelte-8vljau"&&(qe.textContent=Ds),Yt=_(At),et=n(At,"SPAN",{class:!0});var Ys=h(et);Ct=C(Ys,vt),Ys.forEach(u),At.forEach(u),He.forEach(u),xe.forEach(u),Kt=_(T),R=n(T,"DIV",{class:!0,style:!0});var st=h(R);Fe=n(st,"H3",{class:!0});var Ts=h(Fe);It=C(Ts,s[5]),Qt=C(Ts,"/50"),Ts.forEach(u),Wt=_(st),Re=n(st,"P",{class:!0,"data-svelte-h":!0}),D(Re)!=="svelte-h4i2gr"&&(Re.textContent=Ps),Zt=_(st),V&&V.l(st),st.forEach(u),$t=_(T),ge=n(T,"DIV",{class:!0});var St=h(ge);Ge=n(St,"H3",{class:!0,"data-svelte-h":!0}),D(Ge)!=="svelte-3tiq5s"&&(Ge.textContent=Vs),es=_(St),L=n(St,"DIV",{class:!0});var ie=h(L);Ee=n(ie,"DIV",{class:!0});var Lt=h(Ee);ye=n(Lt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(ye)!=="svelte-xqfdtg"&&(ye.innerHTML=As),ts=_(Lt),B=n(Lt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Lt.forEach(u),ss=_(ie),Ce=n(ie,"DIV",{class:!0});var Bt=h(Ce);Ie=n(Bt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Ie)!=="svelte-ljiog4"&&(Ie.innerHTML=Ss),ls=_(Bt),J=n(Bt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Bt.forEach(u),as=_(ie),Te=n(ie,"DIV",{class:!0});var Jt=h(Te);je=n(Jt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(je)!=="svelte-1h3mxuj"&&(je.innerHTML=Ls),rs=_(Jt),H=n(Jt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Jt.forEach(u),ns=_(ie),Ne=n(ie,"DIV",{class:!0});var Ht=h(Ne);ke=n(Ht,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(ke)!=="svelte-1ijxj1i"&&(ke.innerHTML=Bs),os=_(Ht),w=n(Ht,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Ht.forEach(u),is=_(ie),De=n(ie,"DIV",{class:!0});var wt=h(De);Pe=n(wt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Pe)!=="svelte-1fijyxa"&&(Pe.innerHTML=Js),cs=_(wt),M=n(wt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),wt.forEach(u),ie.forEach(u),St.forEach(u),us=_(T),Ve=n(T,"DIV",{class:!0});var Mt=h(Ve);Xe=n(Mt,"H3",{class:!0,"data-svelte-h":!0}),D(Xe)!=="svelte-ed27gq"&&(Xe.textContent=Hs),vs=_(Mt),Ae=n(Mt,"DIV",{class:!0});var Ut=h(Ae);Se=n(Ut,"DIV",{class:!0});var Ot=h(Se);Le=n(Ot,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Le)!=="svelte-1jlf7qm"&&(Le.textContent=ws),ds=_(Ot),Z=n(Ot,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),h(Z).forEach(u),Ot.forEach(u),hs=_(Ut),Be=n(Ut,"DIV",{class:!0});var qt=h(Be);Je=n(qt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),D(Je)!=="svelte-3nxa16"&&(Je.textContent=Ms),fs=_(qt),$=n(qt,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),h($).forEach(u),qt.forEach(u),Ut.forEach(u),Mt.forEach(u),ps=_(T),G=n(T,"DIV",{class:!0});var we=h(G);pe=n(we,"BUTTON",{class:!0});var Ks=h(pe);_s=C(Ks,"⬅️ Previous Entry"),Ks.forEach(u),bs=_(we),z=n(we,"A",{href:!0,class:!0,style:!0});var Qs=h(z);ms=C(Qs,"📋 BJCP Scoresheet"),Qs.forEach(u),gs=_(we),Y=n(we,"A",{href:!0,class:!0,style:!0});var Ws=h(Y);Es=C(Ws,"🏆 Rankings"),Ws.forEach(u),ys=_(we),ee.l(we),we.forEach(u),T.forEach(u),ft.forEach(u),this.h()},h(){t(a,"class","competition-title svelte-5hsbci"),t(j,"class","progress-fill svelte-5hsbci"),A(j,"width",s[4].percentage+"%"),t(d,"class","progress-bar svelte-5hsbci"),t(g,"class","progress-text svelte-5hsbci"),t(l,"class","header svelte-5hsbci"),t(W,"class","entry-nav svelte-5hsbci"),t(de,"class","entry-number svelte-5hsbci"),t(he,"class","detail-label svelte-5hsbci"),t(_e,"class","detail-value svelte-5hsbci"),t(ae,"class","detail-item svelte-5hsbci"),t(fe,"class","detail-label svelte-5hsbci"),t(E,"class","detail-value svelte-5hsbci"),t(re,"class","detail-item svelte-5hsbci"),t(Oe,"class","detail-label svelte-5hsbci"),t($e,"class","detail-value svelte-5hsbci"),t(be,"class","detail-item svelte-5hsbci"),t(qe,"class","detail-label svelte-5hsbci"),t(et,"class","detail-value svelte-5hsbci"),t(me,"class","detail-item svelte-5hsbci"),t(S,"class","entry-details svelte-5hsbci"),t(le,"class","entry-header svelte-5hsbci"),t(Fe,"class","total-score-value svelte-5hsbci"),t(Re,"class","total-score-label svelte-5hsbci"),t(R,"class","total-score svelte-5hsbci"),A(R,"background",s[5]>0?sl(s[5]):"#6b7280"),t(Ge,"class","section-title svelte-5hsbci"),t(ye,"class","score-label svelte-5hsbci"),t(ye,"for","aroma"),t(B,"id","aroma"),t(B,"type","number"),t(B,"class","score-input svelte-5hsbci"),t(B,"min","0"),t(B,"max","12"),t(B,"placeholder","0"),t(Ee,"class","score-item svelte-5hsbci"),t(Ie,"class","score-label svelte-5hsbci"),t(Ie,"for","appearance"),t(J,"id","appearance"),t(J,"type","number"),t(J,"class","score-input svelte-5hsbci"),t(J,"min","0"),t(J,"max","3"),t(J,"placeholder","0"),t(Ce,"class","score-item svelte-5hsbci"),t(je,"class","score-label svelte-5hsbci"),t(je,"for","flavor"),t(H,"id","flavor"),t(H,"type","number"),t(H,"class","score-input svelte-5hsbci"),t(H,"min","0"),t(H,"max","20"),t(H,"placeholder","0"),t(Te,"class","score-item svelte-5hsbci"),t(ke,"class","score-label svelte-5hsbci"),t(ke,"for","mouthfeel"),t(w,"id","mouthfeel"),t(w,"type","number"),t(w,"class","score-input svelte-5hsbci"),t(w,"min","0"),t(w,"max","5"),t(w,"placeholder","0"),t(Ne,"class","score-item svelte-5hsbci"),t(Pe,"class","score-label svelte-5hsbci"),t(Pe,"for","overall"),t(M,"id","overall"),t(M,"type","number"),t(M,"class","score-input svelte-5hsbci"),t(M,"min","0"),t(M,"max","10"),t(M,"placeholder","0"),t(De,"class","score-item svelte-5hsbci"),t(L,"class","score-grid svelte-5hsbci"),t(ge,"class","scoring-section svelte-5hsbci"),t(Xe,"class","section-title svelte-5hsbci"),t(Le,"class","notes-label svelte-5hsbci"),t(Le,"for","public-notes"),t(Z,"id","public-notes"),t(Z,"class","notes-textarea svelte-5hsbci"),t(Z,"placeholder","Provide constructive feedback about aroma, appearance, flavor, mouthfeel, and overall impression..."),t(Se,"class","notes-item svelte-5hsbci"),t(Je,"class","notes-label svelte-5hsbci"),t(Je,"for","private-notes"),t($,"id","private-notes"),t($,"class","notes-textarea svelte-5hsbci"),t($,"placeholder","Internal judging notes, comparisons, or other observations..."),t(Be,"class","notes-item svelte-5hsbci"),t(Ae,"class","notes-grid svelte-5hsbci"),t(Ve,"class","notes-section svelte-5hsbci"),t(pe,"class","nav-btn nav-btn-secondary svelte-5hsbci"),pe.disabled=Tt=s[2]===0||s[3],t(z,"href",jt="/judge/competition/"+s[6]+"/scoresheet"),t(z,"class","nav-btn nav-btn-secondary svelte-5hsbci"),A(z,"text-decoration","none"),A(z,"display","flex"),A(z,"align-items","center"),A(z,"justify-content","center"),t(Y,"href",Nt="/judge/competition/"+s[6]+"/rankings"),t(Y,"class","nav-btn nav-btn-secondary svelte-5hsbci"),A(Y,"text-decoration","none"),A(Y,"display","flex"),A(Y,"align-items","center"),A(Y,"justify-content","center"),t(G,"class","nav-buttons svelte-5hsbci"),t(P,"class","entry-card svelte-5hsbci"),t(ve,"class","main-content svelte-5hsbci")},m(r,p){K(r,l,p),e(l,a),e(a,f),e(l,c),e(l,d),e(d,j),e(l,X),e(l,g),e(g,q),e(g,m),e(g,te),e(g,at),e(g,ze),e(g,se),K(r,Ye,p),K(r,W,p);for(let ne=0;ne<k.length;ne+=1)k[ne]&&k[ne].m(W,null);K(r,ue,p),K(r,ve,p),e(ve,P),e(P,le),e(le,de),e(de,Ke),e(de,Qe),e(le,rt),e(le,S),e(S,ae),e(ae,he),e(ae,nt),e(ae,_e),e(_e,We),e(S,ot),e(S,re),e(re,fe),e(re,i),e(re,E),e(E,Ze),e(E,gt),e(E,Gt),e(E,Et),e(S,Xt),e(S,be),e(be,Oe),e(be,xt),e(be,$e),e($e,yt),e(S,zt),e(S,me),e(me,qe),e(me,Yt),e(me,et),e(et,Ct),e(P,Kt),e(P,R),e(R,Fe),e(Fe,It),e(Fe,Qt),e(R,Wt),e(R,Re),e(R,Zt),V&&V.m(R,null),e(P,$t),e(P,ge),e(ge,Ge),e(ge,es),e(ge,L),e(L,Ee),e(Ee,ye),e(Ee,ts),e(Ee,B),U(B,s[0].aroma_score),e(L,ss),e(L,Ce),e(Ce,Ie),e(Ce,ls),e(Ce,J),U(J,s[0].appearance_score),e(L,as),e(L,Te),e(Te,je),e(Te,rs),e(Te,H),U(H,s[0].flavor_score),e(L,ns),e(L,Ne),e(Ne,ke),e(Ne,os),e(Ne,w),U(w,s[0].mouthfeel_score),e(L,is),e(L,De),e(De,Pe),e(De,cs),e(De,M),U(M,s[0].overall_score),e(P,us),e(P,Ve),e(Ve,Xe),e(Ve,vs),e(Ve,Ae),e(Ae,Se),e(Se,Le),e(Se,ds),e(Se,Z),U(Z,s[0].judge_notes),e(Ae,hs),e(Ae,Be),e(Be,Je),e(Be,fs),e(Be,$),U($,s[0].private_notes),e(P,ps),e(P,G),e(G,pe),e(pe,_s),e(G,bs),e(G,z),e(z,ms),e(G,gs),e(G,Y),e(Y,Es),e(G,ys),ee.m(G,null),Cs||(Us=[N(B,"input",s[18]),N(B,"input",s[19]),N(J,"input",s[20]),N(J,"input",s[21]),N(H,"input",s[22]),N(H,"input",s[23]),N(w,"input",s[24]),N(w,"input",s[25]),N(M,"input",s[26]),N(M,"input",s[27]),N(Z,"input",s[28]),N(Z,"input",s[10]),N($,"input",s[29]),N($,"input",s[10]),N(pe,"click",s[12])],Cs=!0)},p(r,p){var ne,dt,oe,ht,ft;if(p[0]&128&&v!==(v=((ne=r[7].activeCompetition)==null?void 0:ne.name)+"")&&O(f,v),p[0]&16&&A(j,"width",r[4].percentage+"%"),p[0]&16&&y!==(y=r[4].completed+"")&&O(q,y),p[0]&16&&x!==(x=r[4].total+"")&&O(te,x),p[0]&16&&Q!==(Q=r[4].percentage+"")&&O(ze,Q),p[0]&8324){tt=Zs(r[7].assignedEntries);let T;for(T=0;T<tt.length;T+=1){const xe=$s(r,tt,T);k[T]?k[T].p(xe,p):(k[T]=el(xe),k[T].c(),k[T].m(W,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=tt.length}p[0]&2&&Me!==(Me=r[1].entry_number+"")&&O(Qe,Me),p[0]&2&&Ue!==(Ue=(r[1].beer_name||"No name provided")+"")&&O(We,Ue),p[0]&2&&F!==(F=(((dt=r[1].category)==null?void 0:dt.category_number)||"")+"")&&O(Ze,F),p[0]&2&&it!==(it=(((oe=r[1].category)==null?void 0:oe.subcategory_letter)||"")+"")&&O(gt,it),p[0]&2&&ct!==(ct=(((ht=r[1].category)==null?void 0:ht.category_name)||"Unknown")+"")&&O(Et,ct),p[0]&2&&ut!==(ut=(((ft=r[1].category)==null?void 0:ft.subcategory_name)||"N/A")+"")&&O(yt,ut),p[0]&2&&vt!==(vt=(r[1].beer_notes||"None")+"")&&O(Ct,vt),p[0]&32&&O(It,r[5]),r[5]>0?V?V.p(r,p):(V=tl(r),V.c(),V.m(R,null)):V&&(V.d(1),V=null),p[0]&32&&A(R,"background",r[5]>0?sl(r[5]):"#6b7280"),p[0]&1&&ce(B.value)!==r[0].aroma_score&&U(B,r[0].aroma_score),p[0]&1&&ce(J.value)!==r[0].appearance_score&&U(J,r[0].appearance_score),p[0]&1&&ce(H.value)!==r[0].flavor_score&&U(H,r[0].flavor_score),p[0]&1&&ce(w.value)!==r[0].mouthfeel_score&&U(w,r[0].mouthfeel_score),p[0]&1&&ce(M.value)!==r[0].overall_score&&U(M,r[0].overall_score),p[0]&1&&U(Z,r[0].judge_notes),p[0]&1&&U($,r[0].private_notes),p[0]&12&&Tt!==(Tt=r[2]===0||r[3])&&(pe.disabled=Tt),p[0]&64&&jt!==(jt="/judge/competition/"+r[6]+"/scoresheet")&&t(z,"href",jt),p[0]&64&&Nt!==(Nt="/judge/competition/"+r[6]+"/rankings")&&t(Y,"href",Nt),kt===(kt=Os(r))&&ee?ee.p(r,p):(ee.d(1),ee=kt(r),ee&&(ee.c(),ee.m(G,null)))},d(r){r&&(u(l),u(Ye),u(W),u(ue),u(ve)),ol(k,r),V&&V.d(),ee.d(),Cs=!1,il(Us)}}}function bl(s){let l,a,v="No entries to judge",f,c,d="Back to Judge Portal",j,X;return{c(){l=o("div"),a=o("h2"),a.textContent=v,f=b(),c=o("button"),c.textContent=d,this.h()},l(g){l=n(g,"DIV",{style:!0});var y=h(l);a=n(y,"H2",{"data-svelte-h":!0}),D(a)!=="svelte-dovhs3"&&(a.textContent=v),f=_(y),c=n(y,"BUTTON",{class:!0,"data-svelte-h":!0}),D(c)!=="svelte-4py7n9"&&(c.textContent=d),y.forEach(u),this.h()},h(){t(c,"class","nav-btn nav-btn-secondary svelte-5hsbci"),A(l,"text-align","center"),A(l,"padding","3rem")},m(g,y){K(g,l,y),e(l,a),e(l,f),e(l,c),j||(X=N(c,"click",s[16]),j=!0)},p:Rt,d(g){g&&u(l),j=!1,X()}}}function ml(s){let l,a="<h2>Starting judging session...</h2>";return{c(){l=o("div"),l.innerHTML=a,this.h()},l(v){l=n(v,"DIV",{style:!0,"data-svelte-h":!0}),D(l)!=="svelte-dn045j"&&(l.innerHTML=a),this.h()},h(){A(l,"text-align","center"),A(l,"padding","3rem")},m(v,f){K(v,l,f)},p:Rt,d(v){v&&u(l)}}}function el(s){let l,a=s[40].entry_number+"",v,f,c,d,j;function X(){return s[17](s[42])}return{c(){l=o("button"),v=I(a),f=b(),this.h()},l(g){l=n(g,"BUTTON",{class:!0});var y=h(l);v=C(y,a),f=_(y),y.forEach(u),this.h()},h(){t(l,"class",c="entry-nav-item "+(s[42]===s[2]?"active":s[40].hasBeenJudged?"judged":"pending")+" svelte-5hsbci")},m(g,y){K(g,l,y),e(l,v),e(l,f),d||(j=N(l,"click",X),d=!0)},p(g,y){s=g,y[0]&128&&a!==(a=s[40].entry_number+"")&&O(v,a),y[0]&132&&c!==(c="entry-nav-item "+(s[42]===s[2]?"active":s[40].hasBeenJudged?"judged":"pending")+" svelte-5hsbci")&&t(l,"class",c)},d(g){g&&u(l),d=!1,j()}}}function tl(s){let l,a=ll(s[5])+"",v;return{c(){l=o("p"),v=I(a),this.h()},l(f){l=n(f,"P",{class:!0});var c=h(l);v=C(c,a),c.forEach(u),this.h()},h(){t(l,"class","score-description svelte-5hsbci")},m(f,c){K(f,l,c),e(l,v)},p(f,c){c[0]&32&&a!==(a=ll(f[5])+"")&&O(v,a)},d(f){f&&u(l)}}}function gl(s){let l,a,v,f;return{c(){l=o("button"),a=I("🏁 Finish Judging"),this.h()},l(c){l=n(c,"BUTTON",{class:!0});var d=h(l);a=C(d,"🏁 Finish Judging"),d.forEach(u),this.h()},h(){t(l,"class","nav-btn nav-btn-finish svelte-5hsbci"),l.disabled=s[3]},m(c,d){K(c,l,d),e(l,a),v||(f=N(l,"click",s[14]),v=!0)},p(c,d){d[0]&8&&(l.disabled=c[3])},d(c){c&&u(l),v=!1,f()}}}function El(s){let l,a,v,f;return{c(){l=o("button"),a=I("Next Entry ➡️"),this.h()},l(c){l=n(c,"BUTTON",{class:!0});var d=h(l);a=C(d,"Next Entry ➡️"),d.forEach(u),this.h()},h(){t(l,"class","nav-btn nav-btn-primary svelte-5hsbci"),l.disabled=s[3]},m(c,d){K(c,l,d),e(l,a),v||(f=N(l,"click",s[11]),v=!0)},p(c,d){d[0]&8&&(l.disabled=c[3])},d(c){c&&u(l),v=!1,f()}}}function yl(s){let l;function a(c,d){return c[8]?c[1]?_l:bl:ml}let v=a(s),f=v(s);return{c(){l=o("div"),f.c(),this.h()},l(c){l=n(c,"DIV",{class:!0});var d=h(l);f.l(d),d.forEach(u),this.h()},h(){t(l,"class","judging-container svelte-5hsbci")},m(c,d){K(c,l,d),f.m(l,null)},p(c,d){v===(v=a(c))&&f?f.p(c,d):(f.d(1),f=v(c),f&&(f.c(),f.m(l,null)))},i:Rt,o:Rt,d(c){c&&u(l),f.d()}}}function sl(s){return s>=45?"#059669":s>=38?"#0891b2":s>=30?"#eab308":s>=21?"#f59e0b":"#dc2626"}function ll(s){return s>=45?"Excellent":s>=38?"Very Good":s>=30?"Good":s>=21?"Fair":s>0?"Poor":""}function Ns(s,l="info"){const a=document.createElement("div");a.textContent=s,a.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 6px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      background: ${l==="success"?"#059669":l==="error"?"#dc2626":"#6b7280"};
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `,document.body.appendChild(a),setTimeout(()=>document.body.removeChild(a),3e3)}function Cl(s,l,a){let v,f,c,d,j,X,g,y;_t(s,hl,i=>a(1,d=i)),_t(s,fl,i=>a(7,j=i)),_t(s,dl,i=>a(31,X=i)),_t(s,pl,i=>a(8,g=i)),_t(s,vl,i=>a(15,y=i));let q=0,m={aroma_score:"",appearance_score:"",flavor_score:"",mouthfeel_score:"",overall_score:"",judge_notes:"",private_notes:""},x=!1,te=null;const at={aroma_score:12,appearance_score:3,flavor_score:20,mouthfeel_score:5,overall_score:10};rl(async()=>{var i;if(!X){Ft("/auth");return}try{(!g||((i=j.activeCompetition)==null?void 0:i.id)!==v)&&await lt.startJudgingSession(v,X.id),Q()}catch(E){console.error("Error starting judging session:",E),alert(`Failed to start judging: ${E.message}`),Ft("/judge")}}),nl(()=>{te&&clearTimeout(te)});function Q(){if(!d)return;const i=d.judging;i?a(0,m={aroma_score:i.aroma_score||"",appearance_score:i.appearance_score||"",flavor_score:i.flavor_score||"",mouthfeel_score:i.mouthfeel_score||"",overall_score:i.overall_score||"",judge_notes:i.judge_notes||"",private_notes:i.private_notes||""}):a(0,m={aroma_score:"",appearance_score:"",flavor_score:"",mouthfeel_score:"",overall_score:"",judge_notes:"",private_notes:""})}function ze(i,E){const F=parseInt(E),Ze=at[i];return!(isNaN(F)||F<0||F>Ze)}function se(i,E){const F=E.target.value;F===""||ze(i,F)?(a(0,m[i]=F,m),W()):E.target.value=m[i]}function Ye(){W()}function W(){te&&clearTimeout(te),te=setTimeout(()=>{ue()},2e3)}async function ue(){if(!(!d||x))try{const i={...m};Object.keys(i).forEach(E=>{i[E]===""?i[E]=null:E.includes("_score")&&(i[E]=parseInt(i[E])||null)}),await lt.saveJudgingResults(d.id,i),Ns("Progress saved","success")}catch(i){console.error("Error auto-saving:",i),Ns("Failed to save progress","error")}}async function ve(){if(d){a(3,x=!0);try{await ue(),le()}finally{a(3,x=!1)}}}async function P(){if(d){a(3,x=!0);try{await ue(),de()}finally{a(3,x=!1)}}}function le(){const i=j.assignedEntries,E=q+1;E<i.length&&(a(2,q=E),lt.setCurrentEntry(E),Q())}function de(){q>0&&(a(2,q=q-1),lt.setCurrentEntry(q),Q())}function Ke(i){a(2,q=i),lt.setCurrentEntry(i),Q()}async function Me(){confirm("Are you sure you want to finish judging? You can still make changes later if needed.")&&(await ue(),Ns("Judging session saved successfully!","success"),setTimeout(()=>{Ft("/judge")},1500))}const Qe=()=>Ft("/judge"),rt=i=>Ke(i);function S(){m.aroma_score=ce(this.value),a(0,m)}const ae=i=>se("aroma_score",i);function he(){m.appearance_score=ce(this.value),a(0,m)}const bt=i=>se("appearance_score",i);function nt(){m.flavor_score=ce(this.value),a(0,m)}const _e=i=>se("flavor_score",i);function Ue(){m.mouthfeel_score=ce(this.value),a(0,m)}const We=i=>se("mouthfeel_score",i);function ot(){m.overall_score=ce(this.value),a(0,m)}const re=i=>se("overall_score",i);function fe(){m.judge_notes=this.value,a(0,m)}function mt(){m.private_notes=this.value,a(0,m)}return s.$$.update=()=>{s.$$.dirty[0]&32768&&a(6,v=y.params.id),s.$$.dirty[0]&1&&a(5,f=(parseInt(m.aroma_score)||0)+(parseInt(m.appearance_score)||0)+(parseInt(m.flavor_score)||0)+(parseInt(m.mouthfeel_score)||0)+(parseInt(m.overall_score)||0)),s.$$.dirty[0]&2&&d&&Q()},a(4,c=lt.getJudgingProgress()),[m,d,q,x,c,f,v,j,g,se,Ye,ve,P,Ke,Me,y,Qe,rt,S,ae,he,bt,nt,_e,Ue,We,ot,re,fe,mt]}class Vl extends cl{constructor(l){super(),ul(this,l,Cl,yl,al,{},null,[-1,-1])}}export{Vl as component};
