import{s as ns,n as Rt,d as c,i as z,q as t,c as r,e as p,h as o,k as ht,w as as,x as rs,I as re,G as He,v as k,b as e,p as T,g as h,j as m,y as os,r as is,a as U,B as M,f as E,t as y}from"../chunks/orW8a4RU.js";import{e as xl}from"../chunks/BYoXW1o8.js";import{S as us,i as cs}from"../chunks/wt4xWrh0.js";import{g as Ft}from"../chunks/3PQ1VwVZ.js";import{p as vs}from"../chunks/MSnXaxat.js";import{u as ds}from"../chunks/cGHQYVPU.js";import{c as st,b as ps,a as fs,i as _s}from"../chunks/ZR_WDyMO.js";function $l(l,s,n){const v=l.slice();return v[40]=s[n],v[42]=n,v}function hs(l){var ql,Fl,Rl,Gl,Xl;let s,n,v=((ql=l[7].activeCompetition)==null?void 0:ql.name)+"",f,u,d,I,G,b,w=l[4].completed+"",O,g,X=l[4].total+"",x,nt,Y=l[4].percentage+"",Ye,$,Ke,K,oe,ie,D,ee,ue,Qe,Me=l[1].entry_number+"",We,at,V,te,ce,mt="Beer Name",rt,pe,Ue=(l[1].beer_name||"No name provided")+"",Ze,ot,le,ve,gt="Category",i,j,q=(((Fl=l[1].category)==null?void 0:Fl.category_number)||"")+"",xe,it=(((Rl=l[1].category)==null?void 0:Rl.subcategory_letter)||"")+"",bt,Gt,ut=(((Gl=l[1].category)==null?void 0:Gl.category_name)||"Unknown")+"",jt,Xt,fe,Oe,Nl="Subcategory",zt,$e,ct=(((Xl=l[1].category)==null?void 0:Xl.subcategory_name)||"N/A")+"",wt,Yt,_e,qe,kl="Entry Notes",Kt,et,vt=(l[1].beer_notes||"None")+"",Et,Qt,F,Fe,yt,Wt,Zt,Re,Dl="Total Score",xt,$t,he,Ge,Pl="BJCP Scoring (50 points total)",el,A,me,ge,Vl='Aroma <span class="score-max svelte-1l9pwnj">(0-12)</span>',tl,S,ll,be,je,Al='Appearance <span class="score-max svelte-1l9pwnj">(0-3)</span>',sl,L,nl,we,Ee,Sl='Flavor <span class="score-max svelte-1l9pwnj">(0-20)</span>',al,B,rl,ye,Ce,Ll='Mouthfeel <span class="score-max svelte-1l9pwnj">(0-5)</span>',ol,J,il,Ie,Te,Bl='Overall <span class="score-max svelte-1l9pwnj">(0-10)</span>',ul,H,cl,Ne,Xe,Jl="Judging Notes",vl,ke,De,Pe,Hl="Judge Notes (visible to entrant)",dl,Q,pl,Ve,Ae,Ml="Private Notes (only visible to judges and officers)",fl,W,_l,R,de,hl,Ct,ml,Se,gl,It,bl,Le,jl,Tt,wl,El,Ul,tt=xl(l[7].assignedEntries),N=[];for(let a=0;a<tt.length;a+=1)N[a]=es($l(l,tt,a));let P=l[5]>0&&ts(l);function Ol(a,_){return a[2]<a[7].assignedEntries.length-1?js:bs}let Nt=Ol(l),Z=Nt(l);return{c(){s=o("div"),n=o("h1"),f=y(v),u=m(),d=o("div"),I=o("div"),G=m(),b=o("div"),O=y(w),g=y(" of "),x=y(X),nt=y(" entries judged ("),Ye=y(Y),$=y("%)"),Ke=m(),K=o("div");for(let a=0;a<N.length;a+=1)N[a].c();oe=m(),ie=o("div"),D=o("div"),ee=o("div"),ue=o("h2"),Qe=y("Entry #"),We=y(Me),at=m(),V=o("div"),te=o("div"),ce=o("span"),ce.textContent=mt,rt=m(),pe=o("span"),Ze=y(Ue),ot=m(),le=o("div"),ve=o("span"),ve.textContent=gt,i=m(),j=o("span"),xe=y(q),bt=y(it),Gt=y(" - "),jt=y(ut),Xt=m(),fe=o("div"),Oe=o("span"),Oe.textContent=Nl,zt=m(),$e=o("span"),wt=y(ct),Yt=m(),_e=o("div"),qe=o("span"),qe.textContent=kl,Kt=m(),et=o("span"),Et=y(vt),Qt=m(),F=o("div"),Fe=o("h3"),yt=y(l[5]),Wt=y("/50"),Zt=m(),Re=o("p"),Re.textContent=Dl,xt=m(),P&&P.c(),$t=m(),he=o("div"),Ge=o("h3"),Ge.textContent=Pl,el=m(),A=o("div"),me=o("div"),ge=o("label"),ge.innerHTML=Vl,tl=m(),S=o("input"),ll=m(),be=o("div"),je=o("label"),je.innerHTML=Al,sl=m(),L=o("input"),nl=m(),we=o("div"),Ee=o("label"),Ee.innerHTML=Sl,al=m(),B=o("input"),rl=m(),ye=o("div"),Ce=o("label"),Ce.innerHTML=Ll,ol=m(),J=o("input"),il=m(),Ie=o("div"),Te=o("label"),Te.innerHTML=Bl,ul=m(),H=o("input"),cl=m(),Ne=o("div"),Xe=o("h3"),Xe.textContent=Jl,vl=m(),ke=o("div"),De=o("div"),Pe=o("label"),Pe.textContent=Hl,dl=m(),Q=o("textarea"),pl=m(),Ve=o("div"),Ae=o("label"),Ae.textContent=Ml,fl=m(),W=o("textarea"),_l=m(),R=o("div"),de=o("button"),hl=y("â¬…ï¸ Previous Entry"),ml=m(),Se=o("a"),gl=y("ðŸ“‹ BJCP Scoresheet"),bl=m(),Le=o("a"),jl=y("ðŸ† Rankings"),wl=m(),Z.c(),this.h()},l(a){s=r(a,"DIV",{class:!0});var _=p(s);n=r(_,"H1",{class:!0});var se=p(n);f=E(se,v),se.forEach(c),u=h(_),d=r(_,"DIV",{class:!0});var dt=p(d);I=r(dt,"DIV",{class:!0,style:!0}),p(I).forEach(c),dt.forEach(c),G=h(_),b=r(_,"DIV",{class:!0});var ne=p(b);O=E(ne,w),g=E(ne," of "),x=E(ne,X),nt=E(ne," entries judged ("),Ye=E(ne,Y),$=E(ne,"%)"),ne.forEach(c),_.forEach(c),Ke=h(a),K=r(a,"DIV",{class:!0});var pt=p(K);for(let Il=0;Il<N.length;Il+=1)N[Il].l(pt);pt.forEach(c),oe=h(a),ie=r(a,"DIV",{class:!0});var ft=p(ie);D=r(ft,"DIV",{class:!0});var C=p(D);ee=r(C,"DIV",{class:!0});var ze=p(ee);ue=r(ze,"H2",{class:!0});var yl=p(ue);Qe=E(yl,"Entry #"),We=E(yl,Me),yl.forEach(c),at=h(ze),V=r(ze,"DIV",{class:!0});var Be=p(V);te=r(Be,"DIV",{class:!0});var kt=p(te);ce=r(kt,"SPAN",{class:!0,"data-svelte-h":!0}),k(ce)!=="svelte-15a86sm"&&(ce.textContent=mt),rt=h(kt),pe=r(kt,"SPAN",{class:!0});var zl=p(pe);Ze=E(zl,Ue),zl.forEach(c),kt.forEach(c),ot=h(Be),le=r(Be,"DIV",{class:!0});var Dt=p(le);ve=r(Dt,"SPAN",{class:!0,"data-svelte-h":!0}),k(ve)!=="svelte-15re40r"&&(ve.textContent=gt),i=h(Dt),j=r(Dt,"SPAN",{class:!0});var _t=p(j);xe=E(_t,q),bt=E(_t,it),Gt=E(_t," - "),jt=E(_t,ut),_t.forEach(c),Dt.forEach(c),Xt=h(Be),fe=r(Be,"DIV",{class:!0});var Pt=p(fe);Oe=r(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),k(Oe)!=="svelte-1bsaegp"&&(Oe.textContent=Nl),zt=h(Pt),$e=r(Pt,"SPAN",{class:!0});var Yl=p($e);wt=E(Yl,ct),Yl.forEach(c),Pt.forEach(c),Yt=h(Be),_e=r(Be,"DIV",{class:!0});var Vt=p(_e);qe=r(Vt,"SPAN",{class:!0,"data-svelte-h":!0}),k(qe)!=="svelte-8vljau"&&(qe.textContent=kl),Kt=h(Vt),et=r(Vt,"SPAN",{class:!0});var Kl=p(et);Et=E(Kl,vt),Kl.forEach(c),Vt.forEach(c),Be.forEach(c),ze.forEach(c),Qt=h(C),F=r(C,"DIV",{class:!0,style:!0});var lt=p(F);Fe=r(lt,"H3",{class:!0});var Cl=p(Fe);yt=E(Cl,l[5]),Wt=E(Cl,"/50"),Cl.forEach(c),Zt=h(lt),Re=r(lt,"P",{class:!0,"data-svelte-h":!0}),k(Re)!=="svelte-h4i2gr"&&(Re.textContent=Dl),xt=h(lt),P&&P.l(lt),lt.forEach(c),$t=h(C),he=r(C,"DIV",{class:!0});var At=p(he);Ge=r(At,"H3",{class:!0,"data-svelte-h":!0}),k(Ge)!=="svelte-3tiq5s"&&(Ge.textContent=Pl),el=h(At),A=r(At,"DIV",{class:!0});var ae=p(A);me=r(ae,"DIV",{class:!0});var St=p(me);ge=r(St,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),k(ge)!=="svelte-xqfdtg"&&(ge.innerHTML=Vl),tl=h(St),S=r(St,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),St.forEach(c),ll=h(ae),be=r(ae,"DIV",{class:!0});var Lt=p(be);je=r(Lt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),k(je)!=="svelte-ljiog4"&&(je.innerHTML=Al),sl=h(Lt),L=r(Lt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Lt.forEach(c),nl=h(ae),we=r(ae,"DIV",{class:!0});var Bt=p(we);Ee=r(Bt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),k(Ee)!=="svelte-1h3mxuj"&&(Ee.innerHTML=Sl),al=h(Bt),B=r(Bt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Bt.forEach(c),rl=h(ae),ye=r(ae,"DIV",{class:!0});var Jt=p(ye);Ce=r(Jt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),k(Ce)!=="svelte-1ijxj1i"&&(Ce.innerHTML=Ll),ol=h(Jt),J=r(Jt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Jt.forEach(c),il=h(ae),Ie=r(ae,"DIV",{class:!0});var Ht=p(Ie);Te=r(Ht,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),k(Te)!=="svelte-1fijyxa"&&(Te.innerHTML=Bl),ul=h(Ht),H=r(Ht,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Ht.forEach(c),ae.forEach(c),At.forEach(c),cl=h(C),Ne=r(C,"DIV",{class:!0});var Mt=p(Ne);Xe=r(Mt,"H3",{class:!0,"data-svelte-h":!0}),k(Xe)!=="svelte-ed27gq"&&(Xe.textContent=Jl),vl=h(Mt),ke=r(Mt,"DIV",{class:!0});var Ut=p(ke);De=r(Ut,"DIV",{class:!0});var Ot=p(De);Pe=r(Ot,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),k(Pe)!=="svelte-1jlf7qm"&&(Pe.textContent=Hl),dl=h(Ot),Q=r(Ot,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),p(Q).forEach(c),Ot.forEach(c),pl=h(Ut),Ve=r(Ut,"DIV",{class:!0});var qt=p(Ve);Ae=r(qt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),k(Ae)!=="svelte-3nxa16"&&(Ae.textContent=Ml),fl=h(qt),W=r(qt,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),p(W).forEach(c),qt.forEach(c),Ut.forEach(c),Mt.forEach(c),_l=h(C),R=r(C,"DIV",{class:!0});var Je=p(R);de=r(Je,"BUTTON",{class:!0});var Ql=p(de);hl=E(Ql,"â¬…ï¸ Previous Entry"),Ql.forEach(c),ml=h(Je),Se=r(Je,"A",{href:!0,class:!0});var Wl=p(Se);gl=E(Wl,"ðŸ“‹ BJCP Scoresheet"),Wl.forEach(c),bl=h(Je),Le=r(Je,"A",{href:!0,class:!0});var Zl=p(Le);jl=E(Zl,"ðŸ† Rankings"),Zl.forEach(c),wl=h(Je),Z.l(Je),Je.forEach(c),C.forEach(c),ft.forEach(c),this.h()},h(){t(n,"class","competition-title svelte-1l9pwnj"),t(I,"class","progress-fill svelte-1l9pwnj"),He(I,"width",l[4].percentage+"%"),t(d,"class","progress-bar svelte-1l9pwnj"),t(b,"class","progress-text svelte-1l9pwnj"),t(s,"class","header svelte-1l9pwnj"),t(K,"class","entry-nav svelte-1l9pwnj"),t(ue,"class","entry-number svelte-1l9pwnj"),t(ce,"class","detail-label svelte-1l9pwnj"),t(pe,"class","detail-value svelte-1l9pwnj"),t(te,"class","detail-item svelte-1l9pwnj"),t(ve,"class","detail-label svelte-1l9pwnj"),t(j,"class","detail-value svelte-1l9pwnj"),t(le,"class","detail-item svelte-1l9pwnj"),t(Oe,"class","detail-label svelte-1l9pwnj"),t($e,"class","detail-value svelte-1l9pwnj"),t(fe,"class","detail-item svelte-1l9pwnj"),t(qe,"class","detail-label svelte-1l9pwnj"),t(et,"class","detail-value svelte-1l9pwnj"),t(_e,"class","detail-item svelte-1l9pwnj"),t(V,"class","entry-details svelte-1l9pwnj"),t(ee,"class","entry-header svelte-1l9pwnj"),t(Fe,"class","total-score-value svelte-1l9pwnj"),t(Re,"class","total-score-label svelte-1l9pwnj"),t(F,"class","total-score svelte-1l9pwnj"),He(F,"background",l[5]>0?ls(l[5]):"#6b7280"),t(Ge,"class","section-title svelte-1l9pwnj"),t(ge,"class","score-label svelte-1l9pwnj"),t(ge,"for","aroma"),t(S,"id","aroma"),t(S,"type","number"),t(S,"class","score-input svelte-1l9pwnj"),t(S,"min","0"),t(S,"max","12"),t(S,"placeholder","0"),t(me,"class","score-item svelte-1l9pwnj"),t(je,"class","score-label svelte-1l9pwnj"),t(je,"for","appearance"),t(L,"id","appearance"),t(L,"type","number"),t(L,"class","score-input svelte-1l9pwnj"),t(L,"min","0"),t(L,"max","3"),t(L,"placeholder","0"),t(be,"class","score-item svelte-1l9pwnj"),t(Ee,"class","score-label svelte-1l9pwnj"),t(Ee,"for","flavor"),t(B,"id","flavor"),t(B,"type","number"),t(B,"class","score-input svelte-1l9pwnj"),t(B,"min","0"),t(B,"max","20"),t(B,"placeholder","0"),t(we,"class","score-item svelte-1l9pwnj"),t(Ce,"class","score-label svelte-1l9pwnj"),t(Ce,"for","mouthfeel"),t(J,"id","mouthfeel"),t(J,"type","number"),t(J,"class","score-input svelte-1l9pwnj"),t(J,"min","0"),t(J,"max","5"),t(J,"placeholder","0"),t(ye,"class","score-item svelte-1l9pwnj"),t(Te,"class","score-label svelte-1l9pwnj"),t(Te,"for","overall"),t(H,"id","overall"),t(H,"type","number"),t(H,"class","score-input svelte-1l9pwnj"),t(H,"min","0"),t(H,"max","10"),t(H,"placeholder","0"),t(Ie,"class","score-item svelte-1l9pwnj"),t(A,"class","score-grid svelte-1l9pwnj"),t(he,"class","scoring-section svelte-1l9pwnj"),t(Xe,"class","section-title svelte-1l9pwnj"),t(Pe,"class","notes-label svelte-1l9pwnj"),t(Pe,"for","public-notes"),t(Q,"id","public-notes"),t(Q,"class","notes-textarea svelte-1l9pwnj"),t(Q,"placeholder","Provide constructive feedback about aroma, appearance, flavor, mouthfeel, and overall impression..."),t(De,"class","notes-item svelte-1l9pwnj"),t(Ae,"class","notes-label svelte-1l9pwnj"),t(Ae,"for","private-notes"),t(W,"id","private-notes"),t(W,"class","notes-textarea svelte-1l9pwnj"),t(W,"placeholder","Internal judging notes, comparisons, or other observations..."),t(Ve,"class","notes-item svelte-1l9pwnj"),t(ke,"class","notes-grid svelte-1l9pwnj"),t(Ne,"class","notes-section svelte-1l9pwnj"),t(de,"class","nav-btn nav-btn-secondary svelte-1l9pwnj"),de.disabled=Ct=l[2]===0||l[3],t(Se,"href",It="/judge/competition/"+l[6]+"/scoresheet"),t(Se,"class","nav-btn nav-btn-secondary nav-btn-link svelte-1l9pwnj"),t(Le,"href",Tt="/judge/competition/"+l[6]+"/rankings"),t(Le,"class","nav-btn nav-btn-secondary nav-btn-link svelte-1l9pwnj"),t(R,"class","nav-buttons svelte-1l9pwnj"),t(D,"class","entry-card svelte-1l9pwnj"),t(ie,"class","main-content svelte-1l9pwnj")},m(a,_){z(a,s,_),e(s,n),e(n,f),e(s,u),e(s,d),e(d,I),e(s,G),e(s,b),e(b,O),e(b,g),e(b,x),e(b,nt),e(b,Ye),e(b,$),z(a,Ke,_),z(a,K,_);for(let se=0;se<N.length;se+=1)N[se]&&N[se].m(K,null);z(a,oe,_),z(a,ie,_),e(ie,D),e(D,ee),e(ee,ue),e(ue,Qe),e(ue,We),e(ee,at),e(ee,V),e(V,te),e(te,ce),e(te,rt),e(te,pe),e(pe,Ze),e(V,ot),e(V,le),e(le,ve),e(le,i),e(le,j),e(j,xe),e(j,bt),e(j,Gt),e(j,jt),e(V,Xt),e(V,fe),e(fe,Oe),e(fe,zt),e(fe,$e),e($e,wt),e(V,Yt),e(V,_e),e(_e,qe),e(_e,Kt),e(_e,et),e(et,Et),e(D,Qt),e(D,F),e(F,Fe),e(Fe,yt),e(Fe,Wt),e(F,Zt),e(F,Re),e(F,xt),P&&P.m(F,null),e(D,$t),e(D,he),e(he,Ge),e(he,el),e(he,A),e(A,me),e(me,ge),e(me,tl),e(me,S),M(S,l[0].aroma_score),e(A,ll),e(A,be),e(be,je),e(be,sl),e(be,L),M(L,l[0].appearance_score),e(A,nl),e(A,we),e(we,Ee),e(we,al),e(we,B),M(B,l[0].flavor_score),e(A,rl),e(A,ye),e(ye,Ce),e(ye,ol),e(ye,J),M(J,l[0].mouthfeel_score),e(A,il),e(A,Ie),e(Ie,Te),e(Ie,ul),e(Ie,H),M(H,l[0].overall_score),e(D,cl),e(D,Ne),e(Ne,Xe),e(Ne,vl),e(Ne,ke),e(ke,De),e(De,Pe),e(De,dl),e(De,Q),M(Q,l[0].judge_notes),e(ke,pl),e(ke,Ve),e(Ve,Ae),e(Ve,fl),e(Ve,W),M(W,l[0].private_notes),e(D,_l),e(D,R),e(R,de),e(de,hl),e(R,ml),e(R,Se),e(Se,gl),e(R,bl),e(R,Le),e(Le,jl),e(R,wl),Z.m(R,null),El||(Ul=[T(S,"input",l[18]),T(S,"input",l[19]),T(L,"input",l[20]),T(L,"input",l[21]),T(B,"input",l[22]),T(B,"input",l[23]),T(J,"input",l[24]),T(J,"input",l[25]),T(H,"input",l[26]),T(H,"input",l[27]),T(Q,"input",l[28]),T(Q,"input",l[10]),T(W,"input",l[29]),T(W,"input",l[10]),T(de,"click",l[12])],El=!0)},p(a,_){var se,dt,ne,pt,ft;if(_[0]&128&&v!==(v=((se=a[7].activeCompetition)==null?void 0:se.name)+"")&&U(f,v),_[0]&16&&He(I,"width",a[4].percentage+"%"),_[0]&16&&w!==(w=a[4].completed+"")&&U(O,w),_[0]&16&&X!==(X=a[4].total+"")&&U(x,X),_[0]&16&&Y!==(Y=a[4].percentage+"")&&U(Ye,Y),_[0]&8324){tt=xl(a[7].assignedEntries);let C;for(C=0;C<tt.length;C+=1){const ze=$l(a,tt,C);N[C]?N[C].p(ze,_):(N[C]=es(ze),N[C].c(),N[C].m(K,null))}for(;C<N.length;C+=1)N[C].d(1);N.length=tt.length}_[0]&2&&Me!==(Me=a[1].entry_number+"")&&U(We,Me),_[0]&2&&Ue!==(Ue=(a[1].beer_name||"No name provided")+"")&&U(Ze,Ue),_[0]&2&&q!==(q=(((dt=a[1].category)==null?void 0:dt.category_number)||"")+"")&&U(xe,q),_[0]&2&&it!==(it=(((ne=a[1].category)==null?void 0:ne.subcategory_letter)||"")+"")&&U(bt,it),_[0]&2&&ut!==(ut=(((pt=a[1].category)==null?void 0:pt.category_name)||"Unknown")+"")&&U(jt,ut),_[0]&2&&ct!==(ct=(((ft=a[1].category)==null?void 0:ft.subcategory_name)||"N/A")+"")&&U(wt,ct),_[0]&2&&vt!==(vt=(a[1].beer_notes||"None")+"")&&U(Et,vt),_[0]&32&&U(yt,a[5]),a[5]>0?P?P.p(a,_):(P=ts(a),P.c(),P.m(F,null)):P&&(P.d(1),P=null),_[0]&32&&He(F,"background",a[5]>0?ls(a[5]):"#6b7280"),_[0]&1&&re(S.value)!==a[0].aroma_score&&M(S,a[0].aroma_score),_[0]&1&&re(L.value)!==a[0].appearance_score&&M(L,a[0].appearance_score),_[0]&1&&re(B.value)!==a[0].flavor_score&&M(B,a[0].flavor_score),_[0]&1&&re(J.value)!==a[0].mouthfeel_score&&M(J,a[0].mouthfeel_score),_[0]&1&&re(H.value)!==a[0].overall_score&&M(H,a[0].overall_score),_[0]&1&&M(Q,a[0].judge_notes),_[0]&1&&M(W,a[0].private_notes),_[0]&12&&Ct!==(Ct=a[2]===0||a[3])&&(de.disabled=Ct),_[0]&64&&It!==(It="/judge/competition/"+a[6]+"/scoresheet")&&t(Se,"href",It),_[0]&64&&Tt!==(Tt="/judge/competition/"+a[6]+"/rankings")&&t(Le,"href",Tt),Nt===(Nt=Ol(a))&&Z?Z.p(a,_):(Z.d(1),Z=Nt(a),Z&&(Z.c(),Z.m(R,null)))},d(a){a&&(c(s),c(Ke),c(K),c(oe),c(ie)),os(N,a),P&&P.d(),Z.d(),El=!1,is(Ul)}}}function ms(l){let s,n,v="No entries to judge",f,u,d="Back to Judge Portal",I,G;return{c(){s=o("div"),n=o("h2"),n.textContent=v,f=m(),u=o("button"),u.textContent=d,this.h()},l(b){s=r(b,"DIV",{style:!0});var w=p(s);n=r(w,"H2",{"data-svelte-h":!0}),k(n)!=="svelte-dovhs3"&&(n.textContent=v),f=h(w),u=r(w,"BUTTON",{class:!0,"data-svelte-h":!0}),k(u)!=="svelte-4py7n9"&&(u.textContent=d),w.forEach(c),this.h()},h(){t(u,"class","nav-btn nav-btn-secondary svelte-1l9pwnj"),He(s,"text-align","center"),He(s,"padding","3rem")},m(b,w){z(b,s,w),e(s,n),e(s,f),e(s,u),I||(G=T(u,"click",l[16]),I=!0)},p:Rt,d(b){b&&c(s),I=!1,G()}}}function gs(l){let s,n="<h2>Starting judging session...</h2>";return{c(){s=o("div"),s.innerHTML=n,this.h()},l(v){s=r(v,"DIV",{style:!0,"data-svelte-h":!0}),k(s)!=="svelte-dn045j"&&(s.innerHTML=n),this.h()},h(){He(s,"text-align","center"),He(s,"padding","3rem")},m(v,f){z(v,s,f)},p:Rt,d(v){v&&c(s)}}}function es(l){let s,n=l[40].entry_number+"",v,f,u,d,I;function G(){return l[17](l[42])}return{c(){s=o("button"),v=y(n),f=m(),this.h()},l(b){s=r(b,"BUTTON",{class:!0});var w=p(s);v=E(w,n),f=h(w),w.forEach(c),this.h()},h(){t(s,"class",u="entry-nav-item "+(l[42]===l[2]?"active":l[40].hasBeenJudged?"judged":"pending")+" svelte-1l9pwnj")},m(b,w){z(b,s,w),e(s,v),e(s,f),d||(I=T(s,"click",G),d=!0)},p(b,w){l=b,w[0]&128&&n!==(n=l[40].entry_number+"")&&U(v,n),w[0]&132&&u!==(u="entry-nav-item "+(l[42]===l[2]?"active":l[40].hasBeenJudged?"judged":"pending")+" svelte-1l9pwnj")&&t(s,"class",u)},d(b){b&&c(s),d=!1,I()}}}function ts(l){let s,n=ss(l[5])+"",v;return{c(){s=o("p"),v=y(n),this.h()},l(f){s=r(f,"P",{class:!0});var u=p(s);v=E(u,n),u.forEach(c),this.h()},h(){t(s,"class","score-description svelte-1l9pwnj")},m(f,u){z(f,s,u),e(s,v)},p(f,u){u[0]&32&&n!==(n=ss(f[5])+"")&&U(v,n)},d(f){f&&c(s)}}}function bs(l){let s,n,v,f;return{c(){s=o("button"),n=y("ðŸ Finish Judging"),this.h()},l(u){s=r(u,"BUTTON",{class:!0});var d=p(s);n=E(d,"ðŸ Finish Judging"),d.forEach(c),this.h()},h(){t(s,"class","nav-btn nav-btn-finish svelte-1l9pwnj"),s.disabled=l[3]},m(u,d){z(u,s,d),e(s,n),v||(f=T(s,"click",l[14]),v=!0)},p(u,d){d[0]&8&&(s.disabled=u[3])},d(u){u&&c(s),v=!1,f()}}}function js(l){let s,n,v,f;return{c(){s=o("button"),n=y("Next Entry âž¡ï¸"),this.h()},l(u){s=r(u,"BUTTON",{class:!0});var d=p(s);n=E(d,"Next Entry âž¡ï¸"),d.forEach(c),this.h()},h(){t(s,"class","nav-btn nav-btn-primary svelte-1l9pwnj"),s.disabled=l[3]},m(u,d){z(u,s,d),e(s,n),v||(f=T(s,"click",l[11]),v=!0)},p(u,d){d[0]&8&&(s.disabled=u[3])},d(u){u&&c(s),v=!1,f()}}}function ws(l){let s;function n(u,d){return u[8]?u[1]?hs:ms:gs}let v=n(l),f=v(l);return{c(){s=o("div"),f.c(),this.h()},l(u){s=r(u,"DIV",{class:!0});var d=p(s);f.l(d),d.forEach(c),this.h()},h(){t(s,"class","judging-container svelte-1l9pwnj")},m(u,d){z(u,s,d),f.m(s,null)},p(u,d){v===(v=n(u))&&f?f.p(u,d):(f.d(1),f=v(u),f&&(f.c(),f.m(s,null)))},i:Rt,o:Rt,d(u){u&&c(s),f.d()}}}function ls(l){return l>=45?"#059669":l>=38?"#0891b2":l>=30?"#eab308":l>=21?"#f59e0b":"#dc2626"}function ss(l){return l>=45?"Excellent":l>=38?"Very Good":l>=30?"Good":l>=21?"Fair":l>0?"Poor":""}function Tl(l,s="info"){const n=document.createElement("div");n.textContent=l,n.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 6px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      background: ${s==="success"?"#059669":s==="error"?"#dc2626":"#6b7280"};
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `,document.body.appendChild(n),setTimeout(()=>document.body.removeChild(n),3e3)}function Es(l,s,n){let v,f,u,d,I,G,b,w;ht(l,ps,i=>n(1,d=i)),ht(l,fs,i=>n(7,I=i)),ht(l,ds,i=>n(31,G=i)),ht(l,_s,i=>n(8,b=i)),ht(l,vs,i=>n(15,w=i));let O=0,g={aroma_score:"",appearance_score:"",flavor_score:"",mouthfeel_score:"",overall_score:"",judge_notes:"",private_notes:""},X=!1,x=null;const nt={aroma_score:12,appearance_score:3,flavor_score:20,mouthfeel_score:5,overall_score:10};as(async()=>{var i;if(!G){Ft("/auth");return}try{(!b||((i=I.activeCompetition)==null?void 0:i.id)!==v)&&await st.startJudgingSession(v,G.id),Y()}catch(j){console.error("Error starting judging session:",j),alert(`Failed to start judging: ${j.message}`),Ft("/judge")}}),rs(()=>{x&&clearTimeout(x)});function Y(){if(!d)return;const i=d.judging;i?n(0,g={aroma_score:i.aroma_score||"",appearance_score:i.appearance_score||"",flavor_score:i.flavor_score||"",mouthfeel_score:i.mouthfeel_score||"",overall_score:i.overall_score||"",judge_notes:i.judge_notes||"",private_notes:i.private_notes||""}):n(0,g={aroma_score:"",appearance_score:"",flavor_score:"",mouthfeel_score:"",overall_score:"",judge_notes:"",private_notes:""})}function Ye(i,j){const q=parseInt(j),xe=nt[i];return!(isNaN(q)||q<0||q>xe)}function $(i,j){const q=j.target.value;q===""||Ye(i,q)?(n(0,g[i]=q,g),K()):j.target.value=g[i]}function Ke(){K()}function K(){x&&clearTimeout(x),x=setTimeout(()=>{oe()},2e3)}async function oe(){if(!(!d||X))try{const i={...g};Object.keys(i).forEach(j=>{i[j]===""?i[j]=null:j.includes("_score")&&(i[j]=parseInt(i[j])||null)}),await st.saveJudgingResults(d.id,i),Tl("Progress saved","success")}catch(i){console.error("Error auto-saving:",i),Tl("Failed to save progress","error")}}async function ie(){if(d){n(3,X=!0);try{await oe(),ee()}finally{n(3,X=!1)}}}async function D(){if(d){n(3,X=!0);try{await oe(),ue()}finally{n(3,X=!1)}}}function ee(){const i=I.assignedEntries,j=O+1;j<i.length&&(n(2,O=j),st.setCurrentEntry(j),Y())}function ue(){O>0&&(n(2,O=O-1),st.setCurrentEntry(O),Y())}function Qe(i){n(2,O=i),st.setCurrentEntry(i),Y()}async function Me(){confirm("Are you sure you want to finish judging? You can still make changes later if needed.")&&(await oe(),Tl("Judging session saved successfully!","success"),setTimeout(()=>{Ft("/judge")},1500))}const We=()=>Ft("/judge"),at=i=>Qe(i);function V(){g.aroma_score=re(this.value),n(0,g)}const te=i=>$("aroma_score",i);function ce(){g.appearance_score=re(this.value),n(0,g)}const mt=i=>$("appearance_score",i);function rt(){g.flavor_score=re(this.value),n(0,g)}const pe=i=>$("flavor_score",i);function Ue(){g.mouthfeel_score=re(this.value),n(0,g)}const Ze=i=>$("mouthfeel_score",i);function ot(){g.overall_score=re(this.value),n(0,g)}const le=i=>$("overall_score",i);function ve(){g.judge_notes=this.value,n(0,g)}function gt(){g.private_notes=this.value,n(0,g)}return l.$$.update=()=>{l.$$.dirty[0]&32768&&n(6,v=w.params.id),l.$$.dirty[0]&1&&n(5,f=(parseInt(g.aroma_score)||0)+(parseInt(g.appearance_score)||0)+(parseInt(g.flavor_score)||0)+(parseInt(g.mouthfeel_score)||0)+(parseInt(g.overall_score)||0)),l.$$.dirty[0]&2&&d&&Y()},n(4,u=st.getJudgingProgress()),[g,d,O,X,u,f,v,I,b,$,Ke,ie,D,Qe,Me,w,We,at,V,te,ce,mt,rt,pe,Ue,Ze,ot,le,ve,gt]}class Ps extends us{constructor(s){super(),cs(this,s,Es,ws,ns,{},null,[-1,-1])}}export{Ps as component};
