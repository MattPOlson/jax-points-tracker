import{s as gs,k as kt,C as bs,D as ws,d as u,i as K,G as is,O as ie,n as Ja,b as t,M as dt,c,e as _,E as B,g as h,h as i,j as g,F as Es,r as ys,a as J,K as R,q as l,x as P,f as y,t as C}from"../chunks/DpwROyu6.js";import{S as Cs,i as Is,d as Tt,t as me,a as he,m as jt,b as Nt,e as Dt,g as ms,c as hs}from"../chunks/BHIxbS5H.js";import{e as us}from"../chunks/CurIhP_1.js";import{g as ea}from"../chunks/BPUUyVED.js";import{p as ks}from"../chunks/9YNtkGAc.js";import{u as Ts}from"../chunks/CN8V5uJw.js";import{c as at,b as js,a as Ns,i as Ds}from"../chunks/CdVdk_PO.js";import{C as Ss}from"../chunks/XUMP8LP7.js";import{L as Ps}from"../chunks/BWGxyfTN.js";import{B as $a}from"../chunks/28GNhQ-J.js";function fs(a,e,s){const r=a.slice();return r[42]=e[s],r[44]=s,r}function As(a){var xa,es,ts,as,ss,ls;let e,s,r=((xa=a[7].activeCompetition)==null?void 0:xa.name)+"",v,f,w,b,p,m,I=a[4].completed+"",ge,Y,E=a[4].total+"",A,V,Oe=a[4].percentage+"",st,ue,lt,L,rt,ae,N,se,fe,vt,Re=a[1].entry_number+"",Ge,_t,$,le,de,St="Beer Name",pt,be,ze=a[9](a[1].beer_name)+"",nt,mt,re,ve,Pt="Category",ht,ne,o=(((es=a[1].category)==null?void 0:es.category_number)||"")+"",k,Z,Xe=(((ts=a[1].category)==null?void 0:ts.category_name)||"Unknown")+"",At,ta,we,Ke,Ha="Style",aa,_e,gt=(((as=a[1].category)==null?void 0:as.category_number)||"")+"",Vt,bt=(((ss=a[1].category)==null?void 0:ss.subcategory_letter)||"")+"",Lt,sa,wt=(((ls=a[1].category)==null?void 0:ls.subcategory_name)||"N/A")+"",Bt,la,Ee,Ye,Ma="Entry Notes",ra,ot,Et=(a[1].beer_notes||"None")+"",Jt,na,G,Qe,$t,oa,ca,We,Fa="Total Score",ia,ua,ye,Ze,Ua="BJCP Scoring (50 points total)",fa,H,Ce,Ie,qa='Aroma <span class="score-max svelte-1awctcl">(0-12)</span>',da,M,va,ke,Te,Oa='Appearance <span class="score-max svelte-1awctcl">(0-3)</span>',_a,F,pa,je,Ne,Ra='Flavor <span class="score-max svelte-1awctcl">(0-20)</span>',ma,U,ha,De,Se,Ga='Mouthfeel <span class="score-max svelte-1awctcl">(0-5)</span>',ga,q,ba,Pe,Ae,za='Overall <span class="score-max svelte-1awctcl">(0-10)</span>',wa,O,Ea,Ve,xe,Xa="Judging Notes",ya,Le,Be,Je,Ka="Judge Notes (visible to entrant)",Ca,x,Ia,$e,He,Ya="Private Notes (only visible to judges and officers)",ka,ee,Ta,z,pe,ja,Me,Na,Ht,Da,Fe,Sa,Mt,Pa,Q,W,T,Aa,Qa,ct=us(a[7].assignedEntries),D=[];for(let n=0;n<ct.length;n+=1)D[n]=ds(fs(a,ct,n));let S=a[5]>0&&vs(a);pe=new $a({props:{variant:"secondary",disabled:a[2]===0||a[3],$$slots:{default:[Bs]},$$scope:{ctx:a}}}),pe.$on("click",a[13]);const Wa=[$s,Js],Ue=[];function Za(n,d){return n[2]<n[7].assignedEntries.length-1?0:1}return Q=Za(a),W=Ue[Q]=Wa[Q](a),{c(){e=i("div"),s=i("h1"),v=C(r),f=g(),w=i("div"),b=i("div"),p=g(),m=i("div"),ge=C(I),Y=C(" of "),A=C(E),V=C(" entries judged ("),st=C(Oe),ue=C("%)"),lt=g(),L=i("div");for(let n=0;n<D.length;n+=1)D[n].c();rt=g(),ae=i("div"),N=i("div"),se=i("div"),fe=i("h2"),vt=C("Entry #"),Ge=C(Re),_t=g(),$=i("div"),le=i("div"),de=i("span"),de.textContent=St,pt=g(),be=i("span"),nt=C(ze),mt=g(),re=i("div"),ve=i("span"),ve.textContent=Pt,ht=g(),ne=i("span"),k=C(o),Z=C(" - "),At=C(Xe),ta=g(),we=i("div"),Ke=i("span"),Ke.textContent=Ha,aa=g(),_e=i("span"),Vt=C(gt),Lt=C(bt),sa=C(" - "),Bt=C(wt),la=g(),Ee=i("div"),Ye=i("span"),Ye.textContent=Ma,ra=g(),ot=i("span"),Jt=C(Et),na=g(),G=i("div"),Qe=i("h3"),$t=C(a[5]),oa=C("/50"),ca=g(),We=i("p"),We.textContent=Fa,ia=g(),S&&S.c(),ua=g(),ye=i("div"),Ze=i("h3"),Ze.textContent=Ua,fa=g(),H=i("div"),Ce=i("div"),Ie=i("label"),Ie.innerHTML=qa,da=g(),M=i("input"),va=g(),ke=i("div"),Te=i("label"),Te.innerHTML=Oa,_a=g(),F=i("input"),pa=g(),je=i("div"),Ne=i("label"),Ne.innerHTML=Ra,ma=g(),U=i("input"),ha=g(),De=i("div"),Se=i("label"),Se.innerHTML=Ga,ga=g(),q=i("input"),ba=g(),Pe=i("div"),Ae=i("label"),Ae.innerHTML=za,wa=g(),O=i("input"),Ea=g(),Ve=i("div"),xe=i("h3"),xe.textContent=Xa,ya=g(),Le=i("div"),Be=i("div"),Je=i("label"),Je.textContent=Ka,Ca=g(),x=i("textarea"),Ia=g(),$e=i("div"),He=i("label"),He.textContent=Ya,ka=g(),ee=i("textarea"),Ta=g(),z=i("div"),Dt(pe.$$.fragment),ja=g(),Me=i("a"),Na=C("📋 BJCP Scoresheet"),Da=g(),Fe=i("a"),Sa=C("🏆 Rankings"),Pa=g(),W.c(),this.h()},l(n){e=c(n,"DIV",{class:!0});var d=_(e);s=c(d,"H1",{class:!0});var te=_(s);v=y(te,r),te.forEach(u),f=h(d),w=c(d,"DIV",{class:!0});var it=_(w);b=c(it,"DIV",{class:!0,style:!0}),_(b).forEach(u),it.forEach(u),p=h(d),m=c(d,"DIV",{class:!0});var oe=_(m);ge=y(oe,I),Y=y(oe," of "),A=y(oe,E),V=y(oe," entries judged ("),st=y(oe,Oe),ue=y(oe,"%)"),oe.forEach(u),d.forEach(u),lt=h(n),L=c(n,"DIV",{class:!0});var yt=_(L);for(let La=0;La<D.length;La+=1)D[La].l(yt);yt.forEach(u),rt=h(n),ae=c(n,"DIV",{class:!0});var Ct=_(ae);N=c(Ct,"DIV",{class:!0});var X=_(N);se=c(X,"DIV",{class:!0});var et=_(se);fe=c(et,"H2",{class:!0});var ut=_(fe);vt=y(ut,"Entry #"),Ge=y(ut,Re),ut.forEach(u),_t=h(et),$=c(et,"DIV",{class:!0});var j=_($);le=c(j,"DIV",{class:!0});var tt=_(le);de=c(tt,"SPAN",{class:!0,"data-svelte-h":!0}),B(de)!=="svelte-15a86sm"&&(de.textContent=St),pt=h(tt),be=c(tt,"SPAN",{class:!0});var rs=_(be);nt=y(rs,ze),rs.forEach(u),tt.forEach(u),mt=h(j),re=c(j,"DIV",{class:!0});var Ft=_(re);ve=c(Ft,"SPAN",{class:!0,"data-svelte-h":!0}),B(ve)!=="svelte-15re40r"&&(ve.textContent=Pt),ht=h(Ft),ne=c(Ft,"SPAN",{class:!0});var Ut=_(ne);k=y(Ut,o),Z=y(Ut," - "),At=y(Ut,Xe),Ut.forEach(u),Ft.forEach(u),ta=h(j),we=c(j,"DIV",{class:!0});var qt=_(we);Ke=c(qt,"SPAN",{class:!0,"data-svelte-h":!0}),B(Ke)!=="svelte-1k6atpa"&&(Ke.textContent=Ha),aa=h(qt),_e=c(qt,"SPAN",{class:!0});var It=_(_e);Vt=y(It,gt),Lt=y(It,bt),sa=y(It," - "),Bt=y(It,wt),It.forEach(u),qt.forEach(u),la=h(j),Ee=c(j,"DIV",{class:!0});var Ot=_(Ee);Ye=c(Ot,"SPAN",{class:!0,"data-svelte-h":!0}),B(Ye)!=="svelte-8vljau"&&(Ye.textContent=Ma),ra=h(Ot),ot=c(Ot,"SPAN",{class:!0});var ns=_(ot);Jt=y(ns,Et),ns.forEach(u),Ot.forEach(u),j.forEach(u),et.forEach(u),na=h(X),G=c(X,"DIV",{class:!0,style:!0});var ft=_(G);Qe=c(ft,"H3",{class:!0});var Va=_(Qe);$t=y(Va,a[5]),oa=y(Va,"/50"),Va.forEach(u),ca=h(ft),We=c(ft,"P",{class:!0,"data-svelte-h":!0}),B(We)!=="svelte-h4i2gr"&&(We.textContent=Fa),ia=h(ft),S&&S.l(ft),ft.forEach(u),ua=h(X),ye=c(X,"DIV",{class:!0});var Rt=_(ye);Ze=c(Rt,"H3",{class:!0,"data-svelte-h":!0}),B(Ze)!=="svelte-3tiq5s"&&(Ze.textContent=Ua),fa=h(Rt),H=c(Rt,"DIV",{class:!0});var ce=_(H);Ce=c(ce,"DIV",{class:!0});var Gt=_(Ce);Ie=c(Gt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(Ie)!=="svelte-xqfdtg"&&(Ie.innerHTML=qa),da=h(Gt),M=c(Gt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Gt.forEach(u),va=h(ce),ke=c(ce,"DIV",{class:!0});var zt=_(ke);Te=c(zt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(Te)!=="svelte-ljiog4"&&(Te.innerHTML=Oa),_a=h(zt),F=c(zt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),zt.forEach(u),pa=h(ce),je=c(ce,"DIV",{class:!0});var Xt=_(je);Ne=c(Xt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(Ne)!=="svelte-1h3mxuj"&&(Ne.innerHTML=Ra),ma=h(Xt),U=c(Xt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Xt.forEach(u),ha=h(ce),De=c(ce,"DIV",{class:!0});var Kt=_(De);Se=c(Kt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(Se)!=="svelte-1ijxj1i"&&(Se.innerHTML=Ga),ga=h(Kt),q=c(Kt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Kt.forEach(u),ba=h(ce),Pe=c(ce,"DIV",{class:!0});var Yt=_(Pe);Ae=c(Yt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(Ae)!=="svelte-1fijyxa"&&(Ae.innerHTML=za),wa=h(Yt),O=c(Yt,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Yt.forEach(u),ce.forEach(u),Rt.forEach(u),Ea=h(X),Ve=c(X,"DIV",{class:!0});var Qt=_(Ve);xe=c(Qt,"H3",{class:!0,"data-svelte-h":!0}),B(xe)!=="svelte-ed27gq"&&(xe.textContent=Xa),ya=h(Qt),Le=c(Qt,"DIV",{class:!0});var Wt=_(Le);Be=c(Wt,"DIV",{class:!0});var Zt=_(Be);Je=c(Zt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(Je)!=="svelte-1jlf7qm"&&(Je.textContent=Ka),Ca=h(Zt),x=c(Zt,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),_(x).forEach(u),Zt.forEach(u),Ia=h(Wt),$e=c(Wt,"DIV",{class:!0});var xt=_($e);He=c(xt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(He)!=="svelte-3nxa16"&&(He.textContent=Ya),ka=h(xt),ee=c(xt,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),_(ee).forEach(u),xt.forEach(u),Wt.forEach(u),Qt.forEach(u),Ta=h(X),z=c(X,"DIV",{class:!0});var qe=_(z);Nt(pe.$$.fragment,qe),ja=h(qe),Me=c(qe,"A",{href:!0,class:!0});var os=_(Me);Na=y(os,"📋 BJCP Scoresheet"),os.forEach(u),Da=h(qe),Fe=c(qe,"A",{href:!0,class:!0});var cs=_(Fe);Sa=y(cs,"🏆 Rankings"),cs.forEach(u),Pa=h(qe),W.l(qe),qe.forEach(u),X.forEach(u),Ct.forEach(u),this.h()},h(){l(s,"class","competition-title svelte-1awctcl"),l(b,"class","progress-fill svelte-1awctcl"),dt(b,"width",a[4].percentage+"%"),l(w,"class","progress-bar svelte-1awctcl"),l(m,"class","progress-text svelte-1awctcl"),l(e,"class","header svelte-1awctcl"),l(L,"class","entry-nav svelte-1awctcl"),l(fe,"class","entry-number svelte-1awctcl"),l(de,"class","detail-label svelte-1awctcl"),l(be,"class","detail-value svelte-1awctcl"),l(le,"class","detail-item svelte-1awctcl"),l(ve,"class","detail-label svelte-1awctcl"),l(ne,"class","detail-value svelte-1awctcl"),l(re,"class","detail-item svelte-1awctcl"),l(Ke,"class","detail-label svelte-1awctcl"),l(_e,"class","detail-value svelte-1awctcl"),l(we,"class","detail-item svelte-1awctcl"),l(Ye,"class","detail-label svelte-1awctcl"),l(ot,"class","detail-value svelte-1awctcl"),l(Ee,"class","detail-item svelte-1awctcl"),l($,"class","entry-details svelte-1awctcl"),l(se,"class","entry-header svelte-1awctcl"),l(Qe,"class","total-score-value svelte-1awctcl"),l(We,"class","total-score-label svelte-1awctcl"),l(G,"class","total-score svelte-1awctcl"),dt(G,"background",a[5]>0?_s(a[5]):"#6b7280"),l(Ze,"class","section-title svelte-1awctcl"),l(Ie,"class","score-label svelte-1awctcl"),l(Ie,"for","aroma"),l(M,"id","aroma"),l(M,"type","number"),l(M,"class","score-input svelte-1awctcl"),l(M,"min","0"),l(M,"max","12"),l(M,"placeholder","0"),l(Ce,"class","score-item svelte-1awctcl"),l(Te,"class","score-label svelte-1awctcl"),l(Te,"for","appearance"),l(F,"id","appearance"),l(F,"type","number"),l(F,"class","score-input svelte-1awctcl"),l(F,"min","0"),l(F,"max","3"),l(F,"placeholder","0"),l(ke,"class","score-item svelte-1awctcl"),l(Ne,"class","score-label svelte-1awctcl"),l(Ne,"for","flavor"),l(U,"id","flavor"),l(U,"type","number"),l(U,"class","score-input svelte-1awctcl"),l(U,"min","0"),l(U,"max","20"),l(U,"placeholder","0"),l(je,"class","score-item svelte-1awctcl"),l(Se,"class","score-label svelte-1awctcl"),l(Se,"for","mouthfeel"),l(q,"id","mouthfeel"),l(q,"type","number"),l(q,"class","score-input svelte-1awctcl"),l(q,"min","0"),l(q,"max","5"),l(q,"placeholder","0"),l(De,"class","score-item svelte-1awctcl"),l(Ae,"class","score-label svelte-1awctcl"),l(Ae,"for","overall"),l(O,"id","overall"),l(O,"type","number"),l(O,"class","score-input svelte-1awctcl"),l(O,"min","0"),l(O,"max","10"),l(O,"placeholder","0"),l(Pe,"class","score-item svelte-1awctcl"),l(H,"class","score-grid svelte-1awctcl"),l(ye,"class","scoring-section svelte-1awctcl"),l(xe,"class","section-title svelte-1awctcl"),l(Je,"class","notes-label svelte-1awctcl"),l(Je,"for","public-notes"),l(x,"id","public-notes"),l(x,"class","notes-textarea svelte-1awctcl"),l(x,"placeholder","Provide constructive feedback about aroma, appearance, flavor, mouthfeel, and overall impression..."),l(Be,"class","notes-item svelte-1awctcl"),l(He,"class","notes-label svelte-1awctcl"),l(He,"for","private-notes"),l(ee,"id","private-notes"),l(ee,"class","notes-textarea svelte-1awctcl"),l(ee,"placeholder","Internal judging notes, comparisons, or other observations..."),l($e,"class","notes-item svelte-1awctcl"),l(Le,"class","notes-grid svelte-1awctcl"),l(Ve,"class","notes-section svelte-1awctcl"),l(Me,"href",Ht="/judge/competition/"+a[6]+"/scoresheet"),l(Me,"class","nav-btn nav-btn-secondary nav-btn-link svelte-1awctcl"),l(Fe,"href",Mt="/judge/competition/"+a[6]+"/rankings"),l(Fe,"class","nav-btn nav-btn-secondary nav-btn-link svelte-1awctcl"),l(z,"class","nav-buttons svelte-1awctcl"),l(N,"class","entry-card svelte-1awctcl"),l(ae,"class","main-content svelte-1awctcl")},m(n,d){K(n,e,d),t(e,s),t(s,v),t(e,f),t(e,w),t(w,b),t(e,p),t(e,m),t(m,ge),t(m,Y),t(m,A),t(m,V),t(m,st),t(m,ue),K(n,lt,d),K(n,L,d);for(let te=0;te<D.length;te+=1)D[te]&&D[te].m(L,null);K(n,rt,d),K(n,ae,d),t(ae,N),t(N,se),t(se,fe),t(fe,vt),t(fe,Ge),t(se,_t),t(se,$),t($,le),t(le,de),t(le,pt),t(le,be),t(be,nt),t($,mt),t($,re),t(re,ve),t(re,ht),t(re,ne),t(ne,k),t(ne,Z),t(ne,At),t($,ta),t($,we),t(we,Ke),t(we,aa),t(we,_e),t(_e,Vt),t(_e,Lt),t(_e,sa),t(_e,Bt),t($,la),t($,Ee),t(Ee,Ye),t(Ee,ra),t(Ee,ot),t(ot,Jt),t(N,na),t(N,G),t(G,Qe),t(Qe,$t),t(Qe,oa),t(G,ca),t(G,We),t(G,ia),S&&S.m(G,null),t(N,ua),t(N,ye),t(ye,Ze),t(ye,fa),t(ye,H),t(H,Ce),t(Ce,Ie),t(Ce,da),t(Ce,M),R(M,a[0].aroma_score),t(H,va),t(H,ke),t(ke,Te),t(ke,_a),t(ke,F),R(F,a[0].appearance_score),t(H,pa),t(H,je),t(je,Ne),t(je,ma),t(je,U),R(U,a[0].flavor_score),t(H,ha),t(H,De),t(De,Se),t(De,ga),t(De,q),R(q,a[0].mouthfeel_score),t(H,ba),t(H,Pe),t(Pe,Ae),t(Pe,wa),t(Pe,O),R(O,a[0].overall_score),t(N,Ea),t(N,Ve),t(Ve,xe),t(Ve,ya),t(Ve,Le),t(Le,Be),t(Be,Je),t(Be,Ca),t(Be,x),R(x,a[0].judge_notes),t(Le,Ia),t(Le,$e),t($e,He),t($e,ka),t($e,ee),R(ee,a[0].private_notes),t(N,Ta),t(N,z),jt(pe,z,null),t(z,ja),t(z,Me),t(Me,Na),t(z,Da),t(z,Fe),t(Fe,Sa),t(z,Pa),Ue[Q].m(z,null),T=!0,Aa||(Qa=[P(M,"input",a[20]),P(M,"input",a[21]),P(F,"input",a[22]),P(F,"input",a[23]),P(U,"input",a[24]),P(U,"input",a[25]),P(q,"input",a[26]),P(q,"input",a[27]),P(O,"input",a[28]),P(O,"input",a[29]),P(x,"input",a[30]),P(x,"input",a[11]),P(ee,"input",a[31]),P(ee,"input",a[11])],Aa=!0)},p(n,d){var oe,yt,Ct,X,et,ut;if((!T||d[0]&128)&&r!==(r=((oe=n[7].activeCompetition)==null?void 0:oe.name)+"")&&J(v,r),(!T||d[0]&16)&&dt(b,"width",n[4].percentage+"%"),(!T||d[0]&16)&&I!==(I=n[4].completed+"")&&J(ge,I),(!T||d[0]&16)&&E!==(E=n[4].total+"")&&J(A,E),(!T||d[0]&16)&&Oe!==(Oe=n[4].percentage+"")&&J(st,Oe),d[0]&16524){ct=us(n[7].assignedEntries);let j;for(j=0;j<ct.length;j+=1){const tt=fs(n,ct,j);D[j]?D[j].p(tt,d):(D[j]=ds(tt),D[j].c(),D[j].m(L,null))}for(;j<D.length;j+=1)D[j].d(1);D.length=ct.length}(!T||d[0]&2)&&Re!==(Re=n[1].entry_number+"")&&J(Ge,Re),(!T||d[0]&2)&&ze!==(ze=n[9](n[1].beer_name)+"")&&J(nt,ze),(!T||d[0]&2)&&o!==(o=(((yt=n[1].category)==null?void 0:yt.category_number)||"")+"")&&J(k,o),(!T||d[0]&2)&&Xe!==(Xe=(((Ct=n[1].category)==null?void 0:Ct.category_name)||"Unknown")+"")&&J(At,Xe),(!T||d[0]&2)&&gt!==(gt=(((X=n[1].category)==null?void 0:X.category_number)||"")+"")&&J(Vt,gt),(!T||d[0]&2)&&bt!==(bt=(((et=n[1].category)==null?void 0:et.subcategory_letter)||"")+"")&&J(Lt,bt),(!T||d[0]&2)&&wt!==(wt=(((ut=n[1].category)==null?void 0:ut.subcategory_name)||"N/A")+"")&&J(Bt,wt),(!T||d[0]&2)&&Et!==(Et=(n[1].beer_notes||"None")+"")&&J(Jt,Et),(!T||d[0]&32)&&J($t,n[5]),n[5]>0?S?S.p(n,d):(S=vs(n),S.c(),S.m(G,null)):S&&(S.d(1),S=null),(!T||d[0]&32)&&dt(G,"background",n[5]>0?_s(n[5]):"#6b7280"),d[0]&1&&ie(M.value)!==n[0].aroma_score&&R(M,n[0].aroma_score),d[0]&1&&ie(F.value)!==n[0].appearance_score&&R(F,n[0].appearance_score),d[0]&1&&ie(U.value)!==n[0].flavor_score&&R(U,n[0].flavor_score),d[0]&1&&ie(q.value)!==n[0].mouthfeel_score&&R(q,n[0].mouthfeel_score),d[0]&1&&ie(O.value)!==n[0].overall_score&&R(O,n[0].overall_score),d[0]&1&&R(x,n[0].judge_notes),d[0]&1&&R(ee,n[0].private_notes);const te={};d[0]&12&&(te.disabled=n[2]===0||n[3]),d[1]&16384&&(te.$$scope={dirty:d,ctx:n}),pe.$set(te),(!T||d[0]&64&&Ht!==(Ht="/judge/competition/"+n[6]+"/scoresheet"))&&l(Me,"href",Ht),(!T||d[0]&64&&Mt!==(Mt="/judge/competition/"+n[6]+"/rankings"))&&l(Fe,"href",Mt);let it=Q;Q=Za(n),Q===it?Ue[Q].p(n,d):(ms(),me(Ue[it],1,1,()=>{Ue[it]=null}),hs(),W=Ue[Q],W?W.p(n,d):(W=Ue[Q]=Wa[Q](n),W.c()),he(W,1),W.m(z,null))},i(n){T||(he(pe.$$.fragment,n),he(W),T=!0)},o(n){me(pe.$$.fragment,n),me(W),T=!1},d(n){n&&(u(e),u(lt),u(L),u(rt),u(ae)),Es(D,n),S&&S.d(),Tt(pe),Ue[Q].d(),Aa=!1,ys(Qa)}}}function Vs(a){let e,s,r="No entries to judge",v,f,w;return f=new $a({props:{variant:"secondary",$$slots:{default:[Ms]},$$scope:{ctx:a}}}),f.$on("click",a[18]),{c(){e=i("div"),s=i("h2"),s.textContent=r,v=g(),Dt(f.$$.fragment),this.h()},l(b){e=c(b,"DIV",{style:!0});var p=_(e);s=c(p,"H2",{"data-svelte-h":!0}),B(s)!=="svelte-dovhs3"&&(s.textContent=r),v=h(p),Nt(f.$$.fragment,p),p.forEach(u),this.h()},h(){dt(e,"text-align","center"),dt(e,"padding","3rem")},m(b,p){K(b,e,p),t(e,s),t(e,v),jt(f,e,null),w=!0},p(b,p){const m={};p[1]&16384&&(m.$$scope={dirty:p,ctx:b}),f.$set(m)},i(b){w||(he(f.$$.fragment,b),w=!0)},o(b){me(f.$$.fragment,b),w=!1},d(b){b&&u(e),Tt(f)}}}function Ls(a){let e,s;return e=new Ps({props:{message:"Starting judging session..."}}),{c(){Dt(e.$$.fragment)},l(r){Nt(e.$$.fragment,r)},m(r,v){jt(e,r,v),s=!0},p:Ja,i(r){s||(he(e.$$.fragment,r),s=!0)},o(r){me(e.$$.fragment,r),s=!1},d(r){Tt(e,r)}}}function ds(a){let e,s=a[42].entry_number+"",r,v,f,w,b;function p(){return a[19](a[44])}return{c(){e=i("button"),r=C(s),v=g(),this.h()},l(m){e=c(m,"BUTTON",{class:!0});var I=_(e);r=y(I,s),v=h(I),I.forEach(u),this.h()},h(){l(e,"class",f="entry-nav-item "+(a[44]===a[2]?"active":a[42].hasBeenJudged?"judged":"pending")+" svelte-1awctcl"),e.disabled=a[3]},m(m,I){K(m,e,I),t(e,r),t(e,v),w||(b=P(e,"click",p),w=!0)},p(m,I){a=m,I[0]&128&&s!==(s=a[42].entry_number+"")&&J(r,s),I[0]&132&&f!==(f="entry-nav-item "+(a[44]===a[2]?"active":a[42].hasBeenJudged?"judged":"pending")+" svelte-1awctcl")&&l(e,"class",f),I[0]&8&&(e.disabled=a[3])},d(m){m&&u(e),w=!1,b()}}}function vs(a){let e,s=ps(a[5])+"",r;return{c(){e=i("p"),r=C(s),this.h()},l(v){e=c(v,"P",{class:!0});var f=_(e);r=y(f,s),f.forEach(u),this.h()},h(){l(e,"class","score-description svelte-1awctcl")},m(v,f){K(v,e,f),t(e,r)},p(v,f){f[0]&32&&s!==(s=ps(v[5])+"")&&J(r,s)},d(v){v&&u(e)}}}function Bs(a){let e;return{c(){e=C("⬅️ Previous Entry")},l(s){e=y(s,"⬅️ Previous Entry")},m(s,r){K(s,e,r)},d(s){s&&u(e)}}}function Js(a){let e,s,r,v;return{c(){e=i("button"),s=C("🏁 Finish Judging"),this.h()},l(f){e=c(f,"BUTTON",{class:!0});var w=_(e);s=y(w,"🏁 Finish Judging"),w.forEach(u),this.h()},h(){l(e,"class","nav-btn nav-btn-finish svelte-1awctcl"),e.disabled=a[3]},m(f,w){K(f,e,w),t(e,s),r||(v=P(e,"click",a[15]),r=!0)},p(f,w){w[0]&8&&(e.disabled=f[3])},i:Ja,o:Ja,d(f){f&&u(e),r=!1,v()}}}function $s(a){let e,s;return e=new $a({props:{variant:"primary",disabled:a[3],$$slots:{default:[Hs]},$$scope:{ctx:a}}}),e.$on("click",a[12]),{c(){Dt(e.$$.fragment)},l(r){Nt(e.$$.fragment,r)},m(r,v){jt(e,r,v),s=!0},p(r,v){const f={};v[0]&8&&(f.disabled=r[3]),v[1]&16384&&(f.$$scope={dirty:v,ctx:r}),e.$set(f)},i(r){s||(he(e.$$.fragment,r),s=!0)},o(r){me(e.$$.fragment,r),s=!1},d(r){Tt(e,r)}}}function Hs(a){let e;return{c(){e=C("Next Entry ➡️")},l(s){e=y(s,"Next Entry ➡️")},m(s,r){K(s,e,r)},d(s){s&&u(e)}}}function Ms(a){let e;return{c(){e=C("Back to Judge Portal")},l(s){e=y(s,"Back to Judge Portal")},m(s,r){K(s,e,r)},d(s){s&&u(e)}}}function Fs(a){let e,s,r,v;const f=[Ls,Vs,As],w=[];function b(p,m){return p[8]?p[1]?2:1:0}return e=b(a),s=w[e]=f[e](a),{c(){s.c(),r=is()},l(p){s.l(p),r=is()},m(p,m){w[e].m(p,m),K(p,r,m),v=!0},p(p,m){let I=e;e=b(p),e===I?w[e].p(p,m):(ms(),me(w[I],1,1,()=>{w[I]=null}),hs(),s=w[e],s?s.p(p,m):(s=w[e]=f[e](p),s.c()),he(s,1),s.m(r.parentNode,r))},i(p){v||(he(s),v=!0)},o(p){me(s),v=!1},d(p){p&&u(r),w[e].d(p)}}}function Us(a){let e,s;return e=new Ss({props:{size:"lg",$$slots:{default:[Fs]},$$scope:{ctx:a}}}),{c(){Dt(e.$$.fragment)},l(r){Nt(e.$$.fragment,r)},m(r,v){jt(e,r,v),s=!0},p(r,v){const f={};v[0]&511|v[1]&16384&&(f.$$scope={dirty:v,ctx:r}),e.$set(f)},i(r){s||(he(e.$$.fragment,r),s=!0)},o(r){me(e.$$.fragment,r),s=!1},d(r){Tt(e,r)}}}function _s(a){return a>=45?"#059669":a>=38?"#0891b2":a>=30?"#eab308":a>=21?"#f59e0b":"#dc2626"}function ps(a){return a>=45?"Excellent":a>=38?"Very Good":a>=30?"Good":a>=21?"Fair":a>0?"Poor":""}function Ba(a,e="info"){const s=document.createElement("div");s.textContent=a,s.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 6px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      background: ${e==="success"?"#059669":e==="error"?"#dc2626":"#6b7280"};
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `,document.body.appendChild(s),setTimeout(()=>document.body.removeChild(s),3e3)}function qs(a,e,s){let r,v,f,w,b,p,m,I,ge;kt(a,js,o=>s(1,b=o)),kt(a,Ns,o=>s(7,p=o)),kt(a,Ts,o=>s(16,m=o)),kt(a,Ds,o=>s(8,I=o)),kt(a,ks,o=>s(17,ge=o));let Y=0,E={aroma_score:"",appearance_score:"",flavor_score:"",mouthfeel_score:"",overall_score:"",judge_notes:"",private_notes:""},A=!1,V=null;function Oe(o){return v?o||"No name provided":"Hidden"}const st={aroma_score:12,appearance_score:3,flavor_score:20,mouthfeel_score:5,overall_score:10};bs(async()=>{var o;if(!m){ea("/auth");return}try{I&&p.judgeId!==m.id&&(console.warn("Session mismatch detected - clearing session for security"),at.endSession()),(!I||((o=p.activeCompetition)==null?void 0:o.id)!==r||p.judgeId!==m.id)&&await at.startJudgingSession(r,m.id),ue()}catch(k){console.error("Error starting judging session:",k),alert(`Failed to start judging: ${k.message}`),ea("/judge")}}),ws(()=>{V&&clearTimeout(V)});function ue(){if(!b)return;const o=b.judging;o?s(0,E={aroma_score:o.aroma_score||"",appearance_score:o.appearance_score||"",flavor_score:o.flavor_score||"",mouthfeel_score:o.mouthfeel_score||"",overall_score:o.overall_score||"",judge_notes:o.judge_notes||"",private_notes:o.private_notes||""}):s(0,E={aroma_score:"",appearance_score:"",flavor_score:"",mouthfeel_score:"",overall_score:"",judge_notes:"",private_notes:""})}function lt(o,k){const Z=parseInt(k),Xe=st[o];return!(isNaN(Z)||Z<0||Z>Xe)}function L(o,k){const Z=k.target.value;Z===""||lt(o,Z)?(s(0,E[o]=Z,E),ae()):k.target.value=E[o]}function rt(){ae()}function ae(){V&&clearTimeout(V),V=setTimeout(()=>{N()},2e3)}async function N(){if(b)try{const o={...E};Object.keys(o).forEach(k=>{o[k]===""?o[k]=null:k.includes("_score")&&(o[k]=parseInt(o[k])||null)}),await at.saveJudgingResults(b.id,o),Ba("Progress saved","success")}catch(o){throw console.error("Error auto-saving:",o),Ba("Failed to save progress","error"),o}}async function se(){await vt()}async function fe(){await Re()}async function vt(){if(!(!b||A)){V&&clearTimeout(V),s(3,A=!0);try{await N();const o=p.assignedEntries,k=Y+1;k<o.length&&(s(2,Y=k),at.setCurrentEntry(k),ue())}catch(o){console.error("Failed to save before navigation:",o)}finally{s(3,A=!1)}}}async function Re(){if(!(!b||A)){V&&clearTimeout(V),s(3,A=!0);try{await N(),Y>0&&(s(2,Y=Y-1),at.setCurrentEntry(Y),ue())}catch(o){console.error("Failed to save before navigation:",o)}finally{s(3,A=!1)}}}async function Ge(o){if(!(!b||A)){V&&clearTimeout(V),s(3,A=!0);try{await N(),s(2,Y=o),at.setCurrentEntry(o),ue()}catch(k){console.error("Failed to save before navigation:",k)}finally{s(3,A=!1)}}}async function _t(){confirm("Are you sure you want to finish judging? You can still make changes later if needed.")&&(await N(),Ba("Judging session saved successfully!","success"),setTimeout(()=>{ea("/judge")},1500))}const $=()=>ea("/judge"),le=o=>Ge(o);function de(){E.aroma_score=ie(this.value),s(0,E)}const St=o=>L("aroma_score",o);function pt(){E.appearance_score=ie(this.value),s(0,E)}const be=o=>L("appearance_score",o);function ze(){E.flavor_score=ie(this.value),s(0,E)}const nt=o=>L("flavor_score",o);function mt(){E.mouthfeel_score=ie(this.value),s(0,E)}const re=o=>L("mouthfeel_score",o);function ve(){E.overall_score=ie(this.value),s(0,E)}const Pt=o=>L("overall_score",o);function ht(){E.judge_notes=this.value,s(0,E)}function ne(){E.private_notes=this.value,s(0,E)}return a.$$.update=()=>{a.$$.dirty[0]&131072&&s(6,r=ge.params.id),a.$$.dirty[0]&65536&&(v=(m==null?void 0:m.role)==="competition_director"),a.$$.dirty[0]&1&&s(5,f=(parseInt(E.aroma_score)||0)+(parseInt(E.appearance_score)||0)+(parseInt(E.flavor_score)||0)+(parseInt(E.mouthfeel_score)||0)+(parseInt(E.overall_score)||0)),a.$$.dirty[0]&2&&b&&ue()},s(4,w=at.getJudgingProgress()),[E,b,Y,A,w,f,r,p,I,Oe,L,rt,se,fe,Ge,_t,m,ge,$,le,de,St,pt,be,ze,nt,mt,re,ve,Pt,ht,ne]}class xs extends Cs{constructor(e){super(),Is(this,e,qs,Us,gs,{},null,[-1,-1])}}export{xs as component};
