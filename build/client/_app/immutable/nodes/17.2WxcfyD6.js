import{s as ul,n as ft,d as f,y as ct,r as ht,a as te,i as se,b as s,p as ee,q as n,c as u,e as E,f as K,g as b,v as Q,h as c,t as Y,j as C,k as cl,$ as ss,B as ne,z as Pl,L as vs,I as Gt,H as gs,w as ps,x as _s,P as ns,a0 as rs,G as ms}from"../chunks/DOvoZ9Ia.js";import{S as dl,i as fl,a as ut,t as Ye,c as as,f as is,d as os,g as us,m as cs,e as ds,b as fs}from"../chunks/DZMW2zPD.js";import{g as ol}from"../chunks/F2-QbuOs.js";import{u as bs}from"../chunks/DP1yl1qp.js";import{competitionManagementStore as Cs}from"../chunks/CUTZbcYo.js";import{c as hs,n as ks}from"../chunks/CIpNEI9J.js";import{e as Ee}from"../chunks/DJwZhPfI.js";function Gl(l,t,e){const r=l.slice();return r[16]=t[e][0],r[17]=t[e][1],r}function Ll(l,t,e){const r=l.slice();return r[20]=t[e],r}function Es(l){let t;return{c(){t=Y("Select All")},l(e){t=K(e,"Select All")},m(e,r){se(e,t,r)},d(e){e&&f(t)}}}function Ds(l){let t;return{c(){t=Y("Deselect All")},l(e){t=K(e,"Deselect All")},m(e,r){se(e,t,r)},d(e){e&&f(t)}}}function Bl(l){let t,e,r,i,a,o,m=l[17].number+"",_,g=l[20].letter+"",d,T,V=l[20].name+"",v,D,B,p;function O(){return l[13](l[20])}return{c(){t=c("label"),e=c("input"),i=C(),a=c("span"),o=c("strong"),_=Y(m),d=Y(g),T=C(),v=Y(V),D=C(),this.h()},l(G){t=u(G,"LABEL",{class:!0});var k=E(t);e=u(k,"INPUT",{type:!0,class:!0}),i=b(k),a=u(k,"SPAN",{class:!0});var S=E(a);o=u(S,"STRONG",{class:!0});var Z=E(o);_=K(Z,m),d=K(Z,g),Z.forEach(f),T=b(S),v=K(S,V),S.forEach(f),D=b(k),k.forEach(f),this.h()},h(){n(e,"type","checkbox"),e.checked=r=l[2][l[20].id]||!1,n(e,"class","svelte-spa3le"),n(o,"class","svelte-spa3le"),n(a,"class","subcategory-label svelte-spa3le"),n(t,"class","subcategory-item svelte-spa3le")},m(G,k){se(G,t,k),s(t,e),s(t,i),s(t,a),s(a,o),s(o,_),s(o,d),s(a,T),s(a,v),s(t,D),B||(p=ee(e,"change",O),B=!0)},p(G,k){l=G,k&12&&r!==(r=l[2][l[20].id]||!1)&&(e.checked=r),k&8&&m!==(m=l[17].number+"")&&te(_,m),k&8&&g!==(g=l[20].letter+"")&&te(d,g),k&8&&V!==(V=l[20].name+"")&&te(v,V)},d(G){G&&f(t),B=!1,p()}}}function jl(l){let t,e,r,i,a=l[17].number+"",o,m,_=l[17].name+"",g,d,T,V,v,D,B,p,O;function G(A,H){return H&12&&(V=null),V==null&&(V=!!A[17].subcategories.every(A[11])),V?Ds:Es}let k=G(l,-1),S=k(l);function Z(){return l[12](l[16],l[17])}let U=Ee(l[17].subcategories),M=[];for(let A=0;A<U.length;A+=1)M[A]=Bl(Ll(l,U,A));return{c(){t=c("div"),e=c("div"),r=c("h4"),i=Y("Category "),o=Y(a),m=Y(": "),g=Y(_),d=C(),T=c("button"),S.c(),v=C(),D=c("div");for(let A=0;A<M.length;A+=1)M[A].c();B=C(),this.h()},l(A){t=u(A,"DIV",{class:!0});var H=E(t);e=u(H,"DIV",{class:!0});var j=E(e);r=u(j,"H4",{class:!0});var w=E(r);i=K(w,"Category "),o=K(w,a),m=K(w,": "),g=K(w,_),d=b(w),T=u(w,"BUTTON",{type:!0,class:!0});var h=E(T);S.l(h),h.forEach(f),w.forEach(f),j.forEach(f),v=b(H),D=u(H,"DIV",{class:!0});var I=E(D);for(let y=0;y<M.length;y+=1)M[y].l(I);I.forEach(f),B=b(H),H.forEach(f),this.h()},h(){n(T,"type","button"),n(T,"class","toggle-all-btn svelte-spa3le"),n(r,"class","category-title svelte-spa3le"),n(e,"class","category-header svelte-spa3le"),n(D,"class","subcategories svelte-spa3le"),n(t,"class","category-group svelte-spa3le")},m(A,H){se(A,t,H),s(t,e),s(e,r),s(r,i),s(r,o),s(r,m),s(r,g),s(r,d),s(r,T),S.m(T,null),s(t,v),s(t,D);for(let j=0;j<M.length;j+=1)M[j]&&M[j].m(D,null);s(t,B),p||(O=ee(T,"click",Z),p=!0)},p(A,H){if(l=A,H&8&&a!==(a=l[17].number+"")&&te(o,a),H&8&&_!==(_=l[17].name+"")&&te(g,_),k!==(k=G(l,H))&&(S.d(1),S=k(l),S&&(S.c(),S.m(T,null))),H&76){U=Ee(l[17].subcategories);let j;for(j=0;j<U.length;j+=1){const w=Ll(l,U,j);M[j]?M[j].p(w,H):(M[j]=Bl(w),M[j].c(),M[j].m(D,null))}for(;j<M.length;j+=1)M[j].d(1);M.length=U.length}},d(A){A&&f(t),S.d(),ct(M,A),p=!1,O()}}}function ys(l){let t,e,r,i,a,o,m,_,g,d,T,V,v,D,B,p,O,G="Select All",k,S,Z="Select None",U,M,A,H,j=Ee(Object.entries(l[3])),w=[];for(let h=0;h<j.length;h+=1)w[h]=jl(Gl(l,j,h));return{c(){t=c("div"),e=c("div"),r=c("h3"),i=Y(l[0]),a=C(),o=c("p"),m=Y(l[1]),_=C(),g=c("div"),d=c("span"),T=Y(l[5]),V=Y(" of "),v=Y(l[4]),D=Y(" categories selected"),B=C(),p=c("div"),O=c("button"),O.textContent=G,k=C(),S=c("button"),S.textContent=Z,U=C(),M=c("div");for(let h=0;h<w.length;h+=1)w[h].c();this.h()},l(h){t=u(h,"DIV",{class:!0});var I=E(t);e=u(I,"DIV",{class:!0});var y=E(e);r=u(y,"H3",{class:!0});var R=E(r);i=K(R,l[0]),R.forEach(f),a=b(y),o=u(y,"P",{class:!0});var X=E(o);m=K(X,l[1]),X.forEach(f),_=b(y),g=u(y,"DIV",{class:!0});var q=E(g);d=u(q,"SPAN",{class:!0});var L=E(d);T=K(L,l[5]),V=K(L," of "),v=K(L,l[4]),D=K(L," categories selected"),L.forEach(f),B=b(q),p=u(q,"DIV",{class:!0});var J=E(p);O=u(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(O)!=="svelte-lf2mqp"&&(O.textContent=G),k=b(J),S=u(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(S)!=="svelte-1slbmf"&&(S.textContent=Z),J.forEach(f),q.forEach(f),y.forEach(f),U=b(I),M=u(I,"DIV",{class:!0});var W=E(M);for(let z=0;z<w.length;z+=1)w[z].l(W);W.forEach(f),I.forEach(f),this.h()},h(){n(r,"class","title svelte-spa3le"),n(o,"class","description svelte-spa3le"),n(d,"class","count svelte-spa3le"),n(O,"type","button"),n(O,"class","btn-link svelte-spa3le"),n(S,"type","button"),n(S,"class","btn-link svelte-spa3le"),n(p,"class","bulk-actions svelte-spa3le"),n(g,"class","selection-summary svelte-spa3le"),n(e,"class","header svelte-spa3le"),n(M,"class","categories-grid svelte-spa3le"),n(t,"class","category-selector svelte-spa3le")},m(h,I){se(h,t,I),s(t,e),s(e,r),s(r,i),s(e,a),s(e,o),s(o,m),s(e,_),s(e,g),s(g,d),s(d,T),s(d,V),s(d,v),s(d,D),s(g,B),s(g,p),s(p,O),s(p,k),s(p,S),s(t,U),s(t,M);for(let y=0;y<w.length;y+=1)w[y]&&w[y].m(M,null);A||(H=[ee(O,"click",l[8]),ee(S,"click",l[9])],A=!0)},p(h,[I]){if(I&1&&te(i,h[0]),I&2&&te(m,h[1]),I&32&&te(T,h[5]),I&16&&te(v,h[4]),I&204){j=Ee(Object.entries(h[3]));let y;for(y=0;y<j.length;y+=1){const R=Gl(h,j,y);w[y]?w[y].p(R,I):(w[y]=jl(R),w[y].c(),w[y].m(M,null))}for(;y<w.length;y+=1)w[y].d(1);w.length=j.length}},i:ft,o:ft,d(h){h&&f(t),ct(w,h),A=!1,ht(H)}}}function Is(l,t,e){let r,i,a;cl(l,hs,k=>e(3,a=k));let{selectedCategories:o=[]}=t,{title:m="Select Categories"}=t,{description:_="Choose which BJCP categories are allowed in this competition"}=t;const g=ss();let d={};function T(){const k=Object.keys(d).filter(S=>d[S]);e(10,o=k),g("change",o)}function V(k){e(2,d[k]=!d[k],d),T()}function v(k,S){const Z=S.every(U=>d[U.id]);S.forEach(U=>{e(2,d[U.id]=!Z,d)}),T()}function D(){Object.values(a).forEach(k=>{k.subcategories.forEach(S=>{e(2,d[S.id]=!0,d)})}),T()}function B(){e(2,d={}),T()}const p=k=>d[k.id],O=(k,S)=>v(k,S.subcategories),G=k=>V(k.id);return l.$$set=k=>{"selectedCategories"in k&&e(10,o=k.selectedCategories),"title"in k&&e(0,m=k.title),"description"in k&&e(1,_=k.description)},l.$$.update=()=>{l.$$.dirty&1024&&(e(2,d={}),o.forEach(k=>{e(2,d[k]=!0,d)})),l.$$.dirty&4&&e(5,r=Object.values(d).filter(Boolean).length),l.$$.dirty&8&&e(4,i=Object.values(a).reduce((k,S)=>k+S.subcategories.length,0))},[m,_,d,a,i,r,V,v,D,B,o,p,O,G]}class ws extends dl{constructor(t){super(),fl(this,t,Is,ys,ul,{selectedCategories:10,title:0,description:1})}}function Ul(l,t,e){const r=l.slice();return r[25]=t[e],r}function Ml(l,t,e){const r=l.slice();return r[28]=t[e],r}function Ol(l,t,e){const r=l.slice();return r[25]=t[e],r}function Fl(l,t,e){const r=l.slice();return r[25]=t[e],r}function Hl(l){let t,e,r=l[4]==="new"?"New Ranking Group":"Edit Ranking Group",i,a,o,m,_="Group Name",g,d,T,V,v,D="Description (optional)",B,p,O,G,k,S="Categories in this group",Z,U,M,A,H,j="Cancel",w,h,I=l[4]==="new"?"Create Group":"Save Changes",y,R,X,q,L=Ee(l[4]==="new"?l[8]:l[1]),J=[];for(let W=0;W<L.length;W+=1)J[W]=Rl(Fl(l,L,W));return{c(){t=c("div"),e=c("h4"),i=Y(r),a=C(),o=c("div"),m=c("label"),m.textContent=_,g=C(),d=c("input"),T=C(),V=c("div"),v=c("label"),v.textContent=D,B=C(),p=c("textarea"),O=C(),G=c("div"),k=c("label"),k.textContent=S,Z=C(),U=c("div");for(let W=0;W<J.length;W+=1)J[W].c();M=C(),A=c("div"),H=c("button"),H.textContent=j,w=C(),h=c("button"),y=Y(I),this.h()},l(W){t=u(W,"DIV",{class:!0});var z=E(t);e=u(z,"H4",{class:!0});var P=E(e);i=K(P,r),P.forEach(f),a=b(z),o=u(z,"DIV",{class:!0});var $=E(o);m=u($,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(m)!=="svelte-1w7crnx"&&(m.textContent=_),g=b($),d=u($,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),$.forEach(f),T=b(z),V=u(z,"DIV",{class:!0});var ie=E(V);v=u(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(v)!=="svelte-18bv6w1"&&(v.textContent=D),B=b(ie),p=u(ie,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,class:!0}),E(p).forEach(f),ie.forEach(f),O=b(z),G=u(z,"DIV",{class:!0});var re=E(G);k=u(re,"LABEL",{class:!0,"data-svelte-h":!0}),Q(k)!=="svelte-1kblhyq"&&(k.textContent=S),Z=b(re),U=u(re,"DIV",{class:!0});var at=E(U);for(let it=0;it<J.length;it+=1)J[it].l(at);at.forEach(f),re.forEach(f),M=b(z),A=u(z,"DIV",{class:!0});var Ve=E(A);H=u(Ve,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(H)!=="svelte-uuzg4x"&&(H.textContent=j),w=b(Ve),h=u(Ve,"BUTTON",{type:!0,class:!0});var we=E(h);y=K(we,I),we.forEach(f),Ve.forEach(f),z.forEach(f),this.h()},h(){n(e,"class","svelte-35dg2h"),n(m,"for","group-name"),n(m,"class","svelte-35dg2h"),n(d,"id","group-name"),n(d,"type","text"),n(d,"placeholder","e.g., Scottish and Irish Beers"),d.required=!0,n(d,"class","svelte-35dg2h"),n(o,"class","form-group svelte-35dg2h"),n(v,"for","group-description"),n(v,"class","svelte-35dg2h"),n(p,"id","group-description"),n(p,"placeholder","Description of this ranking group"),n(p,"rows","2"),n(p,"class","svelte-35dg2h"),n(V,"class","form-group svelte-35dg2h"),n(k,"class","svelte-35dg2h"),n(U,"class","category-selection svelte-35dg2h"),n(G,"class","form-group svelte-35dg2h"),n(H,"type","button"),n(H,"class","btn-secondary svelte-35dg2h"),n(h,"type","button"),n(h,"class","btn-primary svelte-35dg2h"),h.disabled=R=!l[5].trim()||l[7].length===0,n(A,"class","editor-actions svelte-35dg2h"),n(t,"class","group-editor svelte-35dg2h")},m(W,z){se(W,t,z),s(t,e),s(e,i),s(t,a),s(t,o),s(o,m),s(o,g),s(o,d),ne(d,l[5]),s(t,T),s(t,V),s(V,v),s(V,B),s(V,p),ne(p,l[6]),s(t,O),s(t,G),s(G,k),s(G,Z),s(G,U);for(let P=0;P<J.length;P+=1)J[P]&&J[P].m(U,null);s(t,M),s(t,A),s(A,H),s(A,w),s(A,h),s(h,y),X||(q=[ee(d,"input",l[18]),ee(p,"input",l[19]),ee(H,"click",l[11]),ee(h,"click",l[12])],X=!0)},p(W,z){if(z[0]&16&&r!==(r=W[4]==="new"?"New Ranking Group":"Edit Ranking Group")&&te(i,r),z[0]&32&&d.value!==W[5]&&ne(d,W[5]),z[0]&64&&ne(p,W[6]),z[0]&33682){L=Ee(W[4]==="new"?W[8]:W[1]);let P;for(P=0;P<L.length;P+=1){const $=Fl(W,L,P);J[P]?J[P].p($,z):(J[P]=Rl($),J[P].c(),J[P].m(U,null))}for(;P<J.length;P+=1)J[P].d(1);J.length=L.length}z[0]&16&&I!==(I=W[4]==="new"?"Create Group":"Save Changes")&&te(y,I),z[0]&160&&R!==(R=!W[5].trim()||W[7].length===0)&&(h.disabled=R)},d(W){W&&f(t),ct(J,W),X=!1,ht(q)}}}function Rl(l){let t,e,r,i,a,o=l[9](l[25]).fullName+"",m,_,g,d;function T(){return l[20](l[25])}return{c(){t=c("label"),e=c("input"),i=C(),a=c("span"),m=Y(o),_=C(),this.h()},l(V){t=u(V,"LABEL",{class:!0});var v=E(t);e=u(v,"INPUT",{type:!0,class:!0}),i=b(v),a=u(v,"SPAN",{});var D=E(a);m=K(D,o),D.forEach(f),_=b(v),v.forEach(f),this.h()},h(){n(e,"type","checkbox"),e.checked=r=l[7].includes(l[25]),n(e,"class","svelte-35dg2h"),n(t,"class","category-item svelte-35dg2h")},m(V,v){se(V,t,v),s(t,e),s(t,i),s(t,a),s(a,m),s(t,_),g||(d=ee(e,"change",T),g=!0)},p(V,v){l=V,v[0]&402&&r!==(r=l[7].includes(l[25]))&&(e.checked=r),v[0]&274&&o!==(o=l[9](l[25]).fullName+"")&&te(m,o)},d(V){V&&f(t),g=!1,d()}}}function Ts(l){let t,e=Ee(l[0]),r=[];for(let i=0;i<e.length;i+=1)r[i]=zl(Ml(l,e,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Pl()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=Pl()},m(i,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,a);se(i,t,a)},p(i,a){if(a[0]&25089){e=Ee(i[0]);let o;for(o=0;o<e.length;o+=1){const m=Ml(i,e,o);r[o]?r[o].p(m,a):(r[o]=zl(m),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d(i){i&&f(t),ct(r,i)}}}function Vs(l){let t,e="<p>No ranking groups created yet.</p> <p>Categories will be ranked individually by default.</p>";return{c(){t=c("div"),t.innerHTML=e,this.h()},l(r){t=u(r,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1jyc37r"&&(t.innerHTML=e),this.h()},h(){n(t,"class","empty-state svelte-35dg2h")},m(r,i){se(r,t,i)},p:ft,d(r){r&&f(t)}}}function ql(l){let t,e=l[28].description+"",r;return{c(){t=c("p"),r=Y(e),this.h()},l(i){t=u(i,"P",{class:!0});var a=E(t);r=K(a,e),a.forEach(f),this.h()},h(){n(t,"class","group-description svelte-35dg2h")},m(i,a){se(i,t,a),s(t,r)},p(i,a){a[0]&1&&e!==(e=i[28].description+"")&&te(r,e)},d(i){i&&f(t)}}}function Jl(l){let t,e=l[9](l[25]).fullName+"",r,i;return{c(){t=c("span"),r=Y(e),i=C(),this.h()},l(a){t=u(a,"SPAN",{class:!0});var o=E(t);r=K(o,e),i=b(o),o.forEach(f),this.h()},h(){n(t,"class","category-chip svelte-35dg2h")},m(a,o){se(a,t,o),s(t,r),s(t,i)},p(a,o){o[0]&1&&e!==(e=a[9](a[25]).fullName+"")&&te(r,e)},d(a){a&&f(t)}}}function zl(l){let t,e,r,i,a=l[28].name+"",o,m,_,g,d,T="Edit",V,v,D="Delete",B,p,O,G,k=l[28].categories.length+"",S,Z,U,M,A,H,j,w=l[28].description&&ql(l);function h(){return l[21](l[28])}function I(){return l[22](l[28])}let y=Ee(l[28].categories),R=[];for(let X=0;X<y.length;X+=1)R[X]=Jl(Ol(l,y,X));return{c(){t=c("div"),e=c("div"),r=c("div"),i=c("h4"),o=Y(a),m=C(),w&&w.c(),_=C(),g=c("div"),d=c("button"),d.textContent=T,V=C(),v=c("button"),v.textContent=D,B=C(),p=c("div"),O=c("strong"),G=Y("Categories ("),S=Y(k),Z=Y("):"),U=C(),M=c("div");for(let X=0;X<R.length;X+=1)R[X].c();A=C(),this.h()},l(X){t=u(X,"DIV",{class:!0});var q=E(t);e=u(q,"DIV",{class:!0});var L=E(e);r=u(L,"DIV",{});var J=E(r);i=u(J,"H4",{class:!0});var W=E(i);o=K(W,a),W.forEach(f),m=b(J),w&&w.l(J),J.forEach(f),_=b(L),g=u(L,"DIV",{class:!0});var z=E(g);d=u(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-fsle0s"&&(d.textContent=T),V=b(z),v=u(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(v)!=="svelte-13ir5ie"&&(v.textContent=D),z.forEach(f),L.forEach(f),B=b(q),p=u(q,"DIV",{class:!0});var P=E(p);O=u(P,"STRONG",{class:!0});var $=E(O);G=K($,"Categories ("),S=K($,k),Z=K($,"):"),$.forEach(f),U=b(P),M=u(P,"DIV",{class:!0});var ie=E(M);for(let re=0;re<R.length;re+=1)R[re].l(ie);ie.forEach(f),P.forEach(f),A=b(q),q.forEach(f),this.h()},h(){n(i,"class","group-name svelte-35dg2h"),n(d,"type","button"),n(d,"class","btn-link svelte-35dg2h"),n(v,"type","button"),n(v,"class","btn-link danger svelte-35dg2h"),n(g,"class","group-actions svelte-35dg2h"),n(e,"class","group-header svelte-35dg2h"),n(O,"class","svelte-35dg2h"),n(M,"class","category-chips svelte-35dg2h"),n(p,"class","group-categories svelte-35dg2h"),n(t,"class","group-card svelte-35dg2h")},m(X,q){se(X,t,q),s(t,e),s(e,r),s(r,i),s(i,o),s(r,m),w&&w.m(r,null),s(e,_),s(e,g),s(g,d),s(g,V),s(g,v),s(t,B),s(t,p),s(p,O),s(O,G),s(O,S),s(O,Z),s(p,U),s(p,M);for(let L=0;L<R.length;L+=1)R[L]&&R[L].m(M,null);s(t,A),H||(j=[ee(d,"click",h),ee(v,"click",I)],H=!0)},p(X,q){if(l=X,q[0]&1&&a!==(a=l[28].name+"")&&te(o,a),l[28].description?w?w.p(l,q):(w=ql(l),w.c(),w.m(r,null)):w&&(w.d(1),w=null),q[0]&1&&k!==(k=l[28].categories.length+"")&&te(S,k),q[0]&513){y=Ee(l[28].categories);let L;for(L=0;L<y.length;L+=1){const J=Ol(l,y,L);R[L]?R[L].p(J,q):(R[L]=Jl(J),R[L].c(),R[L].m(M,null))}for(;L<R.length;L+=1)R[L].d(1);R.length=y.length}},d(X){X&&f(t),w&&w.d(),ct(R,X),H=!1,ht(j)}}}function Wl(l){let t,e,r,i=l[8].length+"",a,o,m,_,g,d,T="These categories will be ranked individually.",V=Ee(l[8]),v=[];for(let D=0;D<V.length;D+=1)v[D]=Xl(Ul(l,V,D));return{c(){t=c("div"),e=c("strong"),r=Y("Unassigned Categories ("),a=Y(i),o=Y("):"),m=C(),_=c("div");for(let D=0;D<v.length;D+=1)v[D].c();g=C(),d=c("p"),d.textContent=T,this.h()},l(D){t=u(D,"DIV",{class:!0});var B=E(t);e=u(B,"STRONG",{});var p=E(e);r=K(p,"Unassigned Categories ("),a=K(p,i),o=K(p,"):"),p.forEach(f),m=b(B),_=u(B,"DIV",{class:!0});var O=E(_);for(let G=0;G<v.length;G+=1)v[G].l(O);O.forEach(f),g=b(B),d=u(B,"P",{class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-xx9pvi"&&(d.textContent=T),B.forEach(f),this.h()},h(){n(_,"class","category-chips svelte-35dg2h"),n(d,"class","warning-text svelte-35dg2h"),n(t,"class","unassigned-warning svelte-35dg2h")},m(D,B){se(D,t,B),s(t,e),s(e,r),s(e,a),s(e,o),s(t,m),s(t,_);for(let p=0;p<v.length;p+=1)v[p]&&v[p].m(_,null);s(t,g),s(t,d)},p(D,B){if(B[0]&256&&i!==(i=D[8].length+"")&&te(a,i),B[0]&768){V=Ee(D[8]);let p;for(p=0;p<V.length;p+=1){const O=Ul(D,V,p);v[p]?v[p].p(O,B):(v[p]=Xl(O),v[p].c(),v[p].m(_,null))}for(;p<v.length;p+=1)v[p].d(1);v.length=V.length}},d(D){D&&f(t),ct(v,D)}}}function Xl(l){let t,e=l[9](l[25]).fullName+"",r,i;return{c(){t=c("span"),r=Y(e),i=C(),this.h()},l(a){t=u(a,"SPAN",{class:!0});var o=E(t);r=K(o,e),i=b(o),o.forEach(f),this.h()},h(){n(t,"class","category-chip unassigned svelte-35dg2h")},m(a,o){se(a,t,o),s(t,r),s(t,i)},p(a,o){o[0]&256&&e!==(e=a[9](a[25]).fullName+"")&&te(r,e)},d(a){a&&f(t)}}}function Ns(l){let t,e,r,i,a,o,m,_,g,d,T="Create Individual Groups",V,v,D="Create Single Group",B,p,O="Add Custom Group",G,k,S,Z,U,M,A=l[4]&&Hl(l);function H(I,y){return I[0].length===0?Vs:Ts}let j=H(l),w=j(l),h=l[8].length>0&&Wl(l);return{c(){t=c("div"),e=c("div"),r=c("h3"),i=Y(l[2]),a=C(),o=c("p"),m=Y(l[3]),_=C(),g=c("div"),d=c("button"),d.textContent=T,V=C(),v=c("button"),v.textContent=D,B=C(),p=c("button"),p.textContent=O,G=C(),A&&A.c(),k=C(),S=c("div"),w.c(),Z=C(),h&&h.c(),this.h()},l(I){t=u(I,"DIV",{class:!0});var y=E(t);e=u(y,"DIV",{class:!0});var R=E(e);r=u(R,"H3",{class:!0});var X=E(r);i=K(X,l[2]),X.forEach(f),a=b(R),o=u(R,"P",{class:!0});var q=E(o);m=K(q,l[3]),q.forEach(f),_=b(R),g=u(R,"DIV",{class:!0});var L=E(g);d=u(L,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-1n2m2rd"&&(d.textContent=T),V=b(L),v=u(L,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(v)!=="svelte-qg6zcb"&&(v.textContent=D),B=b(L),p=u(L,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(p)!=="svelte-124nxfp"&&(p.textContent=O),L.forEach(f),R.forEach(f),G=b(y),A&&A.l(y),k=b(y),S=u(y,"DIV",{class:!0});var J=E(S);w.l(J),Z=b(J),h&&h.l(J),J.forEach(f),y.forEach(f),this.h()},h(){n(r,"class","title svelte-35dg2h"),n(o,"class","description svelte-35dg2h"),n(d,"type","button"),n(d,"class","btn-secondary svelte-35dg2h"),n(v,"type","button"),n(v,"class","btn-secondary svelte-35dg2h"),n(p,"type","button"),n(p,"class","btn-primary svelte-35dg2h"),n(g,"class","actions svelte-35dg2h"),n(e,"class","header svelte-35dg2h"),n(S,"class","groups-list"),n(t,"class","ranking-group-manager svelte-35dg2h")},m(I,y){se(I,t,y),s(t,e),s(e,r),s(r,i),s(e,a),s(e,o),s(o,m),s(e,_),s(e,g),s(g,d),s(g,V),s(g,v),s(g,B),s(g,p),s(t,G),A&&A.m(t,null),s(t,k),s(t,S),w.m(S,null),s(S,Z),h&&h.m(S,null),U||(M=[ee(d,"click",l[16]),ee(v,"click",l[17]),ee(p,"click",l[10])],U=!0)},p(I,y){y[0]&4&&te(i,I[2]),y[0]&8&&te(m,I[3]),I[4]?A?A.p(I,y):(A=Hl(I),A.c(),A.m(t,k)):A&&(A.d(1),A=null),j===(j=H(I))&&w?w.p(I,y):(w.d(1),w=j(I),w&&(w.c(),w.m(S,Z))),I[8].length>0?h?h.p(I,y):(h=Wl(I),h.c(),h.m(S,null)):h&&(h.d(1),h=null)},i:ft,o:ft,d(I){I&&f(t),A&&A.d(),w.d(),h&&h.d(),U=!1,ht(M)}}}function Ss(l,t,e){let r,i;cl(l,hs,h=>e(23,i=h));let{rankingGroups:a=[]}=t,{selectedCategories:o=[]}=t,{title:m="Ranking Groups"}=t,{description:_="Group categories together for ranking. Categories in the same group will be ranked against each other."}=t;const g=ss();let d=null,T="",V="",v=[];function D(h){for(const I of Object.values(i)){const y=I.subcategories.find(R=>R.id===h);if(y)return{number:I.number,letter:y.letter,name:y.name,fullName:`${I.number}${y.letter} - ${y.name}`}}return{fullName:"Unknown Category"}}function B(){e(4,d="new"),e(5,T=""),e(6,V=""),e(7,v=[])}function p(){e(4,d=null),e(5,T=""),e(6,V=""),e(7,v=[])}function O(){if(!T.trim()||v.length===0)return;const h={id:d==="new"?Date.now().toString():d,name:T.trim(),description:V.trim(),categories:[...v]};d==="new"?e(0,a=[...a,h]):e(0,a=a.map(I=>I.id===d?h:I)),g("change",a),p()}function G(h){e(4,d=h.id),e(5,T=h.name),e(6,V=h.description),e(7,v=[...h.categories])}function k(h){confirm("Are you sure you want to delete this ranking group?")&&(e(0,a=a.filter(I=>I.id!==h)),g("change",a))}function S(h){v.includes(h)?e(7,v=v.filter(I=>I!==h)):e(7,v=[...v,h])}function Z(){if(confirm("This will create individual ranking groups for each category. Continue?")){const h=o.map(I=>{const y=D(I);return{id:Date.now().toString()+Math.random().toString(),name:`Category ${y.number}${y.letter}`,description:y.name,categories:[I]}});e(0,a=h),g("change",a)}}function U(){const h={id:Date.now().toString(),name:"All Categories",description:"All selected categories ranked together",categories:[...o]};e(0,a=[h]),g("change",a)}function M(){T=this.value,e(5,T)}function A(){V=this.value,e(6,V)}const H=h=>S(h),j=h=>G(h),w=h=>k(h.id);return l.$$set=h=>{"rankingGroups"in h&&e(0,a=h.rankingGroups),"selectedCategories"in h&&e(1,o=h.selectedCategories),"title"in h&&e(2,m=h.title),"description"in h&&e(3,_=h.description)},l.$$.update=()=>{l.$$.dirty[0]&3&&e(8,r=o.filter(h=>!a.some(I=>I.categories.includes(h))))},[a,o,m,_,d,T,V,v,r,D,B,p,O,G,k,S,Z,U,M,A,H,j,w]}class As extends dl{constructor(t){super(),fl(this,t,Ss,Ns,ul,{rankingGroups:0,selectedCategories:1,title:2,description:3},null,[-1,-1])}}function Kl(l){let t,e=l[14].name+"",r;return{c(){t=c("div"),r=Y(e),this.h()},l(i){t=u(i,"DIV",{class:!0});var a=E(t);r=K(a,e),a.forEach(f),this.h()},h(){n(t,"class","error-message svelte-1u9d71b")},m(i,a){se(i,t,a),s(t,r)},p(i,a){a[0]&16384&&e!==(e=i[14].name+"")&&te(r,e)},d(i){i&&f(t)}}}function Yl(l){let t,e=l[14].description+"",r;return{c(){t=c("div"),r=Y(e),this.h()},l(i){t=u(i,"DIV",{class:!0});var a=E(t);r=K(a,e),a.forEach(f),this.h()},h(){n(t,"class","error-message svelte-1u9d71b")},m(i,a){se(i,t,a),s(t,r)},p(i,a){a[0]&16384&&e!==(e=i[14].description+"")&&te(r,e)},d(i){i&&f(t)}}}function Ql(l){let t,e=l[14].entryDeadline+"",r;return{c(){t=c("div"),r=Y(e),this.h()},l(i){t=u(i,"DIV",{class:!0});var a=E(t);r=K(a,e),a.forEach(f),this.h()},h(){n(t,"class","error-message svelte-1u9d71b")},m(i,a){se(i,t,a),s(t,r)},p(i,a){a[0]&16384&&e!==(e=i[14].entryDeadline+"")&&te(r,e)},d(i){i&&f(t)}}}function Zl(l){let t,e=l[14].judgingDate+"",r;return{c(){t=c("div"),r=Y(e),this.h()},l(i){t=u(i,"DIV",{class:!0});var a=E(t);r=K(a,e),a.forEach(f),this.h()},h(){n(t,"class","error-message svelte-1u9d71b")},m(i,a){se(i,t,a),s(t,r)},p(i,a){a[0]&16384&&e!==(e=i[14].judgingDate+"")&&te(r,e)},d(i){i&&f(t)}}}function xl(l){let t,e=l[14].entryFee+"",r;return{c(){t=c("div"),r=Y(e),this.h()},l(i){t=u(i,"DIV",{class:!0});var a=E(t);r=K(a,e),a.forEach(f),this.h()},h(){n(t,"class","error-message svelte-1u9d71b")},m(i,a){se(i,t,a),s(t,r)},p(i,a){a[0]&16384&&e!==(e=i[14].entryFee+"")&&te(r,e)},d(i){i&&f(t)}}}function $l(l){let t,e=l[14].maxEntriesPerMember+"",r;return{c(){t=c("div"),r=Y(e),this.h()},l(i){t=u(i,"DIV",{class:!0});var a=E(t);r=K(a,e),a.forEach(f),this.h()},h(){n(t,"class","error-message svelte-1u9d71b")},m(i,a){se(i,t,a),s(t,r)},p(i,a){a[0]&16384&&e!==(e=i[14].maxEntriesPerMember+"")&&te(r,e)},d(i){i&&f(t)}}}function es(l){let t,e,r,i,a;function o(g){l[30](g)}let m={};l[11]!==void 0&&(m.selectedCategories=l[11]),e=new ws({props:m}),ns.push(()=>is(e,"selectedCategories",o)),e.$on("change",l[31]);let _=l[11].length>0&&ts(l);return{c(){t=c("div"),fs(e.$$.fragment),i=C(),_&&_.c(),this.h()},l(g){t=u(g,"DIV",{class:!0});var d=E(t);ds(e.$$.fragment,d),i=b(d),_&&_.l(d),d.forEach(f),this.h()},h(){n(t,"class","custom-category-section svelte-1u9d71b")},m(g,d){se(g,t,d),cs(e,t,null),s(t,i),_&&_.m(t,null),a=!0},p(g,d){const T={};!r&&d[0]&2048&&(r=!0,T.selectedCategories=g[11],rs(()=>r=!1)),e.$set(T),g[11].length>0?_?(_.p(g,d),d[0]&2048&&Ye(_,1)):(_=ts(g),_.c(),Ye(_,1),_.m(t,null)):_&&(us(),ut(_,1,1,()=>{_=null}),as())},i(g){a||(Ye(e.$$.fragment,g),Ye(_),a=!0)},o(g){ut(e.$$.fragment,g),ut(_),a=!1},d(g){g&&f(t),os(e),_&&_.d()}}}function ts(l){let t,e,r,i;function a(m){l[32](m)}let o={selectedCategories:l[11]};return l[12]!==void 0&&(o.rankingGroups=l[12]),e=new As({props:o}),ns.push(()=>is(e,"rankingGroups",a)),e.$on("change",Gs),{c(){t=c("div"),fs(e.$$.fragment),this.h()},l(m){t=u(m,"DIV",{style:!0});var _=E(t);ds(e.$$.fragment,_),_.forEach(f),this.h()},h(){ms(t,"margin-top","1.5rem")},m(m,_){se(m,t,_),cs(e,t,null),i=!0},p(m,_){const g={};_[0]&2048&&(g.selectedCategories=m[11]),!r&&_[0]&4096&&(r=!0,g.rankingGroups=m[12],rs(()=>r=!1)),e.$set(g)},i(m){i||(Ye(e.$$.fragment,m),i=!0)},o(m){ut(e.$$.fragment,m),i=!1},d(m){m&&f(t),os(e)}}}function Ps(l){let t,e,r='<h1 class="svelte-1u9d71b"><span class="emoji svelte-1u9d71b">üèÜ</span> Create Competition</h1> <p class="subtitle svelte-1u9d71b">Set up a new brewing competition</p>',i,a,o,m,_="Basic Information",g,d,T,V="Competition Name",v,D,B,p,O,G,k,S="Description",Z,U,M,A,H,j,w="Provide any additional details about the competition",h,I,y="Important Dates",R,X,q,L,J="Entry Deadline",W,z,P,$,ie,re,at,Ve,we,it="Date and time when entries close",Lt,me,Se,hl="Judging Date",Bt,Ae,ke,vt,jt,De,Ut,gt,Qe,vl="Date and time when judging will take place",Mt,Pe,ye,Ot,Ge,gl="Keep judging date private until after entry deadline",Ft,Ze,pl="Entry Settings",Ht,Le,be,Be,_l="Entry Fee ($)",Rt,oe,pt,qt,_t,xe,ml="Fee per entry (0 for free)",Jt,Ce,je,bl="Max Entries Per Member",zt,_e,mt,Wt,bt,$e,Cl="Maximum entries allowed per member",Xt,et,kl="Category System",Kt,Ue,tt,El="Ranking System",Yt,Me,Oe,ue,Qt,lt,Dl='<strong class="svelte-1u9d71b">Default BJCP System</strong> <div class="radio-description svelte-1u9d71b">Allow all BJCP categories, rank each category individually</div>',Zt,Fe,ce,xt,st,yl='<strong class="svelte-1u9d71b">Custom Category Selection</strong> <div class="radio-description svelte-1u9d71b">Select specific categories and create custom ranking groups</div>',$t,Ct,nt,Il="Status",el,He,Ie,tl,Re,wl="Competition is active and accepting entries",ll,rt,Tl="Uncheck to create as draft (can be activated later)",sl,qe,Te,nl,rl,Ne,dt=l[13]?"Creating...":"Create Competition",kt,le,al,il,Vl,de=l[14].name&&Kl(l),fe=l[14].description&&Yl(l),he=l[14].entryDeadline&&Ql(l),ve=l[14].judgingDate&&Zl(l),ge=l[14].entryFee&&xl(l),pe=l[14].maxEntriesPerMember&&$l(l),ae=l[10]==="custom"&&es(l);return al=vs(l[28][0]),{c(){t=c("div"),e=c("div"),e.innerHTML=r,i=C(),a=c("div"),o=c("form"),m=c("div"),m.textContent=_,g=C(),d=c("div"),T=c("label"),T.textContent=V,v=C(),D=c("input"),p=C(),de&&de.c(),O=C(),G=c("div"),k=c("label"),k.textContent=S,Z=C(),U=c("textarea"),A=C(),fe&&fe.c(),H=C(),j=c("div"),j.textContent=w,h=C(),I=c("div"),I.textContent=y,R=C(),X=c("div"),q=c("div"),L=c("label"),L.textContent=J,W=C(),z=c("div"),P=c("input"),ie=C(),re=c("input"),at=C(),he&&he.c(),Ve=C(),we=c("div"),we.textContent=it,Lt=C(),me=c("div"),Se=c("label"),Se.textContent=hl,Bt=C(),Ae=c("div"),ke=c("input"),jt=C(),De=c("input"),Ut=C(),ve&&ve.c(),gt=C(),Qe=c("div"),Qe.textContent=vl,Mt=C(),Pe=c("div"),ye=c("input"),Ot=C(),Ge=c("label"),Ge.textContent=gl,Ft=C(),Ze=c("div"),Ze.textContent=pl,Ht=C(),Le=c("div"),be=c("div"),Be=c("label"),Be.textContent=_l,Rt=C(),oe=c("input"),qt=C(),ge&&ge.c(),_t=C(),xe=c("div"),xe.textContent=ml,Jt=C(),Ce=c("div"),je=c("label"),je.textContent=bl,zt=C(),_e=c("input"),Wt=C(),pe&&pe.c(),bt=C(),$e=c("div"),$e.textContent=Cl,Xt=C(),et=c("div"),et.textContent=kl,Kt=C(),Ue=c("div"),tt=c("label"),tt.textContent=El,Yt=C(),Me=c("div"),Oe=c("label"),ue=c("input"),Qt=C(),lt=c("span"),lt.innerHTML=Dl,Zt=C(),Fe=c("label"),ce=c("input"),xt=C(),st=c("span"),st.innerHTML=yl,$t=C(),ae&&ae.c(),Ct=C(),nt=c("div"),nt.textContent=Il,el=C(),He=c("div"),Ie=c("input"),tl=C(),Re=c("label"),Re.textContent=wl,ll=C(),rt=c("div"),rt.textContent=Tl,sl=C(),qe=c("div"),Te=c("button"),nl=Y("Cancel"),rl=C(),Ne=c("button"),kt=Y(dt),this.h()},l(N){t=u(N,"DIV",{class:!0});var F=E(t);e=u(F,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-17h7a6a"&&(e.innerHTML=r),i=b(F),a=u(F,"DIV",{class:!0});var Nl=E(a);o=u(Nl,"FORM",{});var x=E(o);m=u(x,"DIV",{class:!0,"data-svelte-h":!0}),Q(m)!=="svelte-1wptp77"&&(m.textContent=_),g=b(x),d=u(x,"DIV",{class:!0});var ot=E(d);T=u(ot,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(T)!=="svelte-zrd23n"&&(T.textContent=V),v=b(ot),D=u(ot,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,maxlength:!0}),p=b(ot),de&&de.l(ot),ot.forEach(f),O=b(x),G=u(x,"DIV",{class:!0});var Je=E(G);k=u(Je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(k)!=="svelte-1tds9bi"&&(k.textContent=S),Z=b(Je),U=u(Je,"TEXTAREA",{id:!0,class:!0,placeholder:!0,maxlength:!0}),E(U).forEach(f),A=b(Je),fe&&fe.l(Je),H=b(Je),j=u(Je,"DIV",{class:!0,"data-svelte-h":!0}),Q(j)!=="svelte-1xuy3fr"&&(j.textContent=w),Je.forEach(f),h=b(x),I=u(x,"DIV",{class:!0,"data-svelte-h":!0}),Q(I)!=="svelte-k8kt80"&&(I.textContent=y),R=b(x),X=u(x,"DIV",{class:!0});var Et=E(X);q=u(Et,"DIV",{class:!0});var ze=E(q);L=u(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(L)!=="svelte-1uv1vuu"&&(L.textContent=J),W=b(ze),z=u(ze,"DIV",{class:!0});var Dt=E(z);P=u(Dt,"INPUT",{type:!0,id:!0,class:!0}),ie=b(Dt),re=u(Dt,"INPUT",{type:!0,id:!0,class:!0}),Dt.forEach(f),at=b(ze),he&&he.l(ze),Ve=b(ze),we=u(ze,"DIV",{class:!0,"data-svelte-h":!0}),Q(we)!=="svelte-1w2hm0"&&(we.textContent=it),ze.forEach(f),Lt=b(Et),me=u(Et,"DIV",{class:!0});var We=E(me);Se=u(We,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(Se)!=="svelte-1n4hh8e"&&(Se.textContent=hl),Bt=b(We),Ae=u(We,"DIV",{class:!0});var yt=E(Ae);ke=u(yt,"INPUT",{type:!0,id:!0,class:!0}),jt=b(yt),De=u(yt,"INPUT",{type:!0,id:!0,class:!0}),yt.forEach(f),Ut=b(We),ve&&ve.l(We),gt=b(We),Qe=u(We,"DIV",{class:!0,"data-svelte-h":!0}),Q(Qe)!=="svelte-1910duc"&&(Qe.textContent=vl),We.forEach(f),Et.forEach(f),Mt=b(x),Pe=u(x,"DIV",{class:!0});var It=E(Pe);ye=u(It,"INPUT",{type:!0,id:!0,class:!0}),Ot=b(It),Ge=u(It,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(Ge)!=="svelte-1jn0i0c"&&(Ge.textContent=gl),It.forEach(f),Ft=b(x),Ze=u(x,"DIV",{class:!0,"data-svelte-h":!0}),Q(Ze)!=="svelte-1shdzwa"&&(Ze.textContent=pl),Ht=b(x),Le=u(x,"DIV",{class:!0});var wt=E(Le);be=u(wt,"DIV",{class:!0});var Xe=E(be);Be=u(Xe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(Be)!=="svelte-hrj0bz"&&(Be.textContent=_l),Rt=b(Xe),oe=u(Xe,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0,step:!0}),qt=b(Xe),ge&&ge.l(Xe),_t=b(Xe),xe=u(Xe,"DIV",{class:!0,"data-svelte-h":!0}),Q(xe)!=="svelte-1bbt373"&&(xe.textContent=ml),Xe.forEach(f),Jt=b(wt),Ce=u(wt,"DIV",{class:!0});var Ke=E(Ce);je=u(Ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(je)!=="svelte-vuu2kx"&&(je.textContent=bl),zt=b(Ke),_e=u(Ke,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0}),Wt=b(Ke),pe&&pe.l(Ke),bt=b(Ke),$e=u(Ke,"DIV",{class:!0,"data-svelte-h":!0}),Q($e)!=="svelte-rxxb3h"&&($e.textContent=Cl),Ke.forEach(f),wt.forEach(f),Xt=b(x),et=u(x,"DIV",{class:!0,"data-svelte-h":!0}),Q(et)!=="svelte-dsh9im"&&(et.textContent=kl),Kt=b(x),Ue=u(x,"DIV",{class:!0});var Tt=E(Ue);tt=u(Tt,"LABEL",{class:!0,"data-svelte-h":!0}),Q(tt)!=="svelte-1om2l1x"&&(tt.textContent=El),Yt=b(Tt),Me=u(Tt,"DIV",{class:!0});var Vt=E(Me);Oe=u(Vt,"LABEL",{class:!0});var Nt=E(Oe);ue=u(Nt,"INPUT",{type:!0,class:!0}),Qt=b(Nt),lt=u(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),Q(lt)!=="svelte-xfz1wf"&&(lt.innerHTML=Dl),Nt.forEach(f),Zt=b(Vt),Fe=u(Vt,"LABEL",{class:!0});var St=E(Fe);ce=u(St,"INPUT",{type:!0,class:!0}),xt=b(St),st=u(St,"SPAN",{class:!0,"data-svelte-h":!0}),Q(st)!=="svelte-bt4dgz"&&(st.innerHTML=yl),St.forEach(f),Vt.forEach(f),Tt.forEach(f),$t=b(x),ae&&ae.l(x),Ct=b(x),nt=u(x,"DIV",{class:!0,"data-svelte-h":!0}),Q(nt)!=="svelte-f5f1f"&&(nt.textContent=Il),el=b(x),He=u(x,"DIV",{class:!0});var At=E(He);Ie=u(At,"INPUT",{type:!0,id:!0,class:!0}),tl=b(At),Re=u(At,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(Re)!=="svelte-1ndmbi4"&&(Re.textContent=wl),At.forEach(f),ll=b(x),rt=u(x,"DIV",{class:!0,"data-svelte-h":!0}),Q(rt)!=="svelte-gdub36"&&(rt.textContent=Tl),sl=b(x),qe=u(x,"DIV",{class:!0});var Pt=E(qe);Te=u(Pt,"BUTTON",{type:!0,class:!0});var Sl=E(Te);nl=K(Sl,"Cancel"),Sl.forEach(f),rl=b(Pt),Ne=u(Pt,"BUTTON",{type:!0,class:!0});var Al=E(Ne);kt=K(Al,dt),Al.forEach(f),Pt.forEach(f),x.forEach(f),Nl.forEach(f),F.forEach(f),this.h()},h(){n(e,"class","hero svelte-1u9d71b"),n(m,"class","section-title svelte-1u9d71b"),n(T,"for","name"),n(T,"class","required svelte-1u9d71b"),n(D,"type","text"),n(D,"id","name"),n(D,"class",B="form-control "+(l[14].name?"error":"")+" svelte-1u9d71b"),n(D,"placeholder","e.g., Spring 2025 Homebrew Competition"),n(D,"maxlength","100"),D.disabled=l[13],n(d,"class","form-group svelte-1u9d71b"),n(k,"for","description"),n(k,"class","svelte-1u9d71b"),n(U,"id","description"),n(U,"class",M="form-control "+(l[14].description?"error":"")+" svelte-1u9d71b"),n(U,"placeholder","Optional description or special instructions"),n(U,"maxlength","500"),U.disabled=l[13],n(j,"class","help-text svelte-1u9d71b"),n(G,"class","form-group svelte-1u9d71b"),n(I,"class","section-title svelte-1u9d71b"),n(L,"for","entryDeadline"),n(L,"class","required svelte-1u9d71b"),n(P,"type","date"),n(P,"id","entryDeadline"),n(P,"class",$="form-control "+(l[14].entryDeadline?"error":"")+" svelte-1u9d71b"),P.disabled=l[13],n(re,"type","time"),n(re,"id","entryDeadlineTime"),n(re,"class","form-control time-input svelte-1u9d71b"),re.disabled=l[13],n(z,"class","datetime-inputs svelte-1u9d71b"),n(we,"class","help-text svelte-1u9d71b"),n(q,"class","form-group svelte-1u9d71b"),n(Se,"for","judgingDate"),n(Se,"class","required svelte-1u9d71b"),n(ke,"type","date"),n(ke,"id","judgingDate"),n(ke,"class",vt="form-control "+(l[14].judgingDate?"error":"")+" svelte-1u9d71b"),ke.disabled=l[13],n(De,"type","time"),n(De,"id","judgingDateTime"),n(De,"class","form-control time-input svelte-1u9d71b"),De.disabled=l[13],n(Ae,"class","datetime-inputs svelte-1u9d71b"),n(Qe,"class","help-text svelte-1u9d71b"),n(me,"class","form-group svelte-1u9d71b"),n(X,"class","form-row svelte-1u9d71b"),n(ye,"type","checkbox"),n(ye,"id","hideJudgingDate"),ye.disabled=l[13],n(ye,"class","svelte-1u9d71b"),n(Ge,"for","hideJudgingDate"),n(Ge,"class","svelte-1u9d71b"),n(Pe,"class","checkbox-group svelte-1u9d71b"),n(Ze,"class","section-title svelte-1u9d71b"),n(Be,"for","entryFee"),n(Be,"class","svelte-1u9d71b"),n(oe,"type","number"),n(oe,"id","entryFee"),n(oe,"class",pt="form-control "+(l[14].entryFee?"error":"")+" svelte-1u9d71b"),n(oe,"min","0"),n(oe,"max","100"),n(oe,"step","1"),oe.disabled=l[13],n(xe,"class","help-text svelte-1u9d71b"),n(be,"class","form-group svelte-1u9d71b"),n(je,"for","maxEntries"),n(je,"class","svelte-1u9d71b"),n(_e,"type","number"),n(_e,"id","maxEntries"),n(_e,"class",mt="form-control "+(l[14].maxEntriesPerMember?"error":"")+" svelte-1u9d71b"),n(_e,"min","1"),n(_e,"max","20"),_e.disabled=l[13],n($e,"class","help-text svelte-1u9d71b"),n(Ce,"class","form-group svelte-1u9d71b"),n(Le,"class","form-row svelte-1u9d71b"),n(et,"class","section-title svelte-1u9d71b"),n(tt,"class","svelte-1u9d71b"),n(ue,"type","radio"),ue.__value="default",ne(ue,ue.__value),ue.disabled=l[13],n(ue,"class","svelte-1u9d71b"),n(lt,"class","radio-label svelte-1u9d71b"),n(Oe,"class","radio-option svelte-1u9d71b"),n(ce,"type","radio"),ce.__value="custom",ne(ce,ce.__value),ce.disabled=l[13],n(ce,"class","svelte-1u9d71b"),n(st,"class","radio-label svelte-1u9d71b"),n(Fe,"class","radio-option svelte-1u9d71b"),n(Me,"class","radio-group svelte-1u9d71b"),n(Ue,"class","form-group svelte-1u9d71b"),n(nt,"class","section-title svelte-1u9d71b"),n(Ie,"type","checkbox"),n(Ie,"id","isActive"),Ie.disabled=l[13],n(Ie,"class","svelte-1u9d71b"),n(Re,"for","isActive"),n(Re,"class","svelte-1u9d71b"),n(He,"class","checkbox-group svelte-1u9d71b"),n(rt,"class","help-text svelte-1u9d71b"),n(Te,"type","button"),n(Te,"class","btn btn-secondary svelte-1u9d71b"),Te.disabled=l[13],n(Ne,"type","submit"),n(Ne,"class","btn btn-primary svelte-1u9d71b"),Ne.disabled=l[13],n(qe,"class","form-actions svelte-1u9d71b"),n(a,"class","form-card svelte-1u9d71b"),n(t,"class","container svelte-1u9d71b"),al.p(ue,ce)},m(N,F){se(N,t,F),s(t,e),s(t,i),s(t,a),s(a,o),s(o,m),s(o,g),s(o,d),s(d,T),s(d,v),s(d,D),ne(D,l[0]),s(d,p),de&&de.m(d,null),s(o,O),s(o,G),s(G,k),s(G,Z),s(G,U),ne(U,l[1]),s(G,A),fe&&fe.m(G,null),s(G,H),s(G,j),s(o,h),s(o,I),s(o,R),s(o,X),s(X,q),s(q,L),s(q,W),s(q,z),s(z,P),ne(P,l[2]),s(z,ie),s(z,re),ne(re,l[3]),s(q,at),he&&he.m(q,null),s(q,Ve),s(q,we),s(X,Lt),s(X,me),s(me,Se),s(me,Bt),s(me,Ae),s(Ae,ke),ne(ke,l[4]),s(Ae,jt),s(Ae,De),ne(De,l[5]),s(me,Ut),ve&&ve.m(me,null),s(me,gt),s(me,Qe),s(o,Mt),s(o,Pe),s(Pe,ye),ye.checked=l[9],s(Pe,Ot),s(Pe,Ge),s(o,Ft),s(o,Ze),s(o,Ht),s(o,Le),s(Le,be),s(be,Be),s(be,Rt),s(be,oe),ne(oe,l[6]),s(be,qt),ge&&ge.m(be,null),s(be,_t),s(be,xe),s(Le,Jt),s(Le,Ce),s(Ce,je),s(Ce,zt),s(Ce,_e),ne(_e,l[7]),s(Ce,Wt),pe&&pe.m(Ce,null),s(Ce,bt),s(Ce,$e),s(o,Xt),s(o,et),s(o,Kt),s(o,Ue),s(Ue,tt),s(Ue,Yt),s(Ue,Me),s(Me,Oe),s(Oe,ue),ue.checked=ue.__value===l[10],s(Oe,Qt),s(Oe,lt),s(Me,Zt),s(Me,Fe),s(Fe,ce),ce.checked=ce.__value===l[10],s(Fe,xt),s(Fe,st),s(o,$t),ae&&ae.m(o,null),s(o,Ct),s(o,nt),s(o,el),s(o,He),s(He,Ie),Ie.checked=l[8],s(He,tl),s(He,Re),s(o,ll),s(o,rt),s(o,sl),s(o,qe),s(qe,Te),s(Te,nl),s(qe,rl),s(qe,Ne),s(Ne,kt),le=!0,il||(Vl=[ee(D,"input",l[18]),ee(U,"input",l[19]),ee(P,"input",l[20]),ee(re,"input",l[21]),ee(ke,"input",l[22]),ee(De,"input",l[23]),ee(ye,"change",l[24]),ee(oe,"input",l[25]),ee(_e,"input",l[26]),ee(ue,"change",l[27]),ee(ce,"change",l[29]),ee(Ie,"change",l[33]),ee(Te,"click",l[16]),ee(o,"submit",gs(l[15]))],il=!0)},p(N,F){(!le||F[0]&16384&&B!==(B="form-control "+(N[14].name?"error":"")+" svelte-1u9d71b"))&&n(D,"class",B),(!le||F[0]&8192)&&(D.disabled=N[13]),F[0]&1&&D.value!==N[0]&&ne(D,N[0]),N[14].name?de?de.p(N,F):(de=Kl(N),de.c(),de.m(d,null)):de&&(de.d(1),de=null),(!le||F[0]&16384&&M!==(M="form-control "+(N[14].description?"error":"")+" svelte-1u9d71b"))&&n(U,"class",M),(!le||F[0]&8192)&&(U.disabled=N[13]),F[0]&2&&ne(U,N[1]),N[14].description?fe?fe.p(N,F):(fe=Yl(N),fe.c(),fe.m(G,H)):fe&&(fe.d(1),fe=null),(!le||F[0]&16384&&$!==($="form-control "+(N[14].entryDeadline?"error":"")+" svelte-1u9d71b"))&&n(P,"class",$),(!le||F[0]&8192)&&(P.disabled=N[13]),F[0]&4&&ne(P,N[2]),(!le||F[0]&8192)&&(re.disabled=N[13]),F[0]&8&&ne(re,N[3]),N[14].entryDeadline?he?he.p(N,F):(he=Ql(N),he.c(),he.m(q,Ve)):he&&(he.d(1),he=null),(!le||F[0]&16384&&vt!==(vt="form-control "+(N[14].judgingDate?"error":"")+" svelte-1u9d71b"))&&n(ke,"class",vt),(!le||F[0]&8192)&&(ke.disabled=N[13]),F[0]&16&&ne(ke,N[4]),(!le||F[0]&8192)&&(De.disabled=N[13]),F[0]&32&&ne(De,N[5]),N[14].judgingDate?ve?ve.p(N,F):(ve=Zl(N),ve.c(),ve.m(me,gt)):ve&&(ve.d(1),ve=null),(!le||F[0]&8192)&&(ye.disabled=N[13]),F[0]&512&&(ye.checked=N[9]),(!le||F[0]&16384&&pt!==(pt="form-control "+(N[14].entryFee?"error":"")+" svelte-1u9d71b"))&&n(oe,"class",pt),(!le||F[0]&8192)&&(oe.disabled=N[13]),F[0]&64&&Gt(oe.value)!==N[6]&&ne(oe,N[6]),N[14].entryFee?ge?ge.p(N,F):(ge=xl(N),ge.c(),ge.m(be,_t)):ge&&(ge.d(1),ge=null),(!le||F[0]&16384&&mt!==(mt="form-control "+(N[14].maxEntriesPerMember?"error":"")+" svelte-1u9d71b"))&&n(_e,"class",mt),(!le||F[0]&8192)&&(_e.disabled=N[13]),F[0]&128&&Gt(_e.value)!==N[7]&&ne(_e,N[7]),N[14].maxEntriesPerMember?pe?pe.p(N,F):(pe=$l(N),pe.c(),pe.m(Ce,bt)):pe&&(pe.d(1),pe=null),(!le||F[0]&8192)&&(ue.disabled=N[13]),F[0]&1024&&(ue.checked=ue.__value===N[10]),(!le||F[0]&8192)&&(ce.disabled=N[13]),F[0]&1024&&(ce.checked=ce.__value===N[10]),N[10]==="custom"?ae?(ae.p(N,F),F[0]&1024&&Ye(ae,1)):(ae=es(N),ae.c(),Ye(ae,1),ae.m(o,Ct)):ae&&(us(),ut(ae,1,1,()=>{ae=null}),as()),(!le||F[0]&8192)&&(Ie.disabled=N[13]),F[0]&256&&(Ie.checked=N[8]),(!le||F[0]&8192)&&(Te.disabled=N[13]),(!le||F[0]&8192)&&dt!==(dt=N[13]?"Creating...":"Create Competition")&&te(kt,dt),(!le||F[0]&8192)&&(Ne.disabled=N[13])},i(N){le||(Ye(ae),le=!0)},o(N){ut(ae),le=!1},d(N){N&&f(t),de&&de.d(),fe&&fe.d(),he&&he.d(),ve&&ve.d(),ge&&ge.d(),pe&&pe.d(),ae&&ae.d(),al.r(),il=!1,ht(Vl)}}}function ls(l){const t=l.getFullYear(),e=String(l.getMonth()+1).padStart(2,"0"),r=String(l.getDate()).padStart(2,"0");return`${t}-${e}-${r}`}const Gs=()=>{};function Ls(l,t,e){let r;cl(l,bs,P=>e(17,r=P));let i="",a="",o="",m="00:00",_="",g="00:00",d=5,T=5,V=!0,v=!1,D="default",B=[],p=[],O=!1,G={};ps(async()=>{const P=new Date,$=new Date(P.getTime()+14*24*60*60*1e3),ie=new Date(P.getTime()+21*24*60*60*1e3);e(2,o=ls($)),e(4,_=ls(ie)),await ks()}),_s(()=>{});function k(){const P={};if(i.trim()?i.length>100&&(P.name="Name must be 100 characters or less"):P.name="Competition name is required",a&&a.length>500&&(P.description="Description must be 500 characters or less"),!o)P.entryDeadline="Entry deadline is required";else{const $=new Date(o),ie=new Date;ie.setHours(0,0,0,0),$<ie&&(P.entryDeadline="Entry deadline must be in the future")}if(!_)P.judgingDate="Judging date is required";else{const $=new Date(`${_}T${g}:00`),ie=new Date(`${o}T${m}:00`);$<=ie&&(P.judgingDate="Judging date and time must be after entry deadline")}return(d<0||d>100)&&(P.entryFee="Entry fee must be between $0 and $100"),(T<1||T>20)&&(P.maxEntriesPerMember="Max entries must be between 1 and 20"),e(14,G=P),Object.keys(P).length===0}async function S(){if(!k())return;e(13,O=!0);const P={name:i.trim(),description:a.trim()||null,entry_deadline:`${o}T${m}:00`,judging_date:`${_}T${g}:00`,entry_fee:d,max_entries_per_member:T,active:V,hide_judging_date:v,category_system:D,category_restrictions:D==="custom"?B:null,ranking_groups:D==="custom"?p:[]};try{const $=await Cs.createCompetition(P);if($&&$.id)ol("/officers/manage-competitions");else throw new Error("Competition was not created properly")}catch($){console.error("Error creating competition:",$),alert(`Error creating competition: ${$.message||"Unknown error occurred"}`),e(13,O=!1)}}function Z(){ol("/officers/manage-competitions")}const U=[[]];function M(){i=this.value,e(0,i)}function A(){a=this.value,e(1,a)}function H(){o=this.value,e(2,o)}function j(){m=this.value,e(3,m)}function w(){_=this.value,e(4,_)}function h(){g=this.value,e(5,g)}function I(){v=this.checked,e(9,v)}function y(){d=Gt(this.value),e(6,d)}function R(){T=Gt(this.value),e(7,T)}function X(){D=this.__value,e(10,D)}function q(){D=this.__value,e(10,D)}function L(P){B=P,e(11,B)}const J=()=>{e(12,p=[])};function W(P){p=P,e(12,p)}function z(){V=this.checked,e(8,V)}return l.$$.update=()=>{l.$$.dirty[0]&131072&&r&&!r.is_officer&&ol("/")},[i,a,o,m,_,g,d,T,V,v,D,B,p,O,G,S,Z,r,M,A,H,j,w,h,I,y,R,X,U,q,L,J,W,z]}class Rs extends dl{constructor(t){super(),fl(this,t,Ls,Ps,ul,{},null,[-1,-1])}}export{Rs as component};
