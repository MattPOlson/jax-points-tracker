import{s as je,d as c,i as V,B as Te,g as k,j as E,k as de,C as He,D as Me,r as Pe,b as o,w as me,q as m,c as _,e as D,E as z,h,n as pe,F as Ae,a as le,f as Q,t as W}from"../chunks/Clc9C5PT.js";import{S as Ne,i as qe,d as ie,t as U,a as F,m as ae,b as ne,e as oe,g as ge,c as $e}from"../chunks/D83E1sq8.js";import{e as be}from"../chunks/CERxzA5o.js";import{g as Je}from"../chunks/-d-XqP67.js";import{u as Be}from"../chunks/BZKsMI7B.js";import{s as Oe}from"../chunks/CCM_4jRA.js";import{l as Ce,g as ze,f as ke,i as Fe,a as Re,e as Ue,b as Xe}from"../chunks/B3mmljHY.js";import{l as Ge,e as Ke}from"../chunks/CyGXZAPq.js";import{C as Qe,H as We}from"../chunks/Pa8TRaQW.js";import{L as Ye}from"../chunks/Ciw1kpL_.js";import{E as Ve}from"../chunks/CkDLxbqM.js";import{B as Ee}from"../chunks/y2FrXkjx.js";function we(a,e,l){const t=a.slice();return t[18]=e[l],t}function ye(a){let e,l,t,s,i;return l=new Ee({props:{size:"sm",$$slots:{default:[Ze]},$$scope:{ctx:a}}}),s=new Ee({props:{variant:"warning",size:"sm",$$slots:{default:[xe]},$$scope:{ctx:a}}}),{c(){e=h("div"),oe(l.$$.fragment),t=E(),oe(s.$$.fragment),this.h()},l(n){e=_(n,"DIV",{class:!0});var f=D(e);ne(l.$$.fragment,f),t=k(f),ne(s.$$.fragment,f),f.forEach(c),this.h()},h(){m(e,"class","card-stats svelte-5e1e28")},m(n,f){V(n,e,f),ae(l,e,null),o(e,t),ae(s,e,null),i=!0},p(n,f){const p={};f&2097160&&(p.$$scope={dirty:f,ctx:n}),l.$set(p);const g={};f&2097160&&(g.$$scope={dirty:f,ctx:n}),s.$set(g)},i(n){i||(F(l.$$.fragment,n),F(s.$$.fragment,n),i=!0)},o(n){U(l.$$.fragment,n),U(s.$$.fragment,n),i=!1},d(n){n&&c(e),ie(l),ie(s)}}}function Ze(a){let e=a[3].total+"",l,t;return{c(){l=W(e),t=W(" entries")},l(s){l=Q(s,e),t=Q(s," entries")},m(s,i){V(s,l,i),V(s,t,i)},p(s,i){i&8&&e!==(e=s[3].total+"")&&le(l,e)},d(s){s&&(c(l),c(t))}}}function xe(a){let e=a[3].active+"",l,t;return{c(){l=W(e),t=W(" active")},l(s){l=Q(s,e),t=Q(s," active")},m(s,i){V(s,l,i),V(s,t,i)},p(s,i){i&8&&e!==(e=s[3].active+"")&&le(l,e)},d(s){s&&(c(l),c(t))}}}function De(a){let e,l='<div class="card-icon svelte-5e1e28">‚öñÔ∏è</div> <div class="card-content svelte-5e1e28"><h3 class="svelte-5e1e28">Judge Portal</h3> <p class="svelte-5e1e28">Access your assigned competitions for judging</p></div> <div class="card-arrow svelte-5e1e28">‚Üí</div>',t,s;return{c(){e=h("div"),e.innerHTML=l,this.h()},l(i){e=_(i,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-woj0ej"&&(e.innerHTML=l),this.h()},h(){m(e,"class","action-card judge-card svelte-5e1e28")},m(i,n){V(i,e,n),t||(s=me(e,"click",a[13]),t=!0)},p:pe,d(i){i&&c(e),t=!1,s()}}}function et(a){let e,l=be(a[7]),t=[];for(let s=0;s<l.length;s+=1)t[s]=Le(we(a,l,s));return{c(){e=h("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=_(s,"DIV",{class:!0});var i=D(e);for(let n=0;n<t.length;n+=1)t[n].l(i);i.forEach(c),this.h()},h(){m(e,"class","competitions-grid svelte-5e1e28")},m(s,i){V(s,e,i);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(s,i){if(i&896){l=be(s[7]);let n;for(n=0;n<l.length;n+=1){const f=we(s,l,n);t[n]?t[n].p(f,i):(t[n]=Le(f),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},i:pe,o:pe,d(s){s&&c(e),Ae(t,s)}}}function tt(a){let e,l;return e=new Ve({props:{icon:"üìÖ",title:"No Active Competitions",message:"Check back later for new competitions, or contact an officer for more information."}}),{c(){oe(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,s){ae(e,t,s),l=!0},p:pe,i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ie(e,t)}}}function st(a){let e,l;return e=new Ve({props:{icon:"‚ùå",title:"Error Loading Competitions",message:a[6],actionLabel:"üîÑ Retry"}}),e.$on("action",a[14]),{c(){oe(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,s){ae(e,t,s),l=!0},p(t,s){const i={};s&64&&(i.message=t[6]),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ie(e,t)}}}function lt(a){let e,l;return e=new Ye({props:{message:"Loading competitions..."}}),{c(){oe(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,s){ae(e,t,s),l=!0},p:pe,i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ie(e,t)}}}function Ie(a){let e,l=a[18].description+"",t;return{c(){e=h("p"),t=W(l),this.h()},l(s){e=_(s,"P",{class:!0});var i=D(e);t=Q(i,l),i.forEach(c),this.h()},h(){m(e,"class","description svelte-5e1e28")},m(s,i){V(s,e,i),o(e,t)},p(s,i){i&128&&l!==(l=s[18].description+"")&&le(t,l)},d(s){s&&c(e)}}}function Se(a){let e,l,t="Judging Date:",s,i,n=new Date(a[18].judging_date).toLocaleDateString()+"",f;return{c(){e=h("div"),l=h("span"),l.textContent=t,s=E(),i=h("span"),f=W(n),this.h()},l(p){e=_(p,"DIV",{class:!0});var g=D(e);l=_(g,"SPAN",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-lwhp25"&&(l.textContent=t),s=k(g),i=_(g,"SPAN",{class:!0});var j=D(i);f=Q(j,n),j.forEach(c),g.forEach(c),this.h()},h(){m(l,"class","label svelte-5e1e28"),m(i,"class","value svelte-5e1e28"),m(e,"class","meta-item svelte-5e1e28")},m(p,g){V(p,e,g),o(e,l),o(e,s),o(e,i),o(i,f)},p(p,g){g&128&&n!==(n=new Date(p[18].judging_date).toLocaleDateString()+"")&&le(f,n)},d(p){p&&c(e)}}}function Le(a){let e,l,t,s=a[18].name+"",i,n,f,p=a[9](a[18]).text+"",g,j,T,b,H,M,P,I,x="Entry Deadline:",G,q,u=ke(a[18])+"",S,X,J,K,B,ee="üç∫ Submit Entry",A,R,fe,w=a[18].description&&Ie(a),v=a[18].judging_date&&Se(a);return{c(){e=h("div"),l=h("div"),t=h("h3"),i=W(s),n=E(),f=h("div"),g=W(p),T=E(),b=h("div"),w&&w.c(),H=E(),M=h("div"),P=h("div"),I=h("span"),I.textContent=x,G=E(),q=h("span"),S=W(u),X=E(),v&&v.c(),J=E(),K=h("div"),B=h("button"),B.textContent=ee,A=E(),this.h()},l(d){e=_(d,"DIV",{class:!0});var C=D(e);l=_(C,"DIV",{class:!0});var N=D(l);t=_(N,"H3",{class:!0});var ue=D(t);i=Q(ue,s),ue.forEach(c),n=k(N),f=_(N,"DIV",{class:!0});var te=D(f);g=Q(te,p),te.forEach(c),N.forEach(c),T=k(C),b=_(C,"DIV",{class:!0});var Y=D(b);w&&w.l(Y),H=k(Y),M=_(Y,"DIV",{class:!0});var se=D(M);P=_(se,"DIV",{class:!0});var $=D(P);I=_($,"SPAN",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-1qymvy1"&&(I.textContent=x),G=k($),q=_($,"SPAN",{class:!0});var y=D(q);S=Q(y,u),y.forEach(c),$.forEach(c),X=k(se),v&&v.l(se),se.forEach(c),Y.forEach(c),J=k(C),K=_(C,"DIV",{class:!0});var ve=D(K);B=_(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),z(B)!=="svelte-jcq1sb"&&(B.textContent=ee),ve.forEach(c),A=k(C),C.forEach(c),this.h()},h(){m(t,"class","svelte-5e1e28"),m(f,"class",j="competition-status "+a[9](a[18]).class+" svelte-5e1e28"),m(l,"class","competition-header svelte-5e1e28"),m(I,"class","label svelte-5e1e28"),m(q,"class","value svelte-5e1e28"),m(P,"class","meta-item svelte-5e1e28"),m(M,"class","competition-meta svelte-5e1e28"),m(b,"class","competition-details svelte-5e1e28"),m(B,"class","submit-entry-btn svelte-5e1e28"),m(K,"class","competition-actions svelte-5e1e28"),m(e,"class","competition-card svelte-5e1e28")},m(d,C){V(d,e,C),o(e,l),o(l,t),o(t,i),o(l,n),o(l,f),o(f,g),o(e,T),o(e,b),w&&w.m(b,null),o(b,H),o(b,M),o(M,P),o(P,I),o(P,G),o(P,q),o(q,S),o(M,X),v&&v.m(M,null),o(e,J),o(e,K),o(K,B),o(e,A),R||(fe=me(B,"click",a[15]),R=!0)},p(d,C){C&128&&s!==(s=d[18].name+"")&&le(i,s),C&128&&p!==(p=d[9](d[18]).text+"")&&le(g,p),C&128&&j!==(j="competition-status "+d[9](d[18]).class+" svelte-5e1e28")&&m(f,"class",j),d[18].description?w?w.p(d,C):(w=Ie(d),w.c(),w.m(b,H)):w&&(w.d(1),w=null),C&128&&u!==(u=ke(d[18])+"")&&le(S,u),d[18].judging_date?v?v.p(d,C):(v=Se(d),v.c(),v.m(M,null)):v&&(v.d(1),v=null)},d(d){d&&c(e),w&&w.d(),v&&v.d(),R=!1,fe()}}}function it(a){let e,l,t,s,i,n='<div class="card-icon svelte-5e1e28">üç∫</div> <div class="card-content svelte-5e1e28"><h3 class="svelte-5e1e28">Submit Entry</h3> <p class="svelte-5e1e28">Enter your beer into a competition</p></div> <div class="card-arrow svelte-5e1e28">‚Üí</div>',f,p,g,j="üìã",T,b,H,M="My Entries",P,I,x="View and manage your submissions",G,q,u,S="‚Üí",X,J,K='<div class="card-icon svelte-5e1e28">üèÖ</div> <div class="card-content svelte-5e1e28"><h3 class="svelte-5e1e28">Results</h3> <p class="svelte-5e1e28">View competition winners and scores</p></div> <div class="card-arrow svelte-5e1e28">‚Üí</div>',B,ee,A,R,fe="üöÄ ACTIVE COMPETITIONS",w,v,d,C,N,ue='<div class="info-grid svelte-5e1e28"><div class="info-card svelte-5e1e28"><div class="info-icon svelte-5e1e28">üìù</div> <h4 class="svelte-5e1e28">How to Enter</h4> <ul class="svelte-5e1e28"><li class="svelte-5e1e28">Select an active competition</li> <li class="svelte-5e1e28">Choose your BJCP category</li> <li class="svelte-5e1e28">Provide beer details and notes</li> <li class="svelte-5e1e28">Submit before the deadline</li></ul></div> <div class="info-card svelte-5e1e28"><div class="info-icon svelte-5e1e28">üèÜ</div> <h4 class="svelte-5e1e28">Judging Process</h4> <ul class="svelte-5e1e28"><li class="svelte-5e1e28">Anonymous judging by certified judges</li> <li class="svelte-5e1e28">BJCP style guidelines used</li> <li class="svelte-5e1e28">Scores and feedback provided</li> <li class="svelte-5e1e28">Awards for top entries</li></ul></div> <div class="info-card svelte-5e1e28"><div class="info-icon svelte-5e1e28">üí∞</div> <h4 class="svelte-5e1e28">Entry Fees</h4> <ul class="svelte-5e1e28"><li class="svelte-5e1e28">Check with officers for fee structure</li> <li class="svelte-5e1e28">Multiple entries allowed</li> <li class="svelte-5e1e28">Payment status tracked in portal</li> <li class="svelte-5e1e28">Fee goes toward prizes and judging</li></ul></div></div>',te,Y,se;e=new We({props:{title:"Competitions",subtitle:"Submit entries, track your progress, and compete with fellow brewers",icon:"üèÜ",center:!0}});let $=a[2]&&a[3].total>0&&ye(a),y=a[1]&&a[0]&&De(a);const ve=[lt,st,tt,et],Z=[];function he(r,L){return r[4]&&!r[5]?0:r[6]?1:r[5]&&r[7].length===0?2:r[5]?3:-1}return~(v=he(a))&&(d=Z[v]=ve[v](a)),{c(){oe(e.$$.fragment),l=E(),t=h("section"),s=h("div"),i=h("div"),i.innerHTML=n,f=E(),p=h("div"),g=h("div"),g.textContent=j,T=E(),b=h("div"),H=h("h3"),H.textContent=M,P=E(),I=h("p"),I.textContent=x,G=E(),$&&$.c(),q=E(),u=h("div"),u.textContent=S,X=E(),J=h("div"),J.innerHTML=K,B=E(),y&&y.c(),ee=E(),A=h("section"),R=h("h2"),R.textContent=fe,w=E(),d&&d.c(),C=E(),N=h("section"),N.innerHTML=ue,this.h()},l(r){ne(e.$$.fragment,r),l=k(r),t=_(r,"SECTION",{class:!0});var L=D(t);s=_(L,"DIV",{class:!0});var O=D(s);i=_(O,"DIV",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-wpd3dx"&&(i.innerHTML=n),f=k(O),p=_(O,"DIV",{class:!0});var re=D(p);g=_(re,"DIV",{class:!0,"data-svelte-h":!0}),z(g)!=="svelte-u6yifl"&&(g.textContent=j),T=k(re),b=_(re,"DIV",{class:!0});var ce=D(b);H=_(ce,"H3",{class:!0,"data-svelte-h":!0}),z(H)!=="svelte-1l93ksm"&&(H.textContent=M),P=k(ce),I=_(ce,"P",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-260s9l"&&(I.textContent=x),G=k(ce),$&&$.l(ce),ce.forEach(c),q=k(re),u=_(re,"DIV",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-qzp179"&&(u.textContent=S),re.forEach(c),X=k(O),J=_(O,"DIV",{class:!0,"data-svelte-h":!0}),z(J)!=="svelte-16f1cmi"&&(J.innerHTML=K),B=k(O),y&&y.l(O),O.forEach(c),L.forEach(c),ee=k(r),A=_(r,"SECTION",{class:!0});var _e=D(A);R=_(_e,"H2",{class:!0,"data-svelte-h":!0}),z(R)!=="svelte-15ewv7x"&&(R.textContent=fe),w=k(_e),d&&d.l(_e),_e.forEach(c),C=k(r),N=_(r,"SECTION",{class:!0,"data-svelte-h":!0}),z(N)!=="svelte-crfpdv"&&(N.innerHTML=ue),this.h()},h(){m(i,"class","action-card primary svelte-5e1e28"),m(g,"class","card-icon svelte-5e1e28"),m(H,"class","svelte-5e1e28"),m(I,"class","svelte-5e1e28"),m(b,"class","card-content svelte-5e1e28"),m(u,"class","card-arrow svelte-5e1e28"),m(p,"class","action-card svelte-5e1e28"),m(J,"class","action-card svelte-5e1e28"),m(s,"class","action-cards svelte-5e1e28"),m(t,"class","quick-actions svelte-5e1e28"),m(R,"class","svelte-5e1e28"),m(A,"class","competitions-section svelte-5e1e28"),m(N,"class","info-section svelte-5e1e28")},m(r,L){ae(e,r,L),V(r,l,L),V(r,t,L),o(t,s),o(s,i),o(s,f),o(s,p),o(p,g),o(p,T),o(p,b),o(b,H),o(b,P),o(b,I),o(b,G),$&&$.m(b,null),o(p,q),o(p,u),o(s,X),o(s,J),o(s,B),y&&y.m(s,null),V(r,ee,L),V(r,A,L),o(A,R),o(A,w),~v&&Z[v].m(A,null),V(r,C,L),V(r,N,L),te=!0,Y||(se=[me(i,"click",a[10]),me(p,"click",a[11]),me(J,"click",a[12])],Y=!0)},p(r,L){r[2]&&r[3].total>0?$?($.p(r,L),L&12&&F($,1)):($=ye(r),$.c(),F($,1),$.m(b,null)):$&&(ge(),U($,1,1,()=>{$=null}),$e()),r[1]&&r[0]?y?y.p(r,L):(y=De(r),y.c(),y.m(s,null)):y&&(y.d(1),y=null);let O=v;v=he(r),v===O?~v&&Z[v].p(r,L):(d&&(ge(),U(Z[O],1,1,()=>{Z[O]=null}),$e()),~v?(d=Z[v],d?d.p(r,L):(d=Z[v]=ve[v](r),d.c()),F(d,1),d.m(A,null)):d=null)},i(r){te||(F(e.$$.fragment,r),F($),F(d),te=!0)},o(r){U(e.$$.fragment,r),U($),U(d),te=!1},d(r){r&&(c(l),c(t),c(ee),c(A),c(C),c(N)),ie(e,r),$&&$.d(),y&&y.d(),~v&&Z[v].d(),Y=!1,Pe(se)}}}function at(a){let e,l,t;return l=new Qe({props:{size:"lg",$$slots:{default:[it]},$$scope:{ctx:a}}}),{c(){e=E(),oe(l.$$.fragment),this.h()},l(s){Te("svelte-yo8cxn",document.head).forEach(c),e=k(s),ne(l.$$.fragment,s),this.h()},h(){document.title="Competitions | JAX Members Portal"},m(s,i){V(s,e,i),ae(l,s,i),t=!0},p(s,[i]){const n={};i&2097407&&(n.$$scope={dirty:i,ctx:s}),l.$set(n)},i(s){t||(F(l.$$.fragment,s),t=!0)},o(s){U(l.$$.fragment,s),t=!1},d(s){s&&c(e),ie(l,s)}}}function nt(a,e,l){let t,s,i,n,f,p;de(a,Be,u=>l(1,t=u)),de(a,Ke,u=>l(3,s=u)),de(a,Fe,u=>l(4,i=u)),de(a,Re,u=>l(5,n=u)),de(a,Ue,u=>l(6,f=u)),de(a,Xe,u=>l(7,p=u));let g=!1,j=!1;He(async()=>{try{await Ce(),t!=null&&t.id&&(await Ge(),l(2,g=!0),await b(t.id))}catch(u){console.error("Failed to load competition data:",u)}}),Me(()=>{});function T(u){Je(u)}async function b(u){try{const{data:S,error:X}=await Oe.from("competition_judges").select("id").eq("judge_id",u).eq("active",!0).limit(1);if(X)throw X;l(0,j=S&&S.length>0)}catch(S){console.error("Failed to check judge assignments:",S),l(0,j=!1)}}function H(u){const S=ze(u);return S>7?{text:`${S} days left`,class:"status-open"}:S>0?{text:`${S} days left`,class:"status-closing"}:{text:"Entries closed",class:"status-closed"}}const M=()=>T("/competitions/submit-entry"),P=()=>T("/competitions/my-entries"),I=()=>T("/competitions/results"),x=()=>T("/judge"),G=()=>Ce(!0),q=()=>T("/competitions/submit-entry");return a.$$.update=()=>{a.$$.dirty&3&&t!=null&&t.id&&!j&&b(t.id)},[j,t,g,s,i,n,f,p,T,H,M,P,I,x,G,q]}class $t extends Ne{constructor(e){super(),qe(this,e,nt,at,je,{})}}export{$t as component};
