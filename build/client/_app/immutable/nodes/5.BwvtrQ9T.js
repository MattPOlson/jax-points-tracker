import{s as je,d as p,i as S,B as Se,g as k,j as D,k as ce,C as Ne,q as y,c as g,e as E,G as ee,h as b,f as V,t as $,n as X,a as M,b as c,F as Pe,E as F,M as fe}from"../chunks/DpwROyu6.js";import{S as Ae,i as He,d as te,t as Q,a as W,m as le,b as se,e as ae,g as Le,c as Te}from"../chunks/BHIxbS5H.js";import{e as ue}from"../chunks/CurIhP_1.js";import{g as de}from"../chunks/BPUUyVED.js";import{p as Be}from"../chunks/9YNtkGAc.js";import{u as Je}from"../chunks/CN8V5uJw.js";import{s as ve}from"../chunks/CCM_4jRA.js";import{H as Me}from"../chunks/D4n3Zs5P.js";import{C as qe}from"../chunks/XUMP8LP7.js";import{L as Fe}from"../chunks/BWGxyfTN.js";import{B as ze}from"../chunks/28GNhQ-J.js";function _e(o,e,t){const a=o.slice();return a[8]=e[t],a}function Ge(o){let e;return{c(){e=$("← Back to My Entries")},l(t){e=V(t,"← Back to My Entries")},m(t,a){S(t,e,a)},d(t){t&&p(e)}}}function Oe(o){let e,t="<h3>No Scoresheet Found</h3> <p>The scoresheet for this entry could not be loaded.</p>";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(a){e=g(a,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-h4p5od"&&(e.innerHTML=t),this.h()},h(){y(e,"class","empty-state svelte-10w6acy")},m(a,s){S(a,e,s)},p:X,i:X,o:X,d(a){a&&p(e)}}}function Re(o){let e,t,a,s=o[0].entry.entry_number+"",l,i,v=o[0].entry.beer_name+"",h,u,d,r,n,f="Competition",m,_,w=o[0].entry.competition.name+"",j,K,U,z,G,J="Judging Date",B,P,H=re(o[0].entry.competition.judging_date)+"",I,L,O,T=o[0].entry.category&&me(o),R=ue(o[0].sessions),N=[];for(let C=0;C<R.length;C+=1)N[C]=Ie(_e(o,R,C));return{c(){e=b("div"),t=b("h2"),a=$("Entry #"),l=$(s),i=$(": "),h=$(v),u=D(),d=b("div"),r=b("div"),n=b("span"),n.textContent=f,m=D(),_=b("span"),j=$(w),K=D(),T&&T.c(),U=D(),z=b("div"),G=b("span"),G.textContent=J,B=D(),P=b("span"),I=$(H),L=D();for(let C=0;C<N.length;C+=1)N[C].c();O=ee(),this.h()},l(C){e=g(C,"DIV",{class:!0});var q=E(e);t=g(q,"H2",{class:!0});var A=E(t);a=V(A,"Entry #"),l=V(A,s),i=V(A,": "),h=V(A,v),A.forEach(p),u=k(q),d=g(q,"DIV",{class:!0});var Z=E(d);r=g(Z,"DIV",{class:!0});var Y=E(r);n=g(Y,"SPAN",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-16us54w"&&(n.textContent=f),m=k(Y),_=g(Y,"SPAN",{class:!0});var ne=E(_);j=V(ne,w),ne.forEach(p),Y.forEach(p),K=k(Z),T&&T.l(Z),U=k(Z),z=g(Z,"DIV",{class:!0});var x=E(z);G=g(x,"SPAN",{class:!0,"data-svelte-h":!0}),F(G)!=="svelte-1yi5wdv"&&(G.textContent=J),B=k(x),P=g(x,"SPAN",{class:!0});var ie=E(P);I=V(ie,H),ie.forEach(p),x.forEach(p),Z.forEach(p),q.forEach(p),L=k(C);for(let oe=0;oe<N.length;oe+=1)N[oe].l(C);O=ee(),this.h()},h(){y(t,"class","entry-title svelte-10w6acy"),y(n,"class","meta-label svelte-10w6acy"),y(_,"class","meta-value svelte-10w6acy"),y(r,"class","meta-item svelte-10w6acy"),y(G,"class","meta-label svelte-10w6acy"),y(P,"class","meta-value svelte-10w6acy"),y(z,"class","meta-item svelte-10w6acy"),y(d,"class","entry-meta svelte-10w6acy"),y(e,"class","entry-info svelte-10w6acy")},m(C,q){S(C,e,q),c(e,t),c(t,a),c(t,l),c(t,i),c(t,h),c(e,u),c(e,d),c(d,r),c(r,n),c(r,m),c(r,_),c(_,j),c(d,K),T&&T.m(d,null),c(d,U),c(d,z),c(z,G),c(z,B),c(z,P),c(P,I),S(C,L,q);for(let A=0;A<N.length;A+=1)N[A]&&N[A].m(C,q);S(C,O,q)},p(C,q){if(q&1&&s!==(s=C[0].entry.entry_number+"")&&M(l,s),q&1&&v!==(v=C[0].entry.beer_name+"")&&M(h,v),q&1&&w!==(w=C[0].entry.competition.name+"")&&M(j,w),C[0].entry.category?T?T.p(C,q):(T=me(C),T.c(),T.m(d,U)):T&&(T.d(1),T=null),q&1&&H!==(H=re(C[0].entry.competition.judging_date)+"")&&M(I,H),q&1){R=ue(C[0].sessions);let A;for(A=0;A<R.length;A+=1){const Z=_e(C,R,A);N[A]?N[A].p(Z,q):(N[A]=Ie(Z),N[A].c(),N[A].m(O.parentNode,O))}for(;A<N.length;A+=1)N[A].d(1);N.length=R.length}},i:X,o:X,d(C){C&&(p(e),p(L),p(O)),T&&T.d(),Pe(N,C)}}}function Ze(o){let e,t;return{c(){e=b("div"),t=$(o[2]),this.h()},l(a){e=g(a,"DIV",{class:!0});var s=E(e);t=V(s,o[2]),s.forEach(p),this.h()},h(){y(e,"class","error svelte-10w6acy")},m(a,s){S(a,e,s),c(e,t)},p(a,s){s&4&&M(t,a[2])},i:X,o:X,d(a){a&&p(e)}}}function Ue(o){let e,t;return e=new Fe({props:{message:"Loading scoresheet details..."}}),{c(){ae(e.$$.fragment)},l(a){se(e.$$.fragment,a)},m(a,s){le(e,a,s),t=!0},p:X,i(a){t||(W(e.$$.fragment,a),t=!0)},o(a){Q(e.$$.fragment,a),t=!1},d(a){te(e,a)}}}function me(o){let e,t,a="Category",s,l,i=o[0].entry.category.category_number+"",v,h=o[0].entry.category.subcategory_letter+"",u,d,r=o[0].entry.category.category_name+"",n,f,m=o[0].entry.category.subcategory_name&&he(o);return{c(){e=b("div"),t=b("span"),t.textContent=a,s=D(),l=b("span"),v=$(i),u=$(h),d=$(" - "),n=$(r),f=D(),m&&m.c(),this.h()},l(_){e=g(_,"DIV",{class:!0});var w=E(e);t=g(w,"SPAN",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-t517m7"&&(t.textContent=a),s=k(w),l=g(w,"SPAN",{class:!0});var j=E(l);v=V(j,i),u=V(j,h),d=V(j," - "),n=V(j,r),f=k(j),m&&m.l(j),j.forEach(p),w.forEach(p),this.h()},h(){y(t,"class","meta-label svelte-10w6acy"),y(l,"class","meta-value svelte-10w6acy"),y(e,"class","meta-item svelte-10w6acy")},m(_,w){S(_,e,w),c(e,t),c(e,s),c(e,l),c(l,v),c(l,u),c(l,d),c(l,n),c(l,f),m&&m.m(l,null)},p(_,w){w&1&&i!==(i=_[0].entry.category.category_number+"")&&M(v,i),w&1&&h!==(h=_[0].entry.category.subcategory_letter+"")&&M(u,h),w&1&&r!==(r=_[0].entry.category.category_name+"")&&M(n,r),_[0].entry.category.subcategory_name?m?m.p(_,w):(m=he(_),m.c(),m.m(l,null)):m&&(m.d(1),m=null)},d(_){_&&p(e),m&&m.d()}}}function he(o){let e,t=o[0].entry.category.subcategory_name+"",a,s;return{c(){e=$("("),a=$(t),s=$(")")},l(l){e=V(l,"("),a=V(l,t),s=V(l,")")},m(l,i){S(l,e,i),S(l,a,i),S(l,s,i)},p(l,i){i&1&&t!==(t=l[0].entry.category.subcategory_name+"")&&M(a,t)},d(l){l&&(p(e),p(a),p(s))}}}function pe(o){let e,t,a=re(o[8].judged_at)+"",s;return{c(){e=b("div"),t=$("Judged: "),s=$(a),this.h()},l(l){e=g(l,"DIV",{class:!0});var i=E(e);t=V(i,"Judged: "),s=V(i,a),i.forEach(p),this.h()},h(){y(e,"class","judge-date svelte-10w6acy")},m(l,i){S(l,e,i),c(e,t),c(e,s)},p(l,i){i&1&&a!==(a=re(l[8].judged_at)+"")&&M(s,a)},d(l){l&&p(e)}}}function ye(o){let e,t=$e(o[8].total_score)+"",a;return{c(){e=b("div"),a=$(t),this.h()},l(s){e=g(s,"DIV",{class:!0});var l=E(e);a=V(l,t),l.forEach(p),this.h()},h(){y(e,"class","score-description svelte-10w6acy")},m(s,l){S(s,e,l),c(e,a)},p(s,l){l&1&&t!==(t=$e(s[8].total_score)+"")&&M(a,t)},d(s){s&&p(e)}}}function ge(o){let e,t,a="BJCP Score Breakdown",s,l,i,v,h,u,d=o[8].aroma_score!==null&&be(o),r=o[8].appearance_score!==null&&we(o),n=o[8].flavor_score!==null&&Ce(o),f=o[8].mouthfeel_score!==null&&ke(o),m=o[8].overall_score!==null&&De(o);return{c(){e=b("div"),t=b("h3"),t.textContent=a,s=D(),l=b("div"),d&&d.c(),i=D(),r&&r.c(),v=D(),n&&n.c(),h=D(),f&&f.c(),u=D(),m&&m.c(),this.h()},l(_){e=g(_,"DIV",{class:!0});var w=E(e);t=g(w,"H3",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-fftw4p"&&(t.textContent=a),s=k(w),l=g(w,"DIV",{class:!0});var j=E(l);d&&d.l(j),i=k(j),r&&r.l(j),v=k(j),n&&n.l(j),h=k(j),f&&f.l(j),u=k(j),m&&m.l(j),j.forEach(p),w.forEach(p),this.h()},h(){y(t,"class","breakdown-title svelte-10w6acy"),y(l,"class","score-grid svelte-10w6acy"),y(e,"class","score-breakdown svelte-10w6acy")},m(_,w){S(_,e,w),c(e,t),c(e,s),c(e,l),d&&d.m(l,null),c(l,i),r&&r.m(l,null),c(l,v),n&&n.m(l,null),c(l,h),f&&f.m(l,null),c(l,u),m&&m.m(l,null)},p(_,w){_[8].aroma_score!==null?d?d.p(_,w):(d=be(_),d.c(),d.m(l,i)):d&&(d.d(1),d=null),_[8].appearance_score!==null?r?r.p(_,w):(r=we(_),r.c(),r.m(l,v)):r&&(r.d(1),r=null),_[8].flavor_score!==null?n?n.p(_,w):(n=Ce(_),n.c(),n.m(l,h)):n&&(n.d(1),n=null),_[8].mouthfeel_score!==null?f?f.p(_,w):(f=ke(_),f.c(),f.m(l,u)):f&&(f.d(1),f=null),_[8].overall_score!==null?m?m.p(_,w):(m=De(_),m.c(),m.m(l,null)):m&&(m.d(1),m=null)},d(_){_&&p(e),d&&d.d(),r&&r.d(),n&&n.d(),f&&f.d(),m&&m.d()}}}function be(o){let e,t,a="Aroma",s,l,i=o[8].aroma_score+"",v,h,u,d="out of 12";return{c(){e=b("div"),t=b("div"),t.textContent=a,s=D(),l=b("div"),v=$(i),h=D(),u=b("div"),u.textContent=d,this.h()},l(r){e=g(r,"DIV",{class:!0});var n=E(e);t=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-xynfsu"&&(t.textContent=a),s=k(n),l=g(n,"DIV",{class:!0});var f=E(l);v=V(f,i),f.forEach(p),h=k(n),u=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-ljuseo"&&(u.textContent=d),n.forEach(p),this.h()},h(){y(t,"class","score-item-label svelte-10w6acy"),y(l,"class","score-item-value svelte-10w6acy"),y(u,"class","score-item-max svelte-10w6acy"),y(e,"class","score-item svelte-10w6acy")},m(r,n){S(r,e,n),c(e,t),c(e,s),c(e,l),c(l,v),c(e,h),c(e,u)},p(r,n){n&1&&i!==(i=r[8].aroma_score+"")&&M(v,i)},d(r){r&&p(e)}}}function we(o){let e,t,a="Appearance",s,l,i=o[8].appearance_score+"",v,h,u,d="out of 3";return{c(){e=b("div"),t=b("div"),t.textContent=a,s=D(),l=b("div"),v=$(i),h=D(),u=b("div"),u.textContent=d,this.h()},l(r){e=g(r,"DIV",{class:!0});var n=E(e);t=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1p3gef4"&&(t.textContent=a),s=k(n),l=g(n,"DIV",{class:!0});var f=E(l);v=V(f,i),f.forEach(p),h=k(n),u=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-9149sy"&&(u.textContent=d),n.forEach(p),this.h()},h(){y(t,"class","score-item-label svelte-10w6acy"),y(l,"class","score-item-value svelte-10w6acy"),y(u,"class","score-item-max svelte-10w6acy"),y(e,"class","score-item svelte-10w6acy")},m(r,n){S(r,e,n),c(e,t),c(e,s),c(e,l),c(l,v),c(e,h),c(e,u)},p(r,n){n&1&&i!==(i=r[8].appearance_score+"")&&M(v,i)},d(r){r&&p(e)}}}function Ce(o){let e,t,a="Flavor",s,l,i=o[8].flavor_score+"",v,h,u,d="out of 20";return{c(){e=b("div"),t=b("div"),t.textContent=a,s=D(),l=b("div"),v=$(i),h=D(),u=b("div"),u.textContent=d,this.h()},l(r){e=g(r,"DIV",{class:!0});var n=E(e);t=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-uv2x6m"&&(t.textContent=a),s=k(n),l=g(n,"DIV",{class:!0});var f=E(l);v=V(f,i),f.forEach(p),h=k(n),u=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1gzszrj"&&(u.textContent=d),n.forEach(p),this.h()},h(){y(t,"class","score-item-label svelte-10w6acy"),y(l,"class","score-item-value svelte-10w6acy"),y(u,"class","score-item-max svelte-10w6acy"),y(e,"class","score-item svelte-10w6acy")},m(r,n){S(r,e,n),c(e,t),c(e,s),c(e,l),c(l,v),c(e,h),c(e,u)},p(r,n){n&1&&i!==(i=r[8].flavor_score+"")&&M(v,i)},d(r){r&&p(e)}}}function ke(o){let e,t,a="Mouthfeel",s,l,i=o[8].mouthfeel_score+"",v,h,u,d="out of 5";return{c(){e=b("div"),t=b("div"),t.textContent=a,s=D(),l=b("div"),v=$(i),h=D(),u=b("div"),u.textContent=d,this.h()},l(r){e=g(r,"DIV",{class:!0});var n=E(e);t=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-11dx3pt"&&(t.textContent=a),s=k(n),l=g(n,"DIV",{class:!0});var f=E(l);v=V(f,i),f.forEach(p),h=k(n),u=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1mtbs14"&&(u.textContent=d),n.forEach(p),this.h()},h(){y(t,"class","score-item-label svelte-10w6acy"),y(l,"class","score-item-value svelte-10w6acy"),y(u,"class","score-item-max svelte-10w6acy"),y(e,"class","score-item svelte-10w6acy")},m(r,n){S(r,e,n),c(e,t),c(e,s),c(e,l),c(l,v),c(e,h),c(e,u)},p(r,n){n&1&&i!==(i=r[8].mouthfeel_score+"")&&M(v,i)},d(r){r&&p(e)}}}function De(o){let e,t,a="Overall",s,l,i=o[8].overall_score+"",v,h,u,d="out of 10";return{c(){e=b("div"),t=b("div"),t.textContent=a,s=D(),l=b("div"),v=$(i),h=D(),u=b("div"),u.textContent=d,this.h()},l(r){e=g(r,"DIV",{class:!0});var n=E(e);t=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-u31h6n"&&(t.textContent=a),s=k(n),l=g(n,"DIV",{class:!0});var f=E(l);v=V(f,i),f.forEach(p),h=k(n),u=g(n,"DIV",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-qgjzpi"&&(u.textContent=d),n.forEach(p),this.h()},h(){y(t,"class","score-item-label svelte-10w6acy"),y(l,"class","score-item-value svelte-10w6acy"),y(u,"class","score-item-max svelte-10w6acy"),y(e,"class","score-item svelte-10w6acy")},m(r,n){S(r,e,n),c(e,t),c(e,s),c(e,l),c(l,v),c(e,h),c(e,u)},p(r,n){n&1&&i!==(i=r[8].overall_score+"")&&M(v,i)},d(r){r&&p(e)}}}function Ee(o){let e,t,a="Judge Notes",s,l,i=o[8].judge_notes+"",v;return{c(){e=b("div"),t=b("h3"),t.textContent=a,s=D(),l=b("p"),v=$(i),this.h()},l(h){e=g(h,"DIV",{class:!0});var u=E(e);t=g(u,"H3",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-i6edfh"&&(t.textContent=a),s=k(u),l=g(u,"P",{class:!0});var d=E(l);v=V(d,i),d.forEach(p),u.forEach(p),this.h()},h(){y(t,"class","notes-title svelte-10w6acy"),y(l,"class","notes-text svelte-10w6acy"),y(e,"class","judge-notes svelte-10w6acy")},m(h,u){S(h,e,u),c(e,t),c(e,s),c(e,l),c(l,v)},p(h,u){u&1&&i!==(i=h[8].judge_notes+"")&&M(v,i)},d(h){h&&p(e)}}}function Ie(o){let e,t,a,s,l,i=o[8].judge.name+"",v,h,u,d,r,n=(o[8].total_score||"N/A")+"",f,m,_,w,j="Total Score",K,U,z,G,J=o[8].judged_at&&pe(o),B=o[8].total_score&&ye(o),P=(o[8].aroma_score!==null||o[8].appearance_score!==null||o[8].flavor_score!==null||o[8].mouthfeel_score!==null||o[8].overall_score!==null)&&ge(o),H=o[8].judge_notes&&Ee(o);return{c(){e=b("div"),t=b("div"),a=b("div"),s=b("h2"),l=$("Judge: "),v=$(i),h=D(),J&&J.c(),u=D(),d=b("div"),r=b("div"),f=$(n),m=$("/50"),_=D(),w=b("div"),w.textContent=j,K=D(),B&&B.c(),U=D(),P&&P.c(),z=D(),H&&H.c(),G=D(),this.h()},l(I){e=g(I,"DIV",{class:!0});var L=E(e);t=g(L,"DIV",{class:!0});var O=E(t);a=g(O,"DIV",{class:!0});var T=E(a);s=g(T,"H2",{class:!0});var R=E(s);l=V(R,"Judge: "),v=V(R,i),R.forEach(p),h=k(T),J&&J.l(T),T.forEach(p),u=k(O),d=g(O,"DIV",{class:!0,style:!0});var N=E(d);r=g(N,"DIV",{class:!0});var C=E(r);f=V(C,n),m=V(C,"/50"),C.forEach(p),_=k(N),w=g(N,"DIV",{class:!0,"data-svelte-h":!0}),F(w)!=="svelte-2bmkfs"&&(w.textContent=j),K=k(N),B&&B.l(N),N.forEach(p),O.forEach(p),U=k(L),P&&P.l(L),z=k(L),H&&H.l(L),G=k(L),L.forEach(p),this.h()},h(){y(s,"class","svelte-10w6acy"),y(a,"class","judge-info svelte-10w6acy"),y(r,"class","score-value svelte-10w6acy"),y(w,"class","score-label svelte-10w6acy"),y(d,"class","total-score svelte-10w6acy"),fe(d,"background",o[8].total_score?Ve(o[8].total_score):"#6b7280"),y(t,"class","session-header svelte-10w6acy"),y(e,"class","judge-session svelte-10w6acy")},m(I,L){S(I,e,L),c(e,t),c(t,a),c(a,s),c(s,l),c(s,v),c(a,h),J&&J.m(a,null),c(t,u),c(t,d),c(d,r),c(r,f),c(r,m),c(d,_),c(d,w),c(d,K),B&&B.m(d,null),c(e,U),P&&P.m(e,null),c(e,z),H&&H.m(e,null),c(e,G)},p(I,L){L&1&&i!==(i=I[8].judge.name+"")&&M(v,i),I[8].judged_at?J?J.p(I,L):(J=pe(I),J.c(),J.m(a,null)):J&&(J.d(1),J=null),L&1&&n!==(n=(I[8].total_score||"N/A")+"")&&M(f,n),I[8].total_score?B?B.p(I,L):(B=ye(I),B.c(),B.m(d,null)):B&&(B.d(1),B=null),L&1&&fe(d,"background",I[8].total_score?Ve(I[8].total_score):"#6b7280"),I[8].aroma_score!==null||I[8].appearance_score!==null||I[8].flavor_score!==null||I[8].mouthfeel_score!==null||I[8].overall_score!==null?P?P.p(I,L):(P=ge(I),P.c(),P.m(e,z)):P&&(P.d(1),P=null),I[8].judge_notes?H?H.p(I,L):(H=Ee(I),H.c(),H.m(e,G)):H&&(H.d(1),H=null)},d(I){I&&p(e),J&&J.d(),B&&B.d(),P&&P.d(),H&&H.d()}}}function Xe(o){let e,t,a,s,l,i,v,h,u;e=new Me({props:{title:"SCORESHEET DETAILS",icon:"📋",center:!0}}),s=new ze({props:{variant:"secondary",$$slots:{default:[Ge]},$$scope:{ctx:o}}}),s.$on("click",o[3]);const d=[Ue,Ze,Re,Oe],r=[];function n(f,m){return f[1]?0:f[2]?1:f[0]?2:3}return i=n(o),v=r[i]=d[i](o),{c(){ae(e.$$.fragment),t=D(),a=b("div"),ae(s.$$.fragment),l=D(),v.c(),h=ee(),this.h()},l(f){se(e.$$.fragment,f),t=k(f),a=g(f,"DIV",{class:!0});var m=E(a);se(s.$$.fragment,m),m.forEach(p),l=k(f),v.l(f),h=ee(),this.h()},h(){y(a,"class","controls svelte-10w6acy")},m(f,m){le(e,f,m),S(f,t,m),S(f,a,m),le(s,a,null),S(f,l,m),r[i].m(f,m),S(f,h,m),u=!0},p(f,m){const _={};m&2048&&(_.$$scope={dirty:m,ctx:f}),s.$set(_);let w=i;i=n(f),i===w?r[i].p(f,m):(Le(),Q(r[w],1,1,()=>{r[w]=null}),Te(),v=r[i],v?v.p(f,m):(v=r[i]=d[i](f),v.c()),W(v,1),v.m(h.parentNode,h))},i(f){u||(W(e.$$.fragment,f),W(s.$$.fragment,f),W(v),u=!0)},o(f){Q(e.$$.fragment,f),Q(s.$$.fragment,f),Q(v),u=!1},d(f){f&&(p(t),p(a),p(l),p(h)),te(e,f),te(s),r[i].d(f)}}}function Ke(o){let e,t,a;return t=new qe({props:{size:"lg",$$slots:{default:[Xe]},$$scope:{ctx:o}}}),{c(){e=D(),ae(t.$$.fragment),this.h()},l(s){Se("svelte-1d3wf1y",document.head).forEach(p),e=k(s),se(t.$$.fragment,s),this.h()},h(){document.title="Scoresheet Details | JAX Members Portal"},m(s,l){S(s,e,l),le(t,s,l),a=!0},p(s,[l]){const i={};l&2055&&(i.$$scope={dirty:l,ctx:s}),t.$set(i)},i(s){a||(W(t.$$.fragment,s),a=!0)},o(s){Q(t.$$.fragment,s),a=!1},d(s){s&&p(e),te(t,s)}}}function re(o){if(!o)return"Never";try{let e=o;o.includes(" ")&&!o.includes("T")&&(e=o.replace(" ","T"),!e.includes("+")&&!e.includes("Z")&&(e+="Z"));const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}}function Ve(o){return o>=45?"#059669":o>=38?"#0891b2":o>=30?"#eab308":o>=21?"#f59e0b":"#dc2626"}function $e(o){return o>=45?"Excellent":o>=38?"Very Good":o>=30?"Good":o>=21?"Fair":o>0?"Poor":""}function Qe(o,e,t){let a,s,l;ce(o,Je,r=>t(6,s=r)),ce(o,Be,r=>t(4,l=r));let i=null,v=!0,h=null;Ne(()=>{if(!s){de("/auth");return}u()});async function u(){t(1,v=!0),t(2,h=null);try{console.log("Loading scoresheet for entry:",a);const{data:r,error:n}=await ve.from("competition_entries").select(`
          *,
          competition:competitions(id, name, description, judging_date),
          category:bjcp_categories(id, category_name, category_number, subcategory_letter, subcategory_name)
        `).eq("id",a).eq("member_id",s.id).single();if(n)throw n;if(!r)throw new Error("Entry not found or you do not have permission to view this scoresheet.");const{data:f,error:m}=await ve.from("competition_judging_sessions").select(`
          *,
          judge:members!competition_judging_sessions_judge_id_fkey(id, name)
        `).eq("entry_id",a).eq("competition_id",r.competition_id).order("judged_at",{ascending:!1});if(m)throw m;if(!f||f.length===0){t(2,h="No scoresheets found for this entry. Results may not be available yet.");return}t(0,i={entry:r,sessions:f.map(_=>({id:_.id,judge:_.judge,total_score:_.total_score,judge_notes:_.judge_notes,scoresheet_data:_.scoresheet_data,judged_at:_.judged_at,private_notes:_.private_notes,aroma_score:_.aroma_score,appearance_score:_.appearance_score,flavor_score:_.flavor_score,mouthfeel_score:_.mouthfeel_score,overall_score:_.overall_score}))})}catch(r){console.error("Error loading scoresheet:",r),t(2,h=r.message||"Failed to load scoresheet data")}finally{t(1,v=!1)}}function d(){de("/competitions/my-entries")}return o.$$.update=()=>{o.$$.dirty&16&&(a=l.params.entryId)},[i,v,h,d,l]}class it extends Ae{constructor(e){super(),He(this,e,Qe,Ke,je,{})}}export{it as component};
