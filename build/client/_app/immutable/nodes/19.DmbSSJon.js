import{s as is,d as v,i as Q,b as s,q as n,c as u,e as D,B as T,g as _,h as f,j as m,k as Ul,C as rs,D as as,n as pl,P as os,x as us,H as j,a as ve,N as qt,v as W,M as fs,f as ne,t as ie,Q as Zl,R as $l,L as ds}from"../chunks/tH3vu9X-.js";import{S as cs,i as vs,t as He,a as me,e as ml,g as bl,f as es,d as ts,m as ls,c as ss,b as ns}from"../chunks/3rbuGhWg.js";import{g as Ht}from"../chunks/CsiUa4Yb.js";import{p as hs}from"../chunks/BH-s507r.js";import{u as gs}from"../chunks/DO0socrL.js";import{updateCompetition as ps}from"../chunks/JrdnU02C.js";import{n as _s}from"../chunks/CFO9Z2nC.js";import{C as ms,R as bs}from"../chunks/D0EZ2Zno.js";import{s as _l}from"../chunks/CCM_4jRA.js";function Cs(t){let l,e,i,r,a="Basic Information",C,b,d,g="Competition Name",k,p,y,V,M,L,X,Z="Description",re,x,De,qe,Je,$,vt="Provide any additional details about the competition",it,be,ht="Important Dates",rt,he,G,ge,gt="Entry Deadline",at,pe,Y,We,Ze,ot,ee,$e,ut,et,ye,h=t[17]?"Cannot change after entries submitted":"Date and time when entries close",ae,oe,S,P,Cl="Judging Date",Jt,ke,se,pt,Gt,ue,zt,_t,Ge,Dl="Date and time when judging will take place",Ot,Ee,fe,Rt,Ie,yl="Keep judging date private until after entry deadline",Kt,ze,kl="Entry Settings",Qt,Ve,te,Te,El="Entry Fee ($)",Xt,A,mt,bt,Yt,Ct,tt,ft=t[17]?"Cannot change after entries submitted":"Fee per entry (0 for free)",Dt,Wt,le,xe,Il="Max Entries Per Member",Zt,z,yt,kt,$t,Et,lt,dt=t[17]?"Cannot change after entries submitted":"Maximum entries allowed per member",It,el,Oe,Vl="Category System",tl,de,Re,Tl="Ranking System",ll,Le,Se,O,Vt,sl,Ke,xl='<strong>Default BJCP System</strong> <div class="radio-description svelte-xvlhfg">Allow all BJCP categories, rank each category individually</div>',nl,we,R,Tt,il,Qe,Ll='<strong>Custom Category System</strong> <div class="radio-description svelte-xvlhfg">Select specific categories and create custom ranking groups</div>',rl,al,xt,Xe,Sl="Status",ol,je,ce,ul,Pe,wl="Competition is active and accepting entries",fl,Ye,jl="Uncheck to close competition to new entries",dl,Me,_e,cl,vl,Ce,ct=t[15]?"Saving...":"Save Changes",Lt,I,hl,gl,Pl,N=t[17]&&Hl(t),F=t[16].name&&ql(t),B=t[16].description&&Jl(t),U=t[16].entryDeadline&&Gl(t),H=t[16].judgingDate&&zl(t),q=t[16].entryFee&&Ol(t),J=t[16].maxEntriesPerMember&&Rl(t),K=t[17]&&Kl(),w=t[11]==="custom"&&Ql(t);return hl=os(t[32][0]),{c(){l=f("div"),N&&N.c(),e=m(),i=f("form"),r=f("div"),r.textContent=a,C=m(),b=f("div"),d=f("label"),d.textContent=g,k=m(),p=f("input"),V=m(),F&&F.c(),M=m(),L=f("div"),X=f("label"),X.textContent=Z,re=m(),x=f("textarea"),qe=m(),B&&B.c(),Je=m(),$=f("div"),$.textContent=vt,it=m(),be=f("div"),be.textContent=ht,rt=m(),he=f("div"),G=f("div"),ge=f("label"),ge.textContent=gt,at=m(),pe=f("div"),Y=f("input"),ot=m(),ee=f("input"),ut=m(),U&&U.c(),et=m(),ye=f("div"),ae=ie(h),oe=m(),S=f("div"),P=f("label"),P.textContent=Cl,Jt=m(),ke=f("div"),se=f("input"),Gt=m(),ue=f("input"),zt=m(),H&&H.c(),_t=m(),Ge=f("div"),Ge.textContent=Dl,Ot=m(),Ee=f("div"),fe=f("input"),Rt=m(),Ie=f("label"),Ie.textContent=yl,Kt=m(),ze=f("div"),ze.textContent=kl,Qt=m(),Ve=f("div"),te=f("div"),Te=f("label"),Te.textContent=El,Xt=m(),A=f("input"),Yt=m(),q&&q.c(),Ct=m(),tt=f("div"),Dt=ie(ft),Wt=m(),le=f("div"),xe=f("label"),xe.textContent=Il,Zt=m(),z=f("input"),$t=m(),J&&J.c(),Et=m(),lt=f("div"),It=ie(dt),el=m(),Oe=f("div"),Oe.textContent=Vl,tl=m(),de=f("div"),Re=f("label"),Re.textContent=Tl,ll=m(),Le=f("div"),Se=f("label"),O=f("input"),sl=m(),Ke=f("span"),Ke.innerHTML=xl,nl=m(),we=f("label"),R=f("input"),il=m(),Qe=f("span"),Qe.innerHTML=Ll,rl=m(),K&&K.c(),al=m(),w&&w.c(),xt=m(),Xe=f("div"),Xe.textContent=Sl,ol=m(),je=f("div"),ce=f("input"),ul=m(),Pe=f("label"),Pe.textContent=wl,fl=m(),Ye=f("div"),Ye.textContent=jl,dl=m(),Me=f("div"),_e=f("button"),cl=ie("Cancel"),vl=m(),Ce=f("button"),Lt=ie(ct),this.h()},l(o){l=u(o,"DIV",{class:!0});var c=D(l);N&&N.l(c),e=_(c),i=u(c,"FORM",{});var E=D(i);r=u(E,"DIV",{class:!0,"data-svelte-h":!0}),T(r)!=="svelte-1wptp77"&&(r.textContent=a),C=_(E),b=u(E,"DIV",{class:!0});var st=D(b);d=u(st,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(d)!=="svelte-zrd23n"&&(d.textContent=g),k=_(st),p=u(st,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,maxlength:!0}),V=_(st),F&&F.l(st),st.forEach(v),M=_(E),L=u(E,"DIV",{class:!0});var Ae=D(L);X=u(Ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(X)!=="svelte-1tds9bi"&&(X.textContent=Z),re=_(Ae),x=u(Ae,"TEXTAREA",{id:!0,class:!0,placeholder:!0,maxlength:!0}),D(x).forEach(v),qe=_(Ae),B&&B.l(Ae),Je=_(Ae),$=u(Ae,"DIV",{class:!0,"data-svelte-h":!0}),T($)!=="svelte-1xuy3fr"&&($.textContent=vt),Ae.forEach(v),it=_(E),be=u(E,"DIV",{class:!0,"data-svelte-h":!0}),T(be)!=="svelte-k8kt80"&&(be.textContent=ht),rt=_(E),he=u(E,"DIV",{class:!0});var St=D(he);G=u(St,"DIV",{class:!0});var Ne=D(G);ge=u(Ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(ge)!=="svelte-1uv1vuu"&&(ge.textContent=gt),at=_(Ne),pe=u(Ne,"DIV",{class:!0});var wt=D(pe);Y=u(wt,"INPUT",{type:!0,id:!0,class:!0}),ot=_(wt),ee=u(wt,"INPUT",{type:!0,id:!0,class:!0}),wt.forEach(v),ut=_(Ne),U&&U.l(Ne),et=_(Ne),ye=u(Ne,"DIV",{class:!0});var Ml=D(ye);ae=ne(Ml,h),Ml.forEach(v),Ne.forEach(v),oe=_(St),S=u(St,"DIV",{class:!0});var Fe=D(S);P=u(Fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(P)!=="svelte-1n4hh8e"&&(P.textContent=Cl),Jt=_(Fe),ke=u(Fe,"DIV",{class:!0});var jt=D(ke);se=u(jt,"INPUT",{type:!0,id:!0,class:!0}),Gt=_(jt),ue=u(jt,"INPUT",{type:!0,id:!0,class:!0}),jt.forEach(v),zt=_(Fe),H&&H.l(Fe),_t=_(Fe),Ge=u(Fe,"DIV",{class:!0,"data-svelte-h":!0}),T(Ge)!=="svelte-1910duc"&&(Ge.textContent=Dl),Fe.forEach(v),St.forEach(v),Ot=_(E),Ee=u(E,"DIV",{class:!0});var Pt=D(Ee);fe=u(Pt,"INPUT",{type:!0,id:!0,class:!0}),Rt=_(Pt),Ie=u(Pt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Ie)!=="svelte-1xa05d8"&&(Ie.textContent=yl),Pt.forEach(v),Kt=_(E),ze=u(E,"DIV",{class:!0,"data-svelte-h":!0}),T(ze)!=="svelte-1shdzwa"&&(ze.textContent=kl),Qt=_(E),Ve=u(E,"DIV",{class:!0});var Mt=D(Ve);te=u(Mt,"DIV",{class:!0});var Be=D(te);Te=u(Be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Te)!=="svelte-hrj0bz"&&(Te.textContent=El),Xt=_(Be),A=u(Be,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0,step:!0}),Yt=_(Be),q&&q.l(Be),Ct=_(Be),tt=u(Be,"DIV",{class:!0});var Al=D(tt);Dt=ne(Al,ft),Al.forEach(v),Be.forEach(v),Wt=_(Mt),le=u(Mt,"DIV",{class:!0});var Ue=D(le);xe=u(Ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(xe)!=="svelte-vuu2kx"&&(xe.textContent=Il),Zt=_(Ue),z=u(Ue,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0}),$t=_(Ue),J&&J.l(Ue),Et=_(Ue),lt=u(Ue,"DIV",{class:!0});var Nl=D(lt);It=ne(Nl,dt),Nl.forEach(v),Ue.forEach(v),Mt.forEach(v),el=_(E),Oe=u(E,"DIV",{class:!0,"data-svelte-h":!0}),T(Oe)!=="svelte-dsh9im"&&(Oe.textContent=Vl),tl=_(E),de=u(E,"DIV",{class:!0});var nt=D(de);Re=u(nt,"LABEL",{class:!0,"data-svelte-h":!0}),T(Re)!=="svelte-1om2l1x"&&(Re.textContent=Tl),ll=_(nt),Le=u(nt,"DIV",{class:!0});var At=D(Le);Se=u(At,"LABEL",{class:!0});var Nt=D(Se);O=u(Nt,"INPUT",{type:!0}),sl=_(Nt),Ke=u(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),T(Ke)!=="svelte-o3bxzz"&&(Ke.innerHTML=xl),Nt.forEach(v),nl=_(At),we=u(At,"LABEL",{class:!0});var Ft=D(we);R=u(Ft,"INPUT",{type:!0}),il=_(Ft),Qe=u(Ft,"SPAN",{class:!0,"data-svelte-h":!0}),T(Qe)!=="svelte-gwerxa"&&(Qe.innerHTML=Ll),Ft.forEach(v),At.forEach(v),rl=_(nt),K&&K.l(nt),nt.forEach(v),al=_(E),w&&w.l(E),xt=_(E),Xe=u(E,"DIV",{class:!0,"data-svelte-h":!0}),T(Xe)!=="svelte-f5f1f"&&(Xe.textContent=Sl),ol=_(E),je=u(E,"DIV",{class:!0});var Bt=D(je);ce=u(Bt,"INPUT",{type:!0,id:!0,class:!0}),ul=_(Bt),Pe=u(Bt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Pe)!=="svelte-1flgo58"&&(Pe.textContent=wl),Bt.forEach(v),fl=_(E),Ye=u(E,"DIV",{class:!0,"data-svelte-h":!0}),T(Ye)!=="svelte-40ckw0"&&(Ye.textContent=jl),dl=_(E),Me=u(E,"DIV",{class:!0});var Ut=D(Me);_e=u(Ut,"BUTTON",{type:!0,class:!0});var Fl=D(_e);cl=ne(Fl,"Cancel"),Fl.forEach(v),vl=_(Ut),Ce=u(Ut,"BUTTON",{type:!0,class:!0});var Bl=D(Ce);Lt=ne(Bl,ct),Bl.forEach(v),Ut.forEach(v),E.forEach(v),c.forEach(v),this.h()},h(){n(r,"class","section-title svelte-xvlhfg"),n(d,"for","name"),n(d,"class","required svelte-xvlhfg"),n(p,"type","text"),n(p,"id","name"),n(p,"class",y="form-control "+(t[16].name?"error":"")+" svelte-xvlhfg"),n(p,"placeholder","e.g., Spring 2025 Homebrew Competition"),n(p,"maxlength","100"),p.disabled=t[15],n(b,"class","form-group svelte-xvlhfg"),n(X,"for","description"),n(X,"class","svelte-xvlhfg"),n(x,"id","description"),n(x,"class",De="form-control "+(t[16].description?"error":"")+" svelte-xvlhfg"),n(x,"placeholder","Optional description or special instructions"),n(x,"maxlength","500"),x.disabled=t[15],n($,"class","help-text svelte-xvlhfg"),n(L,"class","form-group svelte-xvlhfg"),n(be,"class","section-title svelte-xvlhfg"),n(ge,"for","entryDeadline"),n(ge,"class","required svelte-xvlhfg"),n(Y,"type","date"),n(Y,"id","entryDeadline"),n(Y,"class",We="form-control "+(t[16].entryDeadline?"error":"")+" svelte-xvlhfg"),Y.disabled=Ze=t[15]||t[17],n(ee,"type","time"),n(ee,"id","entryDeadlineTime"),n(ee,"class","form-control time-input svelte-xvlhfg"),ee.disabled=$e=t[15]||t[17],n(pe,"class","datetime-inputs svelte-xvlhfg"),n(ye,"class","help-text svelte-xvlhfg"),n(G,"class","form-group svelte-xvlhfg"),n(P,"for","judgingDate"),n(P,"class","required svelte-xvlhfg"),n(se,"type","date"),n(se,"id","judgingDate"),n(se,"class",pt="form-control "+(t[16].judgingDate?"error":"")+" svelte-xvlhfg"),se.disabled=t[15],n(ue,"type","time"),n(ue,"id","judgingDateTime"),n(ue,"class","form-control time-input svelte-xvlhfg"),ue.disabled=t[15],n(ke,"class","datetime-inputs svelte-xvlhfg"),n(Ge,"class","help-text svelte-xvlhfg"),n(S,"class","form-group svelte-xvlhfg"),n(he,"class","form-row svelte-xvlhfg"),n(fe,"type","checkbox"),n(fe,"id","hideJudgingDate"),fe.disabled=t[15],n(fe,"class","svelte-xvlhfg"),n(Ie,"for","hideJudgingDate"),n(Ie,"class","svelte-xvlhfg"),n(Ee,"class","checkbox-group svelte-xvlhfg"),n(ze,"class","section-title svelte-xvlhfg"),n(Te,"for","entryFee"),n(Te,"class","svelte-xvlhfg"),n(A,"type","number"),n(A,"id","entryFee"),n(A,"class",mt="form-control "+(t[16].entryFee?"error":"")+" svelte-xvlhfg"),n(A,"min","0"),n(A,"max","100"),n(A,"step","1"),A.disabled=bt=t[15]||t[17],n(tt,"class","help-text svelte-xvlhfg"),n(te,"class","form-group svelte-xvlhfg"),n(xe,"for","maxEntries"),n(xe,"class","svelte-xvlhfg"),n(z,"type","number"),n(z,"id","maxEntries"),n(z,"class",yt="form-control "+(t[16].maxEntriesPerMember?"error":"")+" svelte-xvlhfg"),n(z,"min","1"),n(z,"max","20"),z.disabled=kt=t[15]||t[17],n(lt,"class","help-text svelte-xvlhfg"),n(le,"class","form-group svelte-xvlhfg"),n(Ve,"class","form-row svelte-xvlhfg"),n(Oe,"class","section-title svelte-xvlhfg"),n(Re,"class","svelte-xvlhfg"),n(O,"type","radio"),O.__value="default",j(O,O.__value),O.disabled=Vt=t[15]||t[17],n(Ke,"class","radio-label svelte-xvlhfg"),n(Se,"class","radio-option svelte-xvlhfg"),n(R,"type","radio"),R.__value="custom",j(R,R.__value),R.disabled=Tt=t[15]||t[17],n(Qe,"class","radio-label svelte-xvlhfg"),n(we,"class","radio-option svelte-xvlhfg"),n(Le,"class","radio-group svelte-xvlhfg"),n(de,"class","form-group svelte-xvlhfg"),n(Xe,"class","section-title svelte-xvlhfg"),n(ce,"type","checkbox"),n(ce,"id","isActive"),ce.disabled=t[15],n(ce,"class","svelte-xvlhfg"),n(Pe,"for","isActive"),n(Pe,"class","svelte-xvlhfg"),n(je,"class","checkbox-group svelte-xvlhfg"),n(Ye,"class","help-text svelte-xvlhfg"),n(_e,"type","button"),n(_e,"class","btn btn-secondary svelte-xvlhfg"),_e.disabled=t[15],n(Ce,"type","submit"),n(Ce,"class","btn btn-primary svelte-xvlhfg"),Ce.disabled=t[15],n(Me,"class","form-actions svelte-xvlhfg"),n(l,"class","form-card svelte-xvlhfg"),hl.p(O,R)},m(o,c){Q(o,l,c),N&&N.m(l,null),s(l,e),s(l,i),s(i,r),s(i,C),s(i,b),s(b,d),s(b,k),s(b,p),j(p,t[1]),s(b,V),F&&F.m(b,null),s(i,M),s(i,L),s(L,X),s(L,re),s(L,x),j(x,t[2]),s(L,qe),B&&B.m(L,null),s(L,Je),s(L,$),s(i,it),s(i,be),s(i,rt),s(i,he),s(he,G),s(G,ge),s(G,at),s(G,pe),s(pe,Y),j(Y,t[3]),s(pe,ot),s(pe,ee),j(ee,t[4]),s(G,ut),U&&U.m(G,null),s(G,et),s(G,ye),s(ye,ae),s(he,oe),s(he,S),s(S,P),s(S,Jt),s(S,ke),s(ke,se),j(se,t[5]),s(ke,Gt),s(ke,ue),j(ue,t[6]),s(S,zt),H&&H.m(S,null),s(S,_t),s(S,Ge),s(i,Ot),s(i,Ee),s(Ee,fe),fe.checked=t[10],s(Ee,Rt),s(Ee,Ie),s(i,Kt),s(i,ze),s(i,Qt),s(i,Ve),s(Ve,te),s(te,Te),s(te,Xt),s(te,A),j(A,t[7]),s(te,Yt),q&&q.m(te,null),s(te,Ct),s(te,tt),s(tt,Dt),s(Ve,Wt),s(Ve,le),s(le,xe),s(le,Zt),s(le,z),j(z,t[8]),s(le,$t),J&&J.m(le,null),s(le,Et),s(le,lt),s(lt,It),s(i,el),s(i,Oe),s(i,tl),s(i,de),s(de,Re),s(de,ll),s(de,Le),s(Le,Se),s(Se,O),O.checked=O.__value===t[11],s(Se,sl),s(Se,Ke),s(Le,nl),s(Le,we),s(we,R),R.checked=R.__value===t[11],s(we,il),s(we,Qe),s(de,rl),K&&K.m(de,null),s(i,al),w&&w.m(i,null),s(i,xt),s(i,Xe),s(i,ol),s(i,je),s(je,ce),ce.checked=t[9],s(je,ul),s(je,Pe),s(i,fl),s(i,Ye),s(i,dl),s(i,Me),s(Me,_e),s(_e,cl),s(Me,vl),s(Me,Ce),s(Ce,Lt),I=!0,gl||(Pl=[W(p,"input",t[22]),W(x,"input",t[23]),W(Y,"input",t[24]),W(ee,"input",t[25]),W(se,"input",t[26]),W(ue,"input",t[27]),W(fe,"change",t[28]),W(A,"input",t[29]),W(z,"input",t[30]),W(O,"change",t[31]),W(R,"change",t[33]),W(ce,"change",t[37]),W(_e,"click",t[19]),W(i,"submit",fs(t[18]))],gl=!0)},p(o,c){o[17]?N?N.p(o,c):(N=Hl(o),N.c(),N.m(l,e)):N&&(N.d(1),N=null),(!I||c[0]&65536&&y!==(y="form-control "+(o[16].name?"error":"")+" svelte-xvlhfg"))&&n(p,"class",y),(!I||c[0]&32768)&&(p.disabled=o[15]),c[0]&2&&p.value!==o[1]&&j(p,o[1]),o[16].name?F?F.p(o,c):(F=ql(o),F.c(),F.m(b,null)):F&&(F.d(1),F=null),(!I||c[0]&65536&&De!==(De="form-control "+(o[16].description?"error":"")+" svelte-xvlhfg"))&&n(x,"class",De),(!I||c[0]&32768)&&(x.disabled=o[15]),c[0]&4&&j(x,o[2]),o[16].description?B?B.p(o,c):(B=Jl(o),B.c(),B.m(L,Je)):B&&(B.d(1),B=null),(!I||c[0]&65536&&We!==(We="form-control "+(o[16].entryDeadline?"error":"")+" svelte-xvlhfg"))&&n(Y,"class",We),(!I||c[0]&163840&&Ze!==(Ze=o[15]||o[17]))&&(Y.disabled=Ze),c[0]&8&&j(Y,o[3]),(!I||c[0]&163840&&$e!==($e=o[15]||o[17]))&&(ee.disabled=$e),c[0]&16&&j(ee,o[4]),o[16].entryDeadline?U?U.p(o,c):(U=Gl(o),U.c(),U.m(G,et)):U&&(U.d(1),U=null),(!I||c[0]&131072)&&h!==(h=o[17]?"Cannot change after entries submitted":"Date and time when entries close")&&ve(ae,h),(!I||c[0]&65536&&pt!==(pt="form-control "+(o[16].judgingDate?"error":"")+" svelte-xvlhfg"))&&n(se,"class",pt),(!I||c[0]&32768)&&(se.disabled=o[15]),c[0]&32&&j(se,o[5]),(!I||c[0]&32768)&&(ue.disabled=o[15]),c[0]&64&&j(ue,o[6]),o[16].judgingDate?H?H.p(o,c):(H=zl(o),H.c(),H.m(S,_t)):H&&(H.d(1),H=null),(!I||c[0]&32768)&&(fe.disabled=o[15]),c[0]&1024&&(fe.checked=o[10]),(!I||c[0]&65536&&mt!==(mt="form-control "+(o[16].entryFee?"error":"")+" svelte-xvlhfg"))&&n(A,"class",mt),(!I||c[0]&163840&&bt!==(bt=o[15]||o[17]))&&(A.disabled=bt),c[0]&128&&qt(A.value)!==o[7]&&j(A,o[7]),o[16].entryFee?q?q.p(o,c):(q=Ol(o),q.c(),q.m(te,Ct)):q&&(q.d(1),q=null),(!I||c[0]&131072)&&ft!==(ft=o[17]?"Cannot change after entries submitted":"Fee per entry (0 for free)")&&ve(Dt,ft),(!I||c[0]&65536&&yt!==(yt="form-control "+(o[16].maxEntriesPerMember?"error":"")+" svelte-xvlhfg"))&&n(z,"class",yt),(!I||c[0]&163840&&kt!==(kt=o[15]||o[17]))&&(z.disabled=kt),c[0]&256&&qt(z.value)!==o[8]&&j(z,o[8]),o[16].maxEntriesPerMember?J?J.p(o,c):(J=Rl(o),J.c(),J.m(le,Et)):J&&(J.d(1),J=null),(!I||c[0]&131072)&&dt!==(dt=o[17]?"Cannot change after entries submitted":"Maximum entries allowed per member")&&ve(It,dt),(!I||c[0]&163840&&Vt!==(Vt=o[15]||o[17]))&&(O.disabled=Vt),c[0]&2048&&(O.checked=O.__value===o[11]),(!I||c[0]&163840&&Tt!==(Tt=o[15]||o[17]))&&(R.disabled=Tt),c[0]&2048&&(R.checked=R.__value===o[11]),o[17]?K||(K=Kl(),K.c(),K.m(de,null)):K&&(K.d(1),K=null),o[11]==="custom"?w?(w.p(o,c),c[0]&2048&&me(w,1)):(w=Ql(o),w.c(),me(w,1),w.m(i,xt)):w&&(bl(),He(w,1,1,()=>{w=null}),ml()),(!I||c[0]&32768)&&(ce.disabled=o[15]),c[0]&512&&(ce.checked=o[9]),(!I||c[0]&32768)&&(_e.disabled=o[15]),(!I||c[0]&32768)&&ct!==(ct=o[15]?"Saving...":"Save Changes")&&ve(Lt,ct),(!I||c[0]&32768)&&(Ce.disabled=o[15])},i(o){I||(me(w),I=!0)},o(o){He(w),I=!1},d(o){o&&v(l),N&&N.d(),F&&F.d(),B&&B.d(),U&&U.d(),H&&H.d(),q&&q.d(),J&&J.d(),K&&K.d(),w&&w.d(),hl.r(),gl=!1,us(Pl)}}}function Ds(t){let l,e='<div class="spinner svelte-xvlhfg"></div> <p>Loading competition...</p>';return{c(){l=f("div"),l.innerHTML=e,this.h()},l(i){l=u(i,"DIV",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-qasb26"&&(l.innerHTML=e),this.h()},h(){n(l,"class","loading svelte-xvlhfg")},m(i,r){Q(i,l,r)},p:pl,i:pl,o:pl,d(i){i&&v(l)}}}function Hl(t){let l,e=`<strong class="svelte-xvlhfg">⚠️ This competition has entries</strong>
          Some fields cannot be modified after entries have been submitted.`,i,r,a,C,b="Total Entries",d,g,k=(t[0].entry_count||0)+"",p;return{c(){l=f("div"),l.innerHTML=e,i=m(),r=f("div"),a=f("div"),C=f("span"),C.textContent=b,d=m(),g=f("span"),p=ie(k),this.h()},l(y){l=u(y,"DIV",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-z1fbzs"&&(l.innerHTML=e),i=_(y),r=u(y,"DIV",{class:!0});var V=D(r);a=u(V,"DIV",{class:!0});var M=D(a);C=u(M,"SPAN",{class:!0,"data-svelte-h":!0}),T(C)!=="svelte-ybinew"&&(C.textContent=b),d=_(M),g=u(M,"SPAN",{class:!0});var L=D(g);p=ne(L,k),L.forEach(v),M.forEach(v),V.forEach(v),this.h()},h(){n(l,"class","warning-banner svelte-xvlhfg"),n(C,"class","stat-label svelte-xvlhfg"),n(g,"class","stat-value svelte-xvlhfg"),n(a,"class","stat svelte-xvlhfg"),n(r,"class","entry-stats svelte-xvlhfg")},m(y,V){Q(y,l,V),Q(y,i,V),Q(y,r,V),s(r,a),s(a,C),s(a,d),s(a,g),s(g,p)},p(y,V){V[0]&1&&k!==(k=(y[0].entry_count||0)+"")&&ve(p,k)},d(y){y&&(v(l),v(i),v(r))}}}function ql(t){let l,e=t[16].name+"",i;return{c(){l=f("div"),i=ie(e),this.h()},l(r){l=u(r,"DIV",{class:!0});var a=D(l);i=ne(a,e),a.forEach(v),this.h()},h(){n(l,"class","error-message svelte-xvlhfg")},m(r,a){Q(r,l,a),s(l,i)},p(r,a){a[0]&65536&&e!==(e=r[16].name+"")&&ve(i,e)},d(r){r&&v(l)}}}function Jl(t){let l,e=t[16].description+"",i;return{c(){l=f("div"),i=ie(e),this.h()},l(r){l=u(r,"DIV",{class:!0});var a=D(l);i=ne(a,e),a.forEach(v),this.h()},h(){n(l,"class","error-message svelte-xvlhfg")},m(r,a){Q(r,l,a),s(l,i)},p(r,a){a[0]&65536&&e!==(e=r[16].description+"")&&ve(i,e)},d(r){r&&v(l)}}}function Gl(t){let l,e=t[16].entryDeadline+"",i;return{c(){l=f("div"),i=ie(e),this.h()},l(r){l=u(r,"DIV",{class:!0});var a=D(l);i=ne(a,e),a.forEach(v),this.h()},h(){n(l,"class","error-message svelte-xvlhfg")},m(r,a){Q(r,l,a),s(l,i)},p(r,a){a[0]&65536&&e!==(e=r[16].entryDeadline+"")&&ve(i,e)},d(r){r&&v(l)}}}function zl(t){let l,e=t[16].judgingDate+"",i;return{c(){l=f("div"),i=ie(e),this.h()},l(r){l=u(r,"DIV",{class:!0});var a=D(l);i=ne(a,e),a.forEach(v),this.h()},h(){n(l,"class","error-message svelte-xvlhfg")},m(r,a){Q(r,l,a),s(l,i)},p(r,a){a[0]&65536&&e!==(e=r[16].judgingDate+"")&&ve(i,e)},d(r){r&&v(l)}}}function Ol(t){let l,e=t[16].entryFee+"",i;return{c(){l=f("div"),i=ie(e),this.h()},l(r){l=u(r,"DIV",{class:!0});var a=D(l);i=ne(a,e),a.forEach(v),this.h()},h(){n(l,"class","error-message svelte-xvlhfg")},m(r,a){Q(r,l,a),s(l,i)},p(r,a){a[0]&65536&&e!==(e=r[16].entryFee+"")&&ve(i,e)},d(r){r&&v(l)}}}function Rl(t){let l,e=t[16].maxEntriesPerMember+"",i;return{c(){l=f("div"),i=ie(e),this.h()},l(r){l=u(r,"DIV",{class:!0});var a=D(l);i=ne(a,e),a.forEach(v),this.h()},h(){n(l,"class","error-message svelte-xvlhfg")},m(r,a){Q(r,l,a),s(l,i)},p(r,a){a[0]&65536&&e!==(e=r[16].maxEntriesPerMember+"")&&ve(i,e)},d(r){r&&v(l)}}}function Kl(t){let l,e="Cannot change after entries submitted";return{c(){l=f("div"),l.textContent=e,this.h()},l(i){l=u(i,"DIV",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-sareta"&&(l.textContent=e),this.h()},h(){n(l,"class","help-text svelte-xvlhfg")},m(i,r){Q(i,l,r)},d(i){i&&v(l)}}}function Ql(t){let l,e,i,r,a;function C(g){t[34](g)}let b={disabled:t[17]};t[12]!==void 0&&(b.selectedCategories=t[12]),e=new ms({props:b}),Zl.push(()=>es(e,"selectedCategories",C)),e.$on("change",t[35]);let d=t[12].length>0&&Xl(t);return{c(){l=f("div"),ns(e.$$.fragment),r=m(),d&&d.c(),this.h()},l(g){l=u(g,"DIV",{class:!0});var k=D(l);ss(e.$$.fragment,k),r=_(k),d&&d.l(k),k.forEach(v),this.h()},h(){n(l,"class","custom-category-section svelte-xvlhfg")},m(g,k){Q(g,l,k),ls(e,l,null),s(l,r),d&&d.m(l,null),a=!0},p(g,k){const p={};k[0]&131072&&(p.disabled=g[17]),!i&&k[0]&4096&&(i=!0,p.selectedCategories=g[12],$l(()=>i=!1)),e.$set(p),g[12].length>0?d?(d.p(g,k),k[0]&4096&&me(d,1)):(d=Xl(g),d.c(),me(d,1),d.m(l,null)):d&&(bl(),He(d,1,1,()=>{d=null}),ml())},i(g){a||(me(e.$$.fragment,g),me(d),a=!0)},o(g){He(e.$$.fragment,g),He(d),a=!1},d(g){g&&v(l),ts(e),d&&d.d()}}}function Xl(t){let l,e,i,r;function a(b){t[36](b)}let C={selectedCategories:t[12],disabled:t[17]};return t[13]!==void 0&&(C.rankingGroups=t[13]),e=new bs({props:C}),Zl.push(()=>es(e,"rankingGroups",a)),e.$on("change",ks),{c(){l=f("div"),ns(e.$$.fragment),this.h()},l(b){l=u(b,"DIV",{style:!0});var d=D(l);ss(e.$$.fragment,d),d.forEach(v),this.h()},h(){ds(l,"margin-top","1.5rem")},m(b,d){Q(b,l,d),ls(e,l,null),r=!0},p(b,d){const g={};d[0]&4096&&(g.selectedCategories=b[12]),d[0]&131072&&(g.disabled=b[17]),!i&&d[0]&8192&&(i=!0,g.rankingGroups=b[13],$l(()=>i=!1)),e.$set(g)},i(b){r||(me(e.$$.fragment,b),r=!0)},o(b){He(e.$$.fragment,b),r=!1},d(b){b&&v(l),ts(e)}}}function ys(t){let l,e,i='<h1 class="svelte-xvlhfg"><span class="emoji svelte-xvlhfg">✏️</span> Edit Competition</h1> <p class="subtitle svelte-xvlhfg">Update competition details</p>',r,a,C,b;const d=[Ds,Cs],g=[];function k(p,y){return p[14]?0:p[0]?1:-1}return~(a=k(t))&&(C=g[a]=d[a](t)),{c(){l=f("div"),e=f("div"),e.innerHTML=i,r=m(),C&&C.c(),this.h()},l(p){l=u(p,"DIV",{class:!0});var y=D(l);e=u(y,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1s0xfnr"&&(e.innerHTML=i),r=_(y),C&&C.l(y),y.forEach(v),this.h()},h(){n(e,"class","hero svelte-xvlhfg"),n(l,"class","container svelte-xvlhfg")},m(p,y){Q(p,l,y),s(l,e),s(l,r),~a&&g[a].m(l,null),b=!0},p(p,y){let V=a;a=k(p),a===V?~a&&g[a].p(p,y):(C&&(bl(),He(g[V],1,1,()=>{g[V]=null}),ml()),~a?(C=g[a],C?C.p(p,y):(C=g[a]=d[a](p),C.c()),me(C,1),C.m(l,null)):C=null)},i(p){b||(me(C),b=!0)},o(p){He(C),b=!1},d(p){p&&v(l),~a&&g[a].d()}}}function Yl(t){const l=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${l}-${e}-${i}`}function Wl(t){const l=String(t.getHours()).padStart(2,"0"),e=String(t.getMinutes()).padStart(2,"0");return`${l}:${e}`}const ks=()=>{};function Es(t,l,e){let i,r,a,C;Ul(t,hs,h=>e(20,a=h)),Ul(t,gs,h=>e(21,C=h));let b="",d="",g="",k="00:00",p="",y="00:00",V=5,M=5,L=!0,X=!1,Z="default",re=[],x=[],De=!0,qe=!1,Je={},$=null;rs(async()=>{await _s(),vt()}),as(()=>{});async function vt(){e(14,De=!0);try{const{data:h,error:ae}=await _l.from("competitions").select(`
          *,
          competition_ranking_groups (
            id,
            group_name,
            group_description,
            bjcp_category_ids,
            group_order
          )
        `).eq("id",i).single();if(ae)throw ae;if(h){e(0,$=h),e(1,b=h.name||""),e(2,d=h.description||"");const oe=new Date(h.entry_deadline);e(3,g=Yl(oe)),e(4,k=Wl(oe));const S=new Date(h.judging_date);e(5,p=Yl(S)),e(6,y=Wl(S)),e(7,V=h.entry_fee||0),e(8,M=h.max_entries_per_member||5),e(9,L=h.active??!0),e(10,X=h.hide_judging_date??!1),e(11,Z=h.category_system||"default"),Z==="custom"&&h.category_restrictions?(e(12,re=Array.isArray(h.category_restrictions)?h.category_restrictions:JSON.parse(h.category_restrictions)),h.competition_ranking_groups&&h.competition_ranking_groups.length>0&&e(13,x=h.competition_ranking_groups.map(P=>({id:P.id,name:P.group_name,description:P.group_description||"",categories:Array.isArray(P.bjcp_category_ids)?P.bjcp_category_ids:JSON.parse(P.bjcp_category_ids)})))):(e(12,re=[]),e(13,x=[]))}}catch(h){console.error("Error loading competition:",h),alert("Failed to load competition"),Ht("/officers/manage-competitions")}finally{e(14,De=!1)}}function it(){const h={};if(b.trim()?b.length>100&&(h.name="Name must be 100 characters or less"):h.name="Competition name is required",d&&d.length>500&&(h.description="Description must be 500 characters or less"),g||(h.entryDeadline="Entry deadline is required"),!p)h.judgingDate="Judging date is required";else{const ae=new Date(`${p}T${y}:00`),oe=new Date(`${g}T${k}:00`);ae<=oe&&(h.judgingDate="Judging date and time must be after entry deadline")}return(V<0||V>100)&&(h.entryFee="Entry fee must be between $0 and $100"),(M<1||M>20)&&(h.maxEntriesPerMember="Max entries must be between 1 and 20"),e(16,Je=h),Object.keys(h).length===0}async function be(){if(it()){e(15,qe=!0);try{const h={name:b.trim(),description:d.trim()||null,entry_deadline:`${g}T${k}:00`,judging_date:`${p}T${y}:00`,entry_fee:V,max_entries_per_member:M,active:L,hide_judging_date:X,category_system:Z,category_restrictions:Z==="custom"&&re.length>0?re:null};if(await ps(i,h),!r&&(await _l.from("competition_ranking_groups").delete().eq("competition_id",i),Z==="custom"&&x.length>0)){const ae=x.map((S,P)=>({competition_id:i,group_name:S.name,group_description:S.description||null,bjcp_category_ids:S.categories,group_order:P+1})),{error:oe}=await _l.from("competition_ranking_groups").insert(ae);if(oe)throw oe}Ht("/officers/manage-competitions")}catch(h){console.error("Error updating competition:",h),alert(`Error updating competition: ${h.message}`),e(15,qe=!1)}}}function ht(){Ht("/officers/manage-competitions")}const rt=[[]];function he(){b=this.value,e(1,b)}function G(){d=this.value,e(2,d)}function ge(){g=this.value,e(3,g)}function gt(){k=this.value,e(4,k)}function at(){p=this.value,e(5,p)}function pe(){y=this.value,e(6,y)}function Y(){X=this.checked,e(10,X)}function We(){V=qt(this.value),e(7,V)}function Ze(){M=qt(this.value),e(8,M)}function ot(){Z=this.__value,e(11,Z)}function ee(){Z=this.__value,e(11,Z)}function $e(h){re=h,e(12,re)}const ut=()=>{r||e(13,x=[])};function et(h){x=h,e(13,x)}function ye(){L=this.checked,e(9,L)}return t.$$.update=()=>{t.$$.dirty[0]&2097152&&C&&!C.is_officer&&Ht("/"),t.$$.dirty[0]&1048576&&(i=a.params.id),t.$$.dirty[0]&1&&e(17,r=($==null?void 0:$.entry_count)>0)},[$,b,d,g,k,p,y,V,M,L,X,Z,re,x,De,qe,Je,r,be,ht,a,C,he,G,ge,gt,at,pe,Y,We,Ze,ot,rt,ee,$e,ut,et,ye]}class Ms extends cs{constructor(l){super(),vs(this,l,Es,ys,is,{},null,[-1,-1])}}export{Ms as component};
