import{s as Ie,n as W,d as _,i as L,b as r,w as ke,q as y,A as Ee,g as I,c as p,e as k,B as J,j as E,h as g,k as le,C as Ve,a as B,f as j,t as w,E as xe,F as se,L as ae}from"../chunks/hctCtYiR.js";import{e as re}from"../chunks/CnSxDlF_.js";import{S as je,i as we}from"../chunks/Cq-BpkVh.js";import{g as oe}from"../chunks/CWOJt_gR.js";import{p as Ne}from"../chunks/Cb2qtQR3.js";import{u as Se}from"../chunks/B_6LiPh4.js";import{s as ne}from"../chunks/CCM_4jRA.js";function ie(a,e,t){const n=a.slice();return n[8]=e[t],n}function Pe(a){let e,t="<h3>No Scoresheet Found</h3> <p>The scoresheet for this entry could not be loaded.</p>";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(n){e=p(n,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-h4p5od"&&(e.innerHTML=t),this.h()},h(){y(e,"class","empty-state svelte-147x0y6")},m(n,i){L(n,e,i)},p:W,d(n){n&&_(e)}}}function Te(a){let e,t,n,i=a[0].entry.entry_number+"",l,c,v=a[0].entry.beer_name+"",m,d,f,o,s,b="Competition",h,u,C=a[0].entry.competition.name+"",V,U,X,z,G,q="Judging Date",M,S,T=Y(a[0].entry.competition.judging_date)+"",x,A,O,H=a[0].entry.category&&ce(a),Z=re(a[0].sessions),N=[];for(let D=0;D<Z.length;D+=1)N[D]=be(ie(a,Z,D));return{c(){e=g("div"),t=g("h2"),n=w("Entry #"),l=w(i),c=w(": "),m=w(v),d=E(),f=g("div"),o=g("div"),s=g("span"),s.textContent=b,h=E(),u=g("span"),V=w(C),U=E(),H&&H.c(),X=E(),z=g("div"),G=g("span"),G.textContent=q,M=E(),S=g("span"),x=w(T),A=E();for(let D=0;D<N.length;D+=1)N[D].c();O=se(),this.h()},l(D){e=p(D,"DIV",{class:!0});var F=k(e);t=p(F,"H2",{class:!0});var P=k(t);n=j(P,"Entry #"),l=j(P,i),c=j(P,": "),m=j(P,v),P.forEach(_),d=I(F),f=p(F,"DIV",{class:!0});var R=k(f);o=p(R,"DIV",{class:!0});var K=k(o);s=p(K,"SPAN",{class:!0,"data-svelte-h":!0}),J(s)!=="svelte-16us54w"&&(s.textContent=b),h=I(K),u=p(K,"SPAN",{class:!0});var ee=k(u);V=j(ee,C),ee.forEach(_),K.forEach(_),U=I(R),H&&H.l(R),X=I(R),z=p(R,"DIV",{class:!0});var Q=k(z);G=p(Q,"SPAN",{class:!0,"data-svelte-h":!0}),J(G)!=="svelte-1yi5wdv"&&(G.textContent=q),M=I(Q),S=p(Q,"SPAN",{class:!0});var te=k(S);x=j(te,T),te.forEach(_),Q.forEach(_),R.forEach(_),F.forEach(_),A=I(D);for(let $=0;$<N.length;$+=1)N[$].l(D);O=se(),this.h()},h(){y(t,"class","entry-title svelte-147x0y6"),y(s,"class","meta-label svelte-147x0y6"),y(u,"class","meta-value svelte-147x0y6"),y(o,"class","meta-item svelte-147x0y6"),y(G,"class","meta-label svelte-147x0y6"),y(S,"class","meta-value svelte-147x0y6"),y(z,"class","meta-item svelte-147x0y6"),y(f,"class","entry-meta svelte-147x0y6"),y(e,"class","entry-info svelte-147x0y6")},m(D,F){L(D,e,F),r(e,t),r(t,n),r(t,l),r(t,c),r(t,m),r(e,d),r(e,f),r(f,o),r(o,s),r(o,h),r(o,u),r(u,V),r(f,U),H&&H.m(f,null),r(f,X),r(f,z),r(z,G),r(z,M),r(z,S),r(S,x),L(D,A,F);for(let P=0;P<N.length;P+=1)N[P]&&N[P].m(D,F);L(D,O,F)},p(D,F){if(F&1&&i!==(i=D[0].entry.entry_number+"")&&B(l,i),F&1&&v!==(v=D[0].entry.beer_name+"")&&B(m,v),F&1&&C!==(C=D[0].entry.competition.name+"")&&B(V,C),D[0].entry.category?H?H.p(D,F):(H=ce(D),H.c(),H.m(f,X)):H&&(H.d(1),H=null),F&1&&T!==(T=Y(D[0].entry.competition.judging_date)+"")&&B(x,T),F&1){Z=re(D[0].sessions);let P;for(P=0;P<Z.length;P+=1){const R=ie(D,Z,P);N[P]?N[P].p(R,F):(N[P]=be(R),N[P].c(),N[P].m(O.parentNode,O))}for(;P<N.length;P+=1)N[P].d(1);N.length=Z.length}},d(D){D&&(_(e),_(A),_(O)),H&&H.d(),xe(N,D)}}}function Ae(a){let e,t;return{c(){e=g("div"),t=w(a[2]),this.h()},l(n){e=p(n,"DIV",{class:!0});var i=k(e);t=j(i,a[2]),i.forEach(_),this.h()},h(){y(e,"class","error svelte-147x0y6")},m(n,i){L(n,e,i),r(e,t)},p(n,i){i&4&&B(t,n[2])},d(n){n&&_(e)}}}function Le(a){let e,t='<div class="spinner svelte-147x0y6"></div> <p>Loading scoresheet details...</p>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(n){e=p(n,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-2ofsvw"&&(e.innerHTML=t),this.h()},h(){y(e,"class","loading svelte-147x0y6")},m(n,i){L(n,e,i)},p:W,d(n){n&&_(e)}}}function ce(a){let e,t,n="Category",i,l,c=a[0].entry.category.category_number+"",v,m=a[0].entry.category.subcategory_letter+"",d,f,o=a[0].entry.category.category_name+"",s,b,h=a[0].entry.category.subcategory_name&&ue(a);return{c(){e=g("div"),t=g("span"),t.textContent=n,i=E(),l=g("span"),v=w(c),d=w(m),f=w(" - "),s=w(o),b=E(),h&&h.c(),this.h()},l(u){e=p(u,"DIV",{class:!0});var C=k(e);t=p(C,"SPAN",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-t517m7"&&(t.textContent=n),i=I(C),l=p(C,"SPAN",{class:!0});var V=k(l);v=j(V,c),d=j(V,m),f=j(V," - "),s=j(V,o),b=I(V),h&&h.l(V),V.forEach(_),C.forEach(_),this.h()},h(){y(t,"class","meta-label svelte-147x0y6"),y(l,"class","meta-value svelte-147x0y6"),y(e,"class","meta-item svelte-147x0y6")},m(u,C){L(u,e,C),r(e,t),r(e,i),r(e,l),r(l,v),r(l,d),r(l,f),r(l,s),r(l,b),h&&h.m(l,null)},p(u,C){C&1&&c!==(c=u[0].entry.category.category_number+"")&&B(v,c),C&1&&m!==(m=u[0].entry.category.subcategory_letter+"")&&B(d,m),C&1&&o!==(o=u[0].entry.category.category_name+"")&&B(s,o),u[0].entry.category.subcategory_name?h?h.p(u,C):(h=ue(u),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},d(u){u&&_(e),h&&h.d()}}}function ue(a){let e,t=a[0].entry.category.subcategory_name+"",n,i;return{c(){e=w("("),n=w(t),i=w(")")},l(l){e=j(l,"("),n=j(l,t),i=j(l,")")},m(l,c){L(l,e,c),L(l,n,c),L(l,i,c)},p(l,c){c&1&&t!==(t=l[0].entry.category.subcategory_name+"")&&B(n,t)},d(l){l&&(_(e),_(n),_(i))}}}function de(a){let e,t,n=Y(a[8].judged_at)+"",i;return{c(){e=g("div"),t=w("Judged: "),i=w(n),this.h()},l(l){e=p(l,"DIV",{class:!0});var c=k(e);t=j(c,"Judged: "),i=j(c,n),c.forEach(_),this.h()},h(){y(e,"class","judge-date svelte-147x0y6")},m(l,c){L(l,e,c),r(e,t),r(e,i)},p(l,c){c&1&&n!==(n=Y(l[8].judged_at)+"")&&B(i,n)},d(l){l&&_(e)}}}function fe(a){let e,t=De(a[8].total_score)+"",n;return{c(){e=g("div"),n=w(t),this.h()},l(i){e=p(i,"DIV",{class:!0});var l=k(e);n=j(l,t),l.forEach(_),this.h()},h(){y(e,"class","score-description svelte-147x0y6")},m(i,l){L(i,e,l),r(e,n)},p(i,l){l&1&&t!==(t=De(i[8].total_score)+"")&&B(n,t)},d(i){i&&_(e)}}}function ve(a){let e,t,n="BJCP Score Breakdown",i,l,c,v,m,d,f=a[8].aroma_score!==null&&_e(a),o=a[8].appearance_score!==null&&he(a),s=a[8].flavor_score!==null&&me(a),b=a[8].mouthfeel_score!==null&&ye(a),h=a[8].overall_score!==null&&pe(a);return{c(){e=g("div"),t=g("h3"),t.textContent=n,i=E(),l=g("div"),f&&f.c(),c=E(),o&&o.c(),v=E(),s&&s.c(),m=E(),b&&b.c(),d=E(),h&&h.c(),this.h()},l(u){e=p(u,"DIV",{class:!0});var C=k(e);t=p(C,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-fftw4p"&&(t.textContent=n),i=I(C),l=p(C,"DIV",{class:!0});var V=k(l);f&&f.l(V),c=I(V),o&&o.l(V),v=I(V),s&&s.l(V),m=I(V),b&&b.l(V),d=I(V),h&&h.l(V),V.forEach(_),C.forEach(_),this.h()},h(){y(t,"class","breakdown-title svelte-147x0y6"),y(l,"class","score-grid svelte-147x0y6"),y(e,"class","score-breakdown svelte-147x0y6")},m(u,C){L(u,e,C),r(e,t),r(e,i),r(e,l),f&&f.m(l,null),r(l,c),o&&o.m(l,null),r(l,v),s&&s.m(l,null),r(l,m),b&&b.m(l,null),r(l,d),h&&h.m(l,null)},p(u,C){u[8].aroma_score!==null?f?f.p(u,C):(f=_e(u),f.c(),f.m(l,c)):f&&(f.d(1),f=null),u[8].appearance_score!==null?o?o.p(u,C):(o=he(u),o.c(),o.m(l,v)):o&&(o.d(1),o=null),u[8].flavor_score!==null?s?s.p(u,C):(s=me(u),s.c(),s.m(l,m)):s&&(s.d(1),s=null),u[8].mouthfeel_score!==null?b?b.p(u,C):(b=ye(u),b.c(),b.m(l,d)):b&&(b.d(1),b=null),u[8].overall_score!==null?h?h.p(u,C):(h=pe(u),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},d(u){u&&_(e),f&&f.d(),o&&o.d(),s&&s.d(),b&&b.d(),h&&h.d()}}}function _e(a){let e,t,n="Aroma",i,l,c=a[8].aroma_score+"",v,m,d,f="out of 12";return{c(){e=g("div"),t=g("div"),t.textContent=n,i=E(),l=g("div"),v=w(c),m=E(),d=g("div"),d.textContent=f,this.h()},l(o){e=p(o,"DIV",{class:!0});var s=k(e);t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-xynfsu"&&(t.textContent=n),i=I(s),l=p(s,"DIV",{class:!0});var b=k(l);v=j(b,c),b.forEach(_),m=I(s),d=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(d)!=="svelte-ljuseo"&&(d.textContent=f),s.forEach(_),this.h()},h(){y(t,"class","score-item-label svelte-147x0y6"),y(l,"class","score-item-value svelte-147x0y6"),y(d,"class","score-item-max svelte-147x0y6"),y(e,"class","score-item svelte-147x0y6")},m(o,s){L(o,e,s),r(e,t),r(e,i),r(e,l),r(l,v),r(e,m),r(e,d)},p(o,s){s&1&&c!==(c=o[8].aroma_score+"")&&B(v,c)},d(o){o&&_(e)}}}function he(a){let e,t,n="Appearance",i,l,c=a[8].appearance_score+"",v,m,d,f="out of 3";return{c(){e=g("div"),t=g("div"),t.textContent=n,i=E(),l=g("div"),v=w(c),m=E(),d=g("div"),d.textContent=f,this.h()},l(o){e=p(o,"DIV",{class:!0});var s=k(e);t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1p3gef4"&&(t.textContent=n),i=I(s),l=p(s,"DIV",{class:!0});var b=k(l);v=j(b,c),b.forEach(_),m=I(s),d=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(d)!=="svelte-9149sy"&&(d.textContent=f),s.forEach(_),this.h()},h(){y(t,"class","score-item-label svelte-147x0y6"),y(l,"class","score-item-value svelte-147x0y6"),y(d,"class","score-item-max svelte-147x0y6"),y(e,"class","score-item svelte-147x0y6")},m(o,s){L(o,e,s),r(e,t),r(e,i),r(e,l),r(l,v),r(e,m),r(e,d)},p(o,s){s&1&&c!==(c=o[8].appearance_score+"")&&B(v,c)},d(o){o&&_(e)}}}function me(a){let e,t,n="Flavor",i,l,c=a[8].flavor_score+"",v,m,d,f="out of 20";return{c(){e=g("div"),t=g("div"),t.textContent=n,i=E(),l=g("div"),v=w(c),m=E(),d=g("div"),d.textContent=f,this.h()},l(o){e=p(o,"DIV",{class:!0});var s=k(e);t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-uv2x6m"&&(t.textContent=n),i=I(s),l=p(s,"DIV",{class:!0});var b=k(l);v=j(b,c),b.forEach(_),m=I(s),d=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(d)!=="svelte-1gzszrj"&&(d.textContent=f),s.forEach(_),this.h()},h(){y(t,"class","score-item-label svelte-147x0y6"),y(l,"class","score-item-value svelte-147x0y6"),y(d,"class","score-item-max svelte-147x0y6"),y(e,"class","score-item svelte-147x0y6")},m(o,s){L(o,e,s),r(e,t),r(e,i),r(e,l),r(l,v),r(e,m),r(e,d)},p(o,s){s&1&&c!==(c=o[8].flavor_score+"")&&B(v,c)},d(o){o&&_(e)}}}function ye(a){let e,t,n="Mouthfeel",i,l,c=a[8].mouthfeel_score+"",v,m,d,f="out of 5";return{c(){e=g("div"),t=g("div"),t.textContent=n,i=E(),l=g("div"),v=w(c),m=E(),d=g("div"),d.textContent=f,this.h()},l(o){e=p(o,"DIV",{class:!0});var s=k(e);t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-11dx3pt"&&(t.textContent=n),i=I(s),l=p(s,"DIV",{class:!0});var b=k(l);v=j(b,c),b.forEach(_),m=I(s),d=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(d)!=="svelte-1mtbs14"&&(d.textContent=f),s.forEach(_),this.h()},h(){y(t,"class","score-item-label svelte-147x0y6"),y(l,"class","score-item-value svelte-147x0y6"),y(d,"class","score-item-max svelte-147x0y6"),y(e,"class","score-item svelte-147x0y6")},m(o,s){L(o,e,s),r(e,t),r(e,i),r(e,l),r(l,v),r(e,m),r(e,d)},p(o,s){s&1&&c!==(c=o[8].mouthfeel_score+"")&&B(v,c)},d(o){o&&_(e)}}}function pe(a){let e,t,n="Overall",i,l,c=a[8].overall_score+"",v,m,d,f="out of 10";return{c(){e=g("div"),t=g("div"),t.textContent=n,i=E(),l=g("div"),v=w(c),m=E(),d=g("div"),d.textContent=f,this.h()},l(o){e=p(o,"DIV",{class:!0});var s=k(e);t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-u31h6n"&&(t.textContent=n),i=I(s),l=p(s,"DIV",{class:!0});var b=k(l);v=j(b,c),b.forEach(_),m=I(s),d=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(d)!=="svelte-qgjzpi"&&(d.textContent=f),s.forEach(_),this.h()},h(){y(t,"class","score-item-label svelte-147x0y6"),y(l,"class","score-item-value svelte-147x0y6"),y(d,"class","score-item-max svelte-147x0y6"),y(e,"class","score-item svelte-147x0y6")},m(o,s){L(o,e,s),r(e,t),r(e,i),r(e,l),r(l,v),r(e,m),r(e,d)},p(o,s){s&1&&c!==(c=o[8].overall_score+"")&&B(v,c)},d(o){o&&_(e)}}}function ge(a){let e,t,n="Judge Notes",i,l,c=a[8].judge_notes+"",v;return{c(){e=g("div"),t=g("h3"),t.textContent=n,i=E(),l=g("p"),v=w(c),this.h()},l(m){e=p(m,"DIV",{class:!0});var d=k(e);t=p(d,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-i6edfh"&&(t.textContent=n),i=I(d),l=p(d,"P",{class:!0});var f=k(l);v=j(f,c),f.forEach(_),d.forEach(_),this.h()},h(){y(t,"class","notes-title svelte-147x0y6"),y(l,"class","notes-text svelte-147x0y6"),y(e,"class","judge-notes svelte-147x0y6")},m(m,d){L(m,e,d),r(e,t),r(e,i),r(e,l),r(l,v)},p(m,d){d&1&&c!==(c=m[8].judge_notes+"")&&B(v,c)},d(m){m&&_(e)}}}function be(a){let e,t,n,i,l,c=a[8].judge.name+"",v,m,d,f,o,s=(a[8].total_score||"N/A")+"",b,h,u,C,V="Total Score",U,X,z,G,q=a[8].judged_at&&de(a),M=a[8].total_score&&fe(a),S=(a[8].aroma_score!==null||a[8].appearance_score!==null||a[8].flavor_score!==null||a[8].mouthfeel_score!==null||a[8].overall_score!==null)&&ve(a),T=a[8].judge_notes&&ge(a);return{c(){e=g("div"),t=g("div"),n=g("div"),i=g("h2"),l=w("Judge: "),v=w(c),m=E(),q&&q.c(),d=E(),f=g("div"),o=g("div"),b=w(s),h=w("/50"),u=E(),C=g("div"),C.textContent=V,U=E(),M&&M.c(),X=E(),S&&S.c(),z=E(),T&&T.c(),G=E(),this.h()},l(x){e=p(x,"DIV",{class:!0});var A=k(e);t=p(A,"DIV",{class:!0});var O=k(t);n=p(O,"DIV",{class:!0});var H=k(n);i=p(H,"H2",{class:!0});var Z=k(i);l=j(Z,"Judge: "),v=j(Z,c),Z.forEach(_),m=I(H),q&&q.l(H),H.forEach(_),d=I(O),f=p(O,"DIV",{class:!0,style:!0});var N=k(f);o=p(N,"DIV",{class:!0});var D=k(o);b=j(D,s),h=j(D,"/50"),D.forEach(_),u=I(N),C=p(N,"DIV",{class:!0,"data-svelte-h":!0}),J(C)!=="svelte-2bmkfs"&&(C.textContent=V),U=I(N),M&&M.l(N),N.forEach(_),O.forEach(_),X=I(A),S&&S.l(A),z=I(A),T&&T.l(A),G=I(A),A.forEach(_),this.h()},h(){y(i,"class","svelte-147x0y6"),y(n,"class","judge-info svelte-147x0y6"),y(o,"class","score-value svelte-147x0y6"),y(C,"class","score-label svelte-147x0y6"),y(f,"class","total-score svelte-147x0y6"),ae(f,"background",a[8].total_score?Ce(a[8].total_score):"#6b7280"),y(t,"class","session-header svelte-147x0y6"),y(e,"class","judge-session svelte-147x0y6")},m(x,A){L(x,e,A),r(e,t),r(t,n),r(n,i),r(i,l),r(i,v),r(n,m),q&&q.m(n,null),r(t,d),r(t,f),r(f,o),r(o,b),r(o,h),r(f,u),r(f,C),r(f,U),M&&M.m(f,null),r(e,X),S&&S.m(e,null),r(e,z),T&&T.m(e,null),r(e,G)},p(x,A){A&1&&c!==(c=x[8].judge.name+"")&&B(v,c),x[8].judged_at?q?q.p(x,A):(q=de(x),q.c(),q.m(n,null)):q&&(q.d(1),q=null),A&1&&s!==(s=(x[8].total_score||"N/A")+"")&&B(b,s),x[8].total_score?M?M.p(x,A):(M=fe(x),M.c(),M.m(f,null)):M&&(M.d(1),M=null),A&1&&ae(f,"background",x[8].total_score?Ce(x[8].total_score):"#6b7280"),x[8].aroma_score!==null||x[8].appearance_score!==null||x[8].flavor_score!==null||x[8].mouthfeel_score!==null||x[8].overall_score!==null?S?S.p(x,A):(S=ve(x),S.c(),S.m(e,z)):S&&(S.d(1),S=null),x[8].judge_notes?T?T.p(x,A):(T=ge(x),T.c(),T.m(e,G)):T&&(T.d(1),T=null)},d(x){x&&_(e),q&&q.d(),M&&M.d(),S&&S.d(),T&&T.d()}}}function He(a){let e,t,n,i='<h1 class="svelte-147x0y6">📋 Scoresheet Details</h1>',l,c,v,m="← Back to My Entries",d,f,o;function s(u,C){return u[1]?Le:u[2]?Ae:u[0]?Te:Pe}let b=s(a),h=b(a);return{c(){e=E(),t=g("div"),n=g("div"),n.innerHTML=i,l=E(),c=g("div"),v=g("button"),v.textContent=m,d=E(),h.c(),this.h()},l(u){Ee("svelte-1d3wf1y",document.head).forEach(_),e=I(u),t=p(u,"DIV",{class:!0});var V=k(t);n=p(V,"DIV",{class:!0,"data-svelte-h":!0}),J(n)!=="svelte-b8vhzo"&&(n.innerHTML=i),l=I(V),c=p(V,"DIV",{class:!0});var U=k(c);v=p(U,"BUTTON",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-1npuka7"&&(v.textContent=m),U.forEach(_),d=I(V),h.l(V),V.forEach(_),this.h()},h(){document.title="Scoresheet Details | JAX Members Portal",y(n,"class","header svelte-147x0y6"),y(v,"class","btn btn-secondary svelte-147x0y6"),y(c,"class","controls svelte-147x0y6"),y(t,"class","container svelte-147x0y6")},m(u,C){L(u,e,C),L(u,t,C),r(t,n),r(t,l),r(t,c),r(c,v),r(t,d),h.m(t,null),f||(o=ke(v,"click",a[3]),f=!0)},p(u,[C]){b===(b=s(u))&&h?h.p(u,C):(h.d(1),h=b(u),h&&(h.c(),h.m(t,null)))},i:W,o:W,d(u){u&&(_(e),_(t)),h.d(),f=!1,o()}}}function Y(a){if(!a)return"Never";try{let e=a;a.includes(" ")&&!a.includes("T")&&(e=a.replace(" ","T"),!e.includes("+")&&!e.includes("Z")&&(e+="Z"));const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}}function Ce(a){return a>=45?"#059669":a>=38?"#0891b2":a>=30?"#eab308":a>=21?"#f59e0b":"#dc2626"}function De(a){return a>=45?"Excellent":a>=38?"Very Good":a>=30?"Good":a>=21?"Fair":a>0?"Poor":""}function Me(a,e,t){let n,i,l;le(a,Se,o=>t(6,i=o)),le(a,Ne,o=>t(4,l=o));let c=null,v=!0,m=null;Ve(()=>{if(!i){oe("/auth");return}d()});async function d(){t(1,v=!0),t(2,m=null);try{console.log("Loading scoresheet for entry:",n);const{data:o,error:s}=await ne.from("competition_entries").select(`
          *,
          competition:competitions(id, name, description, judging_date),
          category:bjcp_categories(id, category_name, category_number, subcategory_letter, subcategory_name)
        `).eq("id",n).eq("member_id",i.id).single();if(s)throw s;if(!o)throw new Error("Entry not found or you do not have permission to view this scoresheet.");const{data:b,error:h}=await ne.from("competition_judging_sessions").select(`
          *,
          judge:members!competition_judging_sessions_judge_id_fkey(id, name)
        `).eq("entry_id",n).eq("competition_id",o.competition_id).order("judged_at",{ascending:!1});if(h)throw h;if(!b||b.length===0){t(2,m="No scoresheets found for this entry. Results may not be available yet.");return}t(0,c={entry:o,sessions:b.map(u=>({id:u.id,judge:u.judge,total_score:u.total_score,judge_notes:u.judge_notes,scoresheet_data:u.scoresheet_data,judged_at:u.judged_at,private_notes:u.private_notes,aroma_score:u.aroma_score,appearance_score:u.appearance_score,flavor_score:u.flavor_score,mouthfeel_score:u.mouthfeel_score,overall_score:u.overall_score}))})}catch(o){console.error("Error loading scoresheet:",o),t(2,m=o.message||"Failed to load scoresheet data")}finally{t(1,v=!1)}}function f(){oe("/competitions/my-entries")}return a.$$.update=()=>{a.$$.dirty&16&&(n=l.params.entryId)},[c,v,m,f,l]}class Ue extends je{constructor(e){super(),we(this,e,Me,He,Ie,{})}}export{Ue as component};
