import{s as Nt,n as Re,d as v,i as B,b as n,q as h,u as Pt,g as S,c as d,e as D,v as w,j as L,h as _,k as re,w as wt,F as $e,a as Z,p as ae,f as V,t as M,y as et,r as Bt,A as Ee,B as X,H as Vt,C as tt}from"../chunks/DOvoZ9Ia.js";import{e as Te}from"../chunks/DJwZhPfI.js";import{S as Mt,i as xt}from"../chunks/DZMW2zPD.js";import{g as ht}from"../chunks/DTRqcRCR.js";import{u as At}from"../chunks/DP1yl1qp.js";import{l as dt,d as Ht,h as qt,f as _t,e as jt,i as Rt,a as Ft,m as Ut,b as Jt,j as zt,k as Yt,c as Gt}from"../chunks/CIpNEI9J.js";import{s as Xt}from"../chunks/CCM_4jRA.js";function mt(l,e,t){const s=l.slice();return s[33]=e[t],s}function vt(l,e,t){const s=l.slice();return s[36]=e[t],s}function pt(l,e,t){const s=l.slice();return s[39]=e[t],s}function Kt(l){var rt,at;let e,t,s,u,o,r="Competition *",a,i,c,p="Select a competition...",b,C,m,y,k,E="BJCP Category *",I,T,x,z="Select main category...",K,$,oe,Y,G,Oe="Beer Name *",Se,A,pe,Le,Q,ee,Ne="Beer Notes (Optional)",Ie,g,W,be,J,he=l[11].length+"",Pe,Fe,Ue,ue,de,lt="Brewer",Je,ce,ke,De=(((rt=l[10])==null?void 0:rt.name)||((at=l[10])==null?void 0:at.email))+"",we,ze,_e,st="(automatically filled)",Ye,Be,fe,te,Ge,Ve,Xe,le,Me,Ke,me,ot='<h3 class="svelte-xk3fkh">üìù Entry Guidelines</h3> <ul class="svelte-xk3fkh"><li class="svelte-xk3fkh">Entries must be submitted before the deadline</li> <li class="svelte-xk3fkh">One entry per category per brewer per competition</li> <li class="svelte-xk3fkh">Entry fees may apply (check with officers)</li> <li class="svelte-xk3fkh">You&#39;ll receive a random entry number for anonymity</li> <li class="svelte-xk3fkh">You can edit entries until the deadline</li></ul>',Qe,nt,U=l[13]&&bt(),ge=Te(l[9]),H=[];for(let f=0;f<ge.length;f+=1)H[f]=gt(pt(l,ge,f));let j=l[5]&&Ct(l),Ce=Te(l[17]),q=[];for(let f=0;f<Ce.length;f+=1)q[f]=Tt(vt(l,Ce,f));let R=l[1]&&l[16].length>0&&St(l),F=l[12]&&Dt(l);function it(f,P){return f[4]?tl:f[13]?el:$t}let xe=it(l),ne=xe(l);return{c(){e=_("div"),U&&U.c(),t=L(),s=_("form"),u=_("div"),o=_("label"),o.textContent=r,a=L(),i=_("select"),c=_("option"),c.textContent=p;for(let f=0;f<H.length;f+=1)H[f].c();C=L(),j&&j.c(),m=L(),y=_("div"),k=_("label"),k.textContent=E,I=L(),T=_("select"),x=_("option"),x.textContent=z;for(let f=0;f<q.length;f+=1)q[f].c();$=L(),R&&R.c(),oe=L(),Y=_("div"),G=_("label"),G.textContent=Oe,Se=L(),A=_("input"),Le=L(),Q=_("div"),ee=_("label"),ee.textContent=Ne,Ie=L(),g=_("textarea"),be=L(),J=_("div"),Pe=M(he),Fe=M("/500 characters"),Ue=L(),ue=_("div"),de=_("label"),de.textContent=lt,Je=L(),ce=_("div"),ke=_("span"),we=M(De),ze=L(),_e=_("span"),_e.textContent=st,Ye=L(),F&&F.c(),Be=L(),fe=_("div"),te=_("button"),Ge=M("üîÑ Reset Form"),Xe=L(),le=_("button"),ne.c(),Ke=L(),me=_("div"),me.innerHTML=ot,this.h()},l(f){e=d(f,"DIV",{class:!0});var P=D(e);U&&U.l(P),t=S(P),s=d(P,"FORM",{class:!0});var O=D(s);u=d(O,"DIV",{class:!0});var ie=D(u);o=d(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),w(o)!=="svelte-16txpgy"&&(o.textContent=r),a=S(ie),i=d(ie,"SELECT",{id:!0,class:!0});var N=D(i);c=d(N,"OPTION",{"data-svelte-h":!0}),w(c)!=="svelte-iqpod6"&&(c.textContent=p);for(let ve=0;ve<H.length;ve+=1)H[ve].l(N);N.forEach(v),C=S(ie),j&&j.l(ie),ie.forEach(v),m=S(O),y=d(O,"DIV",{class:!0});var se=D(y);k=d(se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),w(k)!=="svelte-17h6qfx"&&(k.textContent=E),I=S(se),T=d(se,"SELECT",{id:!0,class:!0});var We=D(T);x=d(We,"OPTION",{"data-svelte-h":!0}),w(x)!=="svelte-1u12wbr"&&(x.textContent=z);for(let ve=0;ve<q.length;ve+=1)q[ve].l(We);We.forEach(v),se.forEach(v),$=S(O),R&&R.l(O),oe=S(O),Y=d(O,"DIV",{class:!0});var Ae=D(Y);G=d(Ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),w(G)!=="svelte-bo7a13"&&(G.textContent=Oe),Se=S(Ae),A=d(Ae,"INPUT",{type:!0,id:!0,placeholder:!0,maxlength:!0,class:!0}),Ae.forEach(v),Le=S(O),Q=d(O,"DIV",{class:!0});var ye=D(Q);ee=d(ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),w(ee)!=="svelte-sobiei"&&(ee.textContent=Ne),Ie=S(ye),g=d(ye,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,maxlength:!0,class:!0}),D(g).forEach(v),be=S(ye),J=d(ye,"DIV",{class:!0});var Ze=D(J);Pe=V(Ze,he),Fe=V(Ze,"/500 characters"),Ze.forEach(v),ye.forEach(v),Ue=S(O),ue=d(O,"DIV",{class:!0});var He=D(ue);de=d(He,"LABEL",{class:!0,"data-svelte-h":!0}),w(de)!=="svelte-13vcfxt"&&(de.textContent=lt),Je=S(He),ce=d(He,"DIV",{class:!0});var qe=D(ce);ke=d(qe,"SPAN",{class:!0});var ut=D(ke);we=V(ut,De),ut.forEach(v),ze=S(qe),_e=d(qe,"SPAN",{class:!0,"data-svelte-h":!0}),w(_e)!=="svelte-1rfbwqt"&&(_e.textContent=st),qe.forEach(v),He.forEach(v),Ye=S(O),F&&F.l(O),Be=S(O),fe=d(O,"DIV",{class:!0});var je=D(fe);te=d(je,"BUTTON",{type:!0,class:!0});var ct=D(te);Ge=V(ct,"üîÑ Reset Form"),ct.forEach(v),Xe=S(je),le=d(je,"BUTTON",{type:!0,class:!0});var ft=D(le);ne.l(ft),ft.forEach(v),je.forEach(v),Ke=S(O),me=d(O,"DIV",{class:!0,"data-svelte-h":!0}),w(me)!=="svelte-17973si"&&(me.innerHTML=ot),O.forEach(v),P.forEach(v),this.h()},h(){h(o,"for","competition"),h(o,"class","svelte-xk3fkh"),c.__value="",X(c,c.__value),h(i,"id","competition"),i.disabled=b=l[4]||l[13],i.required=!0,h(i,"class","svelte-xk3fkh"),l[0]===void 0&&tt(()=>l[27].call(i)),h(u,"class","form-group svelte-xk3fkh"),h(k,"for","main-category"),h(k,"class","svelte-xk3fkh"),x.__value="",X(x,x.__value),h(T,"id","main-category"),T.disabled=K=!l[0]||l[4]||l[13],T.required=!0,h(T,"class","svelte-xk3fkh"),l[1]===void 0&&tt(()=>l[28].call(T)),h(y,"class","form-group svelte-xk3fkh"),h(G,"for","beer-name"),h(G,"class","svelte-xk3fkh"),h(A,"type","text"),h(A,"id","beer-name"),h(A,"placeholder","Enter your beer name..."),A.disabled=pe=l[4]||l[13],h(A,"maxlength","100"),A.required=!0,h(A,"class","svelte-xk3fkh"),h(Y,"class","form-group svelte-xk3fkh"),h(ee,"for","beer-notes"),h(ee,"class","svelte-xk3fkh"),h(g,"id","beer-notes"),h(g,"placeholder","Special ingredients, techniques, or notes for judges..."),g.disabled=W=l[4]||l[13],h(g,"rows","4"),h(g,"maxlength","500"),h(g,"class","svelte-xk3fkh"),h(J,"class","character-count svelte-xk3fkh"),h(Q,"class","form-group svelte-xk3fkh"),h(de,"class","svelte-xk3fkh"),h(ke,"class","brewer-name svelte-xk3fkh"),h(_e,"class","auto-filled svelte-xk3fkh"),h(ce,"class","brewer-info svelte-xk3fkh"),h(ue,"class","form-group svelte-xk3fkh"),h(te,"type","button"),h(te,"class","reset-button svelte-xk3fkh"),te.disabled=Ve=l[4]||l[13],h(le,"type","submit"),h(le,"class","submit-button svelte-xk3fkh"),le.disabled=Me=!l[14]||l[13],h(fe,"class","form-actions svelte-xk3fkh"),h(me,"class","form-help svelte-xk3fkh"),h(s,"class","entry-form svelte-xk3fkh"),h(e,"class","form-container svelte-xk3fkh")},m(f,P){B(f,e,P),U&&U.m(e,null),n(e,t),n(e,s),n(s,u),n(u,o),n(u,a),n(u,i),n(i,c);for(let O=0;O<H.length;O+=1)H[O]&&H[O].m(i,null);Ee(i,l[0],!0),n(u,C),j&&j.m(u,null),n(s,m),n(s,y),n(y,k),n(y,I),n(y,T),n(T,x);for(let O=0;O<q.length;O+=1)q[O]&&q[O].m(T,null);Ee(T,l[1],!0),n(s,$),R&&R.m(s,null),n(s,oe),n(s,Y),n(Y,G),n(Y,Se),n(Y,A),X(A,l[3]),n(s,Le),n(s,Q),n(Q,ee),n(Q,Ie),n(Q,g),X(g,l[11]),n(Q,be),n(Q,J),n(J,Pe),n(J,Fe),n(s,Ue),n(s,ue),n(ue,de),n(ue,Je),n(ue,ce),n(ce,ke),n(ke,we),n(ce,ze),n(ce,_e),n(s,Ye),F&&F.m(s,null),n(s,Be),n(s,fe),n(fe,te),n(te,Ge),n(fe,Xe),n(fe,le),ne.m(le,null),n(s,Ke),n(s,me),Qe||(nt=[ae(i,"change",l[27]),ae(T,"change",l[28]),ae(A,"input",l[30]),ae(g,"input",l[31]),ae(te,"click",l[19]),ae(s,"submit",Vt(l[18]))],Qe=!0)},p(f,P){var O,ie;if(f[13]?U||(U=bt(),U.c(),U.m(e,t)):U&&(U.d(1),U=null),P[0]&512){ge=Te(f[9]);let N;for(N=0;N<ge.length;N+=1){const se=pt(f,ge,N);H[N]?H[N].p(se,P):(H[N]=gt(se),H[N].c(),H[N].m(i,null))}for(;N<H.length;N+=1)H[N].d(1);H.length=ge.length}if(P[0]&8208&&b!==(b=f[4]||f[13])&&(i.disabled=b),P[0]&513&&Ee(i,f[0]),f[5]?j?j.p(f,P):(j=Ct(f),j.c(),j.m(u,null)):j&&(j.d(1),j=null),P[0]&131072){Ce=Te(f[17]);let N;for(N=0;N<Ce.length;N+=1){const se=vt(f,Ce,N);q[N]?q[N].p(se,P):(q[N]=Tt(se),q[N].c(),q[N].m(T,null))}for(;N<q.length;N+=1)q[N].d(1);q.length=Ce.length}P[0]&8721&&K!==(K=!f[0]||f[4]||f[13])&&(T.disabled=K),P[0]&131074&&Ee(T,f[1]),f[1]&&f[16].length>0?R?R.p(f,P):(R=St(f),R.c(),R.m(s,oe)):R&&(R.d(1),R=null),P[0]&8208&&pe!==(pe=f[4]||f[13])&&(A.disabled=pe),P[0]&8&&A.value!==f[3]&&X(A,f[3]),P[0]&8208&&W!==(W=f[4]||f[13])&&(g.disabled=W),P[0]&2048&&X(g,f[11]),P[0]&2048&&he!==(he=f[11].length+"")&&Z(Pe,he),P[0]&1024&&De!==(De=(((O=f[10])==null?void 0:O.name)||((ie=f[10])==null?void 0:ie.email))+"")&&Z(we,De),f[12]?F?F.p(f,P):(F=Dt(f),F.c(),F.m(s,Be)):F&&(F.d(1),F=null),P[0]&8208&&Ve!==(Ve=f[4]||f[13])&&(te.disabled=Ve),xe!==(xe=it(f))&&(ne.d(1),ne=xe(f),ne&&(ne.c(),ne.m(le,null))),P[0]&24576&&Me!==(Me=!f[14]||f[13])&&(le.disabled=Me)},d(f){f&&v(e),U&&U.d(),et(H,f),j&&j.d(),et(q,f),R&&R.d(),F&&F.d(),ne.d(),Qe=!1,Bt(nt)}}}function Qt(l){let e,t,s="üìÖ No Active Competitions",u,o,r="There are currently no competitions accepting entries.",a,i,c="Check back later or contact an officer for more information.",p,b,C="üìã View All Competitions",m,y;return{c(){e=_("div"),t=_("h2"),t.textContent=s,u=L(),o=_("p"),o.textContent=r,a=L(),i=_("p"),i.textContent=c,p=L(),b=_("button"),b.textContent=C,this.h()},l(k){e=d(k,"DIV",{class:!0});var E=D(e);t=d(E,"H2",{"data-svelte-h":!0}),w(t)!=="svelte-1gfe4gr"&&(t.textContent=s),u=S(E),o=d(E,"P",{"data-svelte-h":!0}),w(o)!=="svelte-19u59jp"&&(o.textContent=r),a=S(E),i=d(E,"P",{"data-svelte-h":!0}),w(i)!=="svelte-1kezru5"&&(i.textContent=c),p=S(E),b=d(E,"BUTTON",{class:!0,"data-svelte-h":!0}),w(b)!=="svelte-sh37na"&&(b.textContent=C),E.forEach(v),this.h()},h(){h(b,"class","nav-button svelte-xk3fkh"),h(e,"class","empty-state svelte-xk3fkh")},m(k,E){B(k,e,E),n(e,t),n(e,u),n(e,o),n(e,a),n(e,i),n(e,p),n(e,b),m||(y=ae(b,"click",l[26]),m=!0)},p:Re,d(k){k&&v(e),m=!1,y()}}}function Wt(l){let e,t,s="‚ùå Error Loading Data",u,o,r,a,i,c="üîÑ Retry",p,b;return{c(){e=_("div"),t=_("h2"),t.textContent=s,u=L(),o=_("p"),r=M(l[6]),a=L(),i=_("button"),i.textContent=c,this.h()},l(C){e=d(C,"DIV",{class:!0});var m=D(e);t=d(m,"H2",{"data-svelte-h":!0}),w(t)!=="svelte-s8iwac"&&(t.textContent=s),u=S(m),o=d(m,"P",{});var y=D(o);r=V(y,l[6]),y.forEach(v),a=S(m),i=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),w(i)!=="svelte-oazqa5"&&(i.textContent=c),m.forEach(v),this.h()},h(){h(i,"class","retry-button svelte-xk3fkh"),h(e,"class","error-container svelte-xk3fkh")},m(C,m){B(C,e,m),n(e,t),n(e,u),n(e,o),n(o,r),n(e,a),n(e,i),p||(b=ae(i,"click",l[25]),p=!0)},p(C,m){m[0]&64&&Z(r,C[6])},d(C){C&&v(e),p=!1,b()}}}function Zt(l){let e,t='<div class="loading-spinner svelte-xk3fkh"></div> <p>Loading competition data...</p>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-1bs0zoz"&&(e.innerHTML=t),this.h()},h(){h(e,"class","loading-container svelte-xk3fkh")},m(s,u){B(s,e,u)},p:Re,d(s){s&&v(e)}}}function bt(l){let e,t='<h2 class="svelte-xk3fkh">üéâ Entry Submitted Successfully!</h2> <p>Your competition entry has been received. Redirecting to your entries...</p>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-u6wfgx"&&(e.innerHTML=t),this.h()},h(){h(e,"class","success-message svelte-xk3fkh")},m(s,u){B(s,e,u)},d(s){s&&v(e)}}}function kt(l){let e,t=l[39].days_until_deadline+"",s,u;return{c(){e=M("("),s=M(t),u=M(" days left)")},l(o){e=V(o,"("),s=V(o,t),u=V(o," days left)")},m(o,r){B(o,e,r),B(o,s,r),B(o,u,r)},p(o,r){r[0]&512&&t!==(t=o[39].days_until_deadline+"")&&Z(s,t)},d(o){o&&(v(e),v(s),v(u))}}}function gt(l){let e,t=l[39].name+"",s,u,o,r,a=l[39].days_until_deadline!==void 0&&kt(l);return{c(){e=_("option"),s=M(t),u=L(),a&&a.c(),o=L(),this.h()},l(i){e=d(i,"OPTION",{});var c=D(e);s=V(c,t),u=S(c),a&&a.l(c),o=S(c),c.forEach(v),this.h()},h(){e.__value=r=l[39].id,X(e,e.__value)},m(i,c){B(i,e,c),n(e,s),n(e,u),a&&a.m(e,null),n(e,o)},p(i,c){c[0]&512&&t!==(t=i[39].name+"")&&Z(s,t),i[39].days_until_deadline!==void 0?a?a.p(i,c):(a=kt(i),a.c(),a.m(e,o)):a&&(a.d(1),a=null),c[0]&512&&r!==(r=i[39].id)&&(e.__value=r,X(e,e.__value))},d(i){i&&v(e),a&&a.d()}}}function Ct(l){let e,t,s,u="Entry Deadline:",o,r=_t(l[5])+"",a,i,c,p=l[5].description&&yt(l),b=l[5].category_system==="custom"&&Et();return{c(){e=_("div"),t=_("p"),s=_("strong"),s.textContent=u,o=L(),a=M(r),i=L(),p&&p.c(),c=L(),b&&b.c(),this.h()},l(C){e=d(C,"DIV",{class:!0});var m=D(e);t=d(m,"P",{class:!0});var y=D(t);s=d(y,"STRONG",{"data-svelte-h":!0}),w(s)!=="svelte-itlo74"&&(s.textContent=u),o=S(y),a=V(y,r),y.forEach(v),i=S(m),p&&p.l(m),c=S(m),b&&b.l(m),m.forEach(v),this.h()},h(){h(t,"class","svelte-xk3fkh"),h(e,"class","competition-info svelte-xk3fkh")},m(C,m){B(C,e,m),n(e,t),n(t,s),n(t,o),n(t,a),n(e,i),p&&p.m(e,null),n(e,c),b&&b.m(e,null)},p(C,m){m[0]&32&&r!==(r=_t(C[5])+"")&&Z(a,r),C[5].description?p?p.p(C,m):(p=yt(C),p.c(),p.m(e,c)):p&&(p.d(1),p=null),C[5].category_system==="custom"?b||(b=Et(),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(C){C&&v(e),p&&p.d(),b&&b.d()}}}function yt(l){let e,t,s="Description:",u,o=l[5].description+"",r;return{c(){e=_("p"),t=_("strong"),t.textContent=s,u=L(),r=M(o),this.h()},l(a){e=d(a,"P",{class:!0});var i=D(e);t=d(i,"STRONG",{"data-svelte-h":!0}),w(t)!=="svelte-1scoy10"&&(t.textContent=s),u=S(i),r=V(i,o),i.forEach(v),this.h()},h(){h(e,"class","svelte-xk3fkh")},m(a,i){B(a,e,i),n(e,t),n(e,u),n(e,r)},p(a,i){i[0]&32&&o!==(o=a[5].description+"")&&Z(r,o)},d(a){a&&v(e)}}}function Et(l){let e,t='<p class="svelte-xk3fkh"><strong>üìã Custom Categories:</strong> This competition only accepts specific BJCP categories. Only allowed categories will be shown in the selection below.</p>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-10b7ryr"&&(e.innerHTML=t),this.h()},h(){h(e,"class","custom-categories-notice svelte-xk3fkh")},m(s,u){B(s,e,u)},d(s){s&&v(e)}}}function Tt(l){let e,t=l[36].number+"",s,u,o=l[36].name+"",r,a,i;return{c(){e=_("option"),s=M(t),u=M(" - "),r=M(o),a=L(),this.h()},l(c){e=d(c,"OPTION",{});var p=D(e);s=V(p,t),u=V(p," - "),r=V(p,o),a=S(p),p.forEach(v),this.h()},h(){e.__value=i=l[36].number,X(e,e.__value)},m(c,p){B(c,e,p),n(e,s),n(e,u),n(e,r),n(e,a)},p(c,p){p[0]&131072&&t!==(t=c[36].number+"")&&Z(s,t),p[0]&131072&&o!==(o=c[36].name+"")&&Z(r,o),p[0]&131072&&i!==(i=c[36].number)&&(e.__value=i,X(e,e.__value))},d(c){c&&v(e)}}}function St(l){let e,t,s="BJCP Subcategory *",u,o,r,a="Select subcategory...",i,c,p,b,C=Te(l[16]),m=[];for(let k=0;k<C.length;k+=1)m[k]=Lt(mt(l,C,k));let y=l[15]&&It(l);return{c(){e=_("div"),t=_("label"),t.textContent=s,u=L(),o=_("select"),r=_("option"),r.textContent=a;for(let k=0;k<m.length;k+=1)m[k].c();c=L(),y&&y.c(),this.h()},l(k){e=d(k,"DIV",{class:!0});var E=D(e);t=d(E,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),w(t)!=="svelte-adt605"&&(t.textContent=s),u=S(E),o=d(E,"SELECT",{id:!0,class:!0});var I=D(o);r=d(I,"OPTION",{"data-svelte-h":!0}),w(r)!=="svelte-1ncwn6g"&&(r.textContent=a);for(let T=0;T<m.length;T+=1)m[T].l(I);I.forEach(v),c=S(E),y&&y.l(E),E.forEach(v),this.h()},h(){h(t,"for","subcategory"),h(t,"class","svelte-xk3fkh"),r.__value="",X(r,r.__value),h(o,"id","subcategory"),o.disabled=i=l[4]||l[13],o.required=!0,h(o,"class","svelte-xk3fkh"),l[2]===void 0&&tt(()=>l[29].call(o)),h(e,"class","form-group svelte-xk3fkh")},m(k,E){B(k,e,E),n(e,t),n(e,u),n(e,o),n(o,r);for(let I=0;I<m.length;I+=1)m[I]&&m[I].m(o,null);Ee(o,l[2],!0),n(e,c),y&&y.m(e,null),p||(b=ae(o,"change",l[29]),p=!0)},p(k,E){if(E[0]&65536){C=Te(k[16]);let I;for(I=0;I<C.length;I+=1){const T=mt(k,C,I);m[I]?m[I].p(T,E):(m[I]=Lt(T),m[I].c(),m[I].m(o,null))}for(;I<m.length;I+=1)m[I].d(1);m.length=C.length}E[0]&8208&&i!==(i=k[4]||k[13])&&(o.disabled=i),E[0]&65540&&Ee(o,k[2]),k[15]?y?y.p(k,E):(y=It(k),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(k){k&&v(e),et(m,k),y&&y.d(),p=!1,b()}}}function Lt(l){let e,t=Ot(l[33])+"",s,u,o;return{c(){e=_("option"),s=M(t),u=L(),this.h()},l(r){e=d(r,"OPTION",{});var a=D(e);s=V(a,t),u=S(a),a.forEach(v),this.h()},h(){e.__value=o=l[33].id,X(e,e.__value)},m(r,a){B(r,e,a),n(e,s),n(e,u)},p(r,a){a[0]&65536&&t!==(t=Ot(r[33])+"")&&Z(s,t),a[0]&65536&&o!==(o=r[33].id)&&(e.__value=o,X(e,e.__value))},d(r){r&&v(e)}}}function It(l){let e,t,s=l[15].description+"",u;return{c(){e=_("div"),t=_("p"),u=M(s),this.h()},l(o){e=d(o,"DIV",{class:!0});var r=D(e);t=d(r,"P",{});var a=D(t);u=V(a,s),a.forEach(v),r.forEach(v),this.h()},h(){h(e,"class","category-description svelte-xk3fkh")},m(o,r){B(o,e,r),n(e,t),n(t,u)},p(o,r){r[0]&32768&&s!==(s=o[15].description+"")&&Z(u,s)},d(o){o&&v(e)}}}function Dt(l){let e,t,s,u;return{c(){e=_("div"),t=_("p"),s=M("‚ùå "),u=M(l[12]),this.h()},l(o){e=d(o,"DIV",{class:!0});var r=D(e);t=d(r,"P",{class:!0});var a=D(t);s=V(a,"‚ùå "),u=V(a,l[12]),a.forEach(v),r.forEach(v),this.h()},h(){h(t,"class","svelte-xk3fkh"),h(e,"class","error-message svelte-xk3fkh")},m(o,r){B(o,e,r),n(e,t),n(t,s),n(t,u)},p(o,r){r[0]&4096&&Z(u,o[12])},d(o){o&&v(e)}}}function $t(l){let e;return{c(){e=M("üç∫ Submit Entry")},l(t){e=V(t,"üç∫ Submit Entry")},m(t,s){B(t,e,s)},d(t){t&&v(e)}}}function el(l){let e;return{c(){e=M("‚úÖ Submitted")},l(t){e=V(t,"‚úÖ Submitted")},m(t,s){B(t,e,s)},d(t){t&&v(e)}}}function tl(l){let e;return{c(){e=M("üîÑ Submitting...")},l(t){e=V(t,"üîÑ Submitting...")},m(t,s){B(t,e,s)},d(t){t&&v(e)}}}function ll(l){let e,t,s,u='<h1 class="svelte-xk3fkh">üèÜ SUBMIT COMPETITION ENTRY</h1> <p class="svelte-xk3fkh">Enter your beer into a JAX club competition</p>',o;function r(c,p){if(c[7]&&!c[8])return Zt;if(c[6])return Wt;if(c[8]&&c[9].length===0)return Qt;if(c[8])return Kt}let a=r(l),i=a&&a(l);return{c(){e=L(),t=_("div"),s=_("section"),s.innerHTML=u,o=L(),i&&i.c(),this.h()},l(c){Pt("svelte-1m0qu2i",document.head).forEach(v),e=S(c),t=d(c,"DIV",{class:!0});var b=D(t);s=d(b,"SECTION",{class:!0,"data-svelte-h":!0}),w(s)!=="svelte-9eoux2"&&(s.innerHTML=u),o=S(b),i&&i.l(b),b.forEach(v),this.h()},h(){document.title="Submit Competition Entry | JAX Members Portal",h(s,"class","hero svelte-xk3fkh"),h(t,"class","container svelte-xk3fkh")},m(c,p){B(c,e,p),B(c,t,p),n(t,s),n(t,o),i&&i.m(t,null)},p(c,p){a===(a=r(c))&&i?i.p(c,p):(i&&i.d(1),i=a&&a(c),i&&(i.c(),i.m(t,null)))},i:Re,o:Re,d(c){c&&(v(e),v(t)),i&&i.d()}}}function Ot(l){return`${l.letter} - ${l.name}`}function sl(l,e,t){let s,u,o,r,a,i,c,p,b,C,m,y,k,E,I;re(l,jt,g=>t(6,c=g)),re(l,Rt,g=>t(7,p=g)),re(l,Ft,g=>t(8,b=g)),re(l,Ut,g=>t(21,C=g)),re(l,Jt,g=>t(9,m=g)),re(l,zt,g=>t(22,y=g)),re(l,Yt,g=>t(23,k=g)),re(l,At,g=>t(10,E=g)),re(l,Gt,g=>t(24,I=g));let T="",x="",z="",K="",$="",oe=!1,Y=null,G=!1;wt(async()=>{console.log("üöÄ Page mounted, loading data...");try{console.log("üìã Loading competition data..."),await dt(),console.log("‚úÖ Competition data loaded")}catch(g){console.error("‚ùå Failed to load competition data:",g)}});async function Oe(){if(i){t(4,oe=!0),t(12,Y=null),t(13,G=!1);try{console.log("üç∫ Submitting competition entry...");const g=Math.floor(Math.random()*99999+1).toString().padStart(5,"0"),W={competition_id:T,member_id:E.id,bjcp_category_id:z,beer_name:K.trim(),beer_notes:$.trim()||null,entry_number:g,entry_fee_paid:!1},{data:be,error:J}=await Xt.from("competition_entries").insert([W]).select(`
          *,
          competition:competitions(name),
          bjcp_category:bjcp_categories(category_number, subcategory_letter, subcategory_name)
        `).single();if(J)throw console.error("‚ùå Error submitting entry:",J),J;console.log("‚úÖ Entry submitted successfully:",be),t(13,G=!0),t(0,T=""),t(1,x=""),t(2,z=""),t(3,K=""),t(11,$=""),setTimeout(()=>{ht("/competitions/my-entries")},2e3)}catch(g){console.error("üí• Failed to submit entry:",g),t(12,Y=g.message||"Failed to submit entry")}finally{t(4,oe=!1)}}}function Se(){t(0,T=""),t(1,x=""),t(2,z=""),t(3,K=""),t(11,$=""),t(12,Y=null),t(13,G=!1)}const A=()=>dt(!0),pe=()=>ht("/competitions");function Le(){T=$e(this),t(0,T)}function Q(){x=$e(this),t(1,x),t(17,u),t(20,s),t(21,C),t(24,I),t(5,r),t(0,T),t(9,m)}function ee(){z=$e(this),t(2,z),t(1,x),t(16,o),t(1,x),t(24,I),t(20,s),t(5,r),t(0,T),t(9,m)}function Ne(){K=this.value,t(3,K)}function Ie(){$=this.value,t(11,$)}return l.$$.update=()=>{var g;l.$$.dirty[0]&513&&t(5,r=T?m.find(W=>W.id===T):null),l.$$.dirty[0]&32&&t(20,s=(r==null?void 0:r.category_system)==="custom"?r.category_restrictions||[]:null),l.$$.dirty[0]&19922944&&t(17,u=s?C.filter(W=>{var J;return(((J=I[W.number])==null?void 0:J.subcategories)||[]).some(he=>s.includes(he.id))}):C),l.$$.dirty[0]&17825794&&t(16,o=x?(((g=I[x])==null?void 0:g.subcategories)||[]).filter(W=>s?s.includes(W.id):!0):[]),l.$$.dirty[0]&2&&x&&t(2,z=""),l.$$.dirty[0]&4&&t(15,a=z?qt(z):null),l.$$.dirty[0]&1085&&t(14,i=T&&z&&K.trim()&&!oe&&(E==null?void 0:E.id)&&Ht(r)),l.$$.dirty[0]&14681024&&console.log("üìä Store Debug:",{bjcpCategories:k.length,competitions:y.length,activeCompetitions:m.length,mainCategories:C.length,isLoaded:b,isLoading:p,error:c})},[T,x,z,K,oe,r,c,p,b,m,E,$,Y,G,i,a,o,u,Oe,Se,s,C,y,k,I,A,pe,Le,Q,ee,Ne,Ie]}class fl extends Mt{constructor(e){super(),xt(this,e,sl,ll,Nt,{},null,[-1,-1])}}export{fl as component};
