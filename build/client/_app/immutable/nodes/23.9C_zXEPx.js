import{l as ct,s as zt,n as et,d as v,i as he,q as o,c as n,e as u,g as D,z as it,h as i,j as E,k as Je,w as Zt,x as Jt,r as rt,a as ee,b as t,p as ke,D as Vt,v as A,f as H,t as F,B as Re,y as mt,A as nt,C as It,E as Et,F as gt}from"../chunks/orW8a4RU.js";import{e as Xe}from"../chunks/BYoXW1o8.js";import{S as Yt,i as Gt}from"../chunks/wt4xWrh0.js";import{g as Kt}from"../chunks/3PQ1VwVZ.js";import{u as Dt}from"../chunks/cGHQYVPU.js";import{d as kt,w as at}from"../chunks/CRcJKmAs.js";import{s as dt}from"../chunks/CCM_4jRA.js";const We=at([]),st=at(!1),Qe=at(null),xt=at(null),bt=at(""),yt=at("all"),Ct=at("all"),Qt=kt([We,bt,yt,Ct],([l,e,s,a])=>{if(!l||l.length===0)return[];let r=l;if(e.trim()){const b=e.toLowerCase().trim();r=r.filter(f=>{var h,_,y;return((h=f.name)==null?void 0:h.toLowerCase().includes(b))||((_=f.email)==null?void 0:_.toLowerCase().includes(b))||((y=f.role_display)==null?void 0:y.toLowerCase().includes(b))})}if(s!=="all"&&(r=r.filter(b=>b.role===s)),a!=="all"){const b=new Date;b.setDate(b.getDate()-90),r=r.filter(f=>{const h=y=>{if(!y)return new Date(0);try{let c=y;return y.includes(" ")&&!y.includes("T")&&(c=y.replace(" ","T"),!c.includes("+")&&!c.includes("Z")&&(c+="Z")),new Date(c)}catch{return new Date(0)}},_=f.last_submission_date?h(f.last_submission_date):h(f.created_at);return a==="active"?_>=b:a==="inactive"?_<b:!0})}return r}),Wt=kt([We],([l])=>{if(!l||l.length===0)return{totalMembers:0,totalOfficers:0,activeMembers:0,inactiveMembers:0,totalPoints:0,avgPointsPerMember:0};const e=new Date;e.setDate(e.getDate()-90);const s=l.reduce((a,r)=>{a.totalMembers++,r.is_officer&&a.totalOfficers++;const b=h=>{if(!h)return new Date(0);try{let _=h;return h.includes(" ")&&!h.includes("T")&&(_=h.replace(" ","T"),!_.includes("+")&&!_.includes("Z")&&(_+="Z")),new Date(_)}catch{return new Date(0)}};return(r.last_submission_date?b(r.last_submission_date):b(r.created_at))>=e?a.activeMembers++:a.inactiveMembers++,a.totalPoints+=r.total_points||0,a},{totalMembers:0,totalOfficers:0,activeMembers:0,inactiveMembers:0,totalPoints:0});return s.avgPointsPerMember=s.totalMembers>0?Math.round(s.totalPoints/s.totalMembers):0,s}),Xt=kt([Dt],([l])=>l?l.role==="president"||l.role==="vice_president":!1),Ye={async loadMembers(l=!1){const e=ct(We),s=ct(xt);if(!l&&e.length>0&&s&&Date.now()-s<3e4)return e;st.set(!0),Qe.set(null);try{console.log("🔄 Loading members with points...");const{data:a,error:r}=await dt.rpc("get_members_with_points");if(r)throw r;return console.log(`✅ Loaded ${(a==null?void 0:a.length)||0} members`),We.set(a||[]),xt.set(Date.now()),a||[]}catch(a){return console.error("❌ Error loading members:",a),Qe.set(a.message||"Failed to load members"),[]}finally{st.set(!1)}},async updateMemberRole(l,e){const s=ct(Dt);if(!s||!["president","vice_president"].includes(s.role))throw new Error("Insufficient permissions to manage member roles");if(s.id===l&&s.role==="president"&&e!=="president")throw new Error("Presidents cannot demote themselves");if(e==="president"&&s.role!=="president")throw new Error("Only presidents can promote members to president");st.set(!0),Qe.set(null);try{console.log(`🔄 Updating member ${l} role to ${e}...`);const{data:a,error:r}=await dt.from("members").update({role:e}).eq("id",l).select();if(r)throw r;return console.log("✅ Member role updated successfully"),await this.loadMembers(!0),a}catch(a){throw console.error("❌ Error updating member role:",a),Qe.set(a.message||"Failed to update member role"),a}finally{st.set(!1)}},async getMemberDetails(l){st.set(!0),Qe.set(null);try{console.log(`🔄 Loading details for member ${l}...`);const{data:e,error:s}=await dt.from("members").select(`
          *,
          join_date
        `).eq("id",l).single();if(s)throw s;const{data:a,error:r}=await dt.from("point_submissions").select(`
          *,
          submitted_at
        `).eq("member_id",l).order("submitted_at",{ascending:!1}).limit(10);if(r)throw r;return console.log(`✅ Loaded member details with ${(a==null?void 0:a.length)||0} recent submissions`),{member:e,recentSubmissions:a||[]}}catch(e){throw console.error("❌ Error loading member details:",e),Qe.set(e.message||"Failed to load member details"),e}finally{st.set(!1)}},async exportMembersData(){return ct(We).length===0&&await this.loadMembers(),ct(We).map(s=>({name:s.name,email:s.email,role:s.role_display,totalPoints:s.total_points,monthlyPoints:s.monthly_points,joinDate:(()=>{if(!s.created_at)return"N/A";try{let a=s.created_at;return s.created_at.includes(" ")&&!s.created_at.includes("T")&&(a=s.created_at.replace(" ","T"),!a.includes("+")&&!a.includes("Z")&&(a+="Z")),new Date(a).toLocaleDateString()}catch{return"Invalid Date"}})(),lastActivity:s.last_submission_date?(()=>{try{let a=s.last_submission_date;return s.last_submission_date.includes(" ")&&!s.last_submission_date.includes("T")&&(a=s.last_submission_date.replace(" ","T"),!a.includes("+")&&!a.includes("Z")&&(a+="Z")),new Date(a).toLocaleDateString()}catch{return"Invalid Date"}})():"Never",totalSubmissions:s.total_approved_submissions}))},resetFilters(){bt.set(""),yt.set("all"),Ct.set("all")},async refresh(){return await this.loadMembers(!0)},clear(){We.set([]),Qe.set(null),xt.set(null),this.resetFilters()}};Dt.subscribe(l=>{l!=null&&l.is_officer?Ye.loadMembers():Ye.clear()});function Tt(l,e,s){const a=l.slice();return a[61]=e[s],a}function Mt(l,e,s){const a=l.slice();return a[64]=e[s],a}function wt(l,e,s){const a=l.slice();return a[67]=e[s],a}function Nt(l,e,s){const a=l.slice();return a[67]=e[s],a}function $t(l){let e,s='<h1 class="svelte-xho1vy">👥 MANAGE MEMBERS</h1> <p class="subtitle svelte-xho1vy">View and manage club members, their roles, activity, and point standings</p>',a,r;function b(_,y){return _[17]&&_[18].length===0?sl:_[19]?ll:tl}let f=b(l),h=f(l);return{c(){e=i("div"),e.innerHTML=s,a=E(),h.c(),r=it(),this.h()},l(_){e=n(_,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-abucie"&&(e.innerHTML=s),a=D(_),h.l(_),r=it(),this.h()},h(){o(e,"class","hero-section svelte-xho1vy")},m(_,y){he(_,e,y),he(_,a,y),h.m(_,y),he(_,r,y)},p(_,y){f===(f=b(_))&&h?h.p(_,y):(h.d(1),h=f(_),h&&(h.c(),h.m(r.parentNode,r)))},d(_){_&&(v(e),v(a),v(r)),h.d(_)}}}function el(l){let e,s='<div class="empty-icon svelte-xho1vy">🔒</div> <h3 class="svelte-xho1vy">Access Denied</h3> <p class="svelte-xho1vy">You need officer privileges to access this page.</p>';return{c(){e=i("div"),e.innerHTML=s,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-lxf1z6"&&(e.innerHTML=s),this.h()},h(){o(e,"class","empty-state svelte-xho1vy")},m(a,r){he(a,e,r)},p:et,d(a){a&&v(e)}}}function tl(l){let e,s,a,r=l[20].totalMembers+"",b,f,h,_="Total Members",y,c,p,C=l[20].totalOfficers+"",g,x,T,m="Officers",w,S,K,z=l[20].activeMembers+"",U,R,P,Z="Active (90 days)",Q,k,N,te=l[20].avgPointsPerMember+"",Te,j,O,de="Avg Points",fe,ue,ve,W,se,be,Y,le,Ae="🔍",ge,ae,oe,ce,$="All Roles",B,X="Presidents",L,Pe="Vice Presidents",ye,I="Officers",J,Ee="Members",De,V,M,Me="All Activity",xe,ne="Active (90 days)",Ve,Oe="Inactive (90+ days)",we,d,me,Ce="🔄 Reset",ie,G,q="📊 Export",_e,Ne,Le,Be;function He(re,pe){return re[24].length===0&&re[18].length>0?nl:re[18].length===0?ol:al}let qe=He(l),Ie=qe(l);return{c(){e=i("div"),s=i("div"),a=i("div"),b=F(r),f=E(),h=i("div"),h.textContent=_,y=E(),c=i("div"),p=i("div"),g=F(C),x=E(),T=i("div"),T.textContent=m,w=E(),S=i("div"),K=i("div"),U=F(z),R=E(),P=i("div"),P.textContent=Z,Q=E(),k=i("div"),N=i("div"),Te=F(te),j=E(),O=i("div"),O.textContent=de,fe=E(),ue=i("div"),ve=i("div"),W=i("div"),se=i("div"),be=i("input"),Y=E(),le=i("span"),le.textContent=Ae,ge=E(),ae=i("div"),oe=i("select"),ce=i("option"),ce.textContent=$,B=i("option"),B.textContent=X,L=i("option"),L.textContent=Pe,ye=i("option"),ye.textContent=I,J=i("option"),J.textContent=Ee,De=E(),V=i("select"),M=i("option"),M.textContent=Me,xe=i("option"),xe.textContent=ne,Ve=i("option"),Ve.textContent=Oe,we=E(),d=i("div"),me=i("button"),me.textContent=Ce,ie=E(),G=i("button"),G.textContent=q,_e=E(),Ie.c(),Ne=it(),this.h()},l(re){e=n(re,"DIV",{class:!0});var pe=u(e);s=n(pe,"DIV",{class:!0});var Fe=u(s);a=n(Fe,"DIV",{class:!0});var Ue=u(a);b=H(Ue,r),Ue.forEach(v),f=D(Fe),h=n(Fe,"DIV",{class:!0,"data-svelte-h":!0}),A(h)!=="svelte-1hibunz"&&(h.textContent=_),Fe.forEach(v),y=D(pe),c=n(pe,"DIV",{class:!0});var je=u(c);p=n(je,"DIV",{class:!0});var Ze=u(p);g=H(Ze,C),Ze.forEach(v),x=D(je),T=n(je,"DIV",{class:!0,"data-svelte-h":!0}),A(T)!=="svelte-f5o8l1"&&(T.textContent=m),je.forEach(v),w=D(pe),S=n(pe,"DIV",{class:!0});var Se=u(S);K=n(Se,"DIV",{class:!0});var Ke=u(K);U=H(Ke,z),Ke.forEach(v),R=D(Se),P=n(Se,"DIV",{class:!0,"data-svelte-h":!0}),A(P)!=="svelte-tr0ren"&&(P.textContent=Z),Se.forEach(v),Q=D(pe),k=n(pe,"DIV",{class:!0});var ze=u(k);N=n(ze,"DIV",{class:!0});var vt=u(N);Te=H(vt,te),vt.forEach(v),j=D(ze),O=n(ze,"DIV",{class:!0,"data-svelte-h":!0}),A(O)!=="svelte-17bwv35"&&(O.textContent=de),ze.forEach(v),pe.forEach(v),fe=D(re),ue=n(re,"DIV",{class:!0});var tt=u(ue);ve=n(tt,"DIV",{class:!0});var lt=u(ve);W=n(lt,"DIV",{class:!0});var ut=u(W);se=n(ut,"DIV",{class:!0});var ht=u(se);be=n(ht,"INPUT",{type:!0,placeholder:!0,class:!0}),Y=D(ht),le=n(ht,"SPAN",{class:!0,"data-svelte-h":!0}),A(le)!=="svelte-k77c2d"&&(le.textContent=Ae),ht.forEach(v),ge=D(ut),ae=n(ut,"DIV",{class:!0});var ft=u(ae);oe=n(ft,"SELECT",{class:!0});var ot=u(oe);ce=n(ot,"OPTION",{"data-svelte-h":!0}),A(ce)!=="svelte-1yhiy9v"&&(ce.textContent=$),B=n(ot,"OPTION",{"data-svelte-h":!0}),A(B)!=="svelte-xw71ah"&&(B.textContent=X),L=n(ot,"OPTION",{"data-svelte-h":!0}),A(L)!=="svelte-1d6zxy4"&&(L.textContent=Pe),ye=n(ot,"OPTION",{"data-svelte-h":!0}),A(ye)!=="svelte-1ilnw31"&&(ye.textContent=I),J=n(ot,"OPTION",{"data-svelte-h":!0}),A(J)!=="svelte-1ytkx31"&&(J.textContent=Ee),ot.forEach(v),De=D(ft),V=n(ft,"SELECT",{class:!0});var _t=u(V);M=n(_t,"OPTION",{"data-svelte-h":!0}),A(M)!=="svelte-1owtbcz"&&(M.textContent=Me),xe=n(_t,"OPTION",{"data-svelte-h":!0}),A(xe)!=="svelte-2zb8tj"&&(xe.textContent=ne),Ve=n(_t,"OPTION",{"data-svelte-h":!0}),A(Ve)!=="svelte-1qfbg34"&&(Ve.textContent=Oe),_t.forEach(v),ft.forEach(v),ut.forEach(v),we=D(lt),d=n(lt,"DIV",{class:!0});var pt=u(d);me=n(pt,"BUTTON",{class:!0,"data-svelte-h":!0}),A(me)!=="svelte-1jwpt44"&&(me.textContent=Ce),ie=D(pt),G=n(pt,"BUTTON",{class:!0,"data-svelte-h":!0}),A(G)!=="svelte-1gs4miv"&&(G.textContent=q),pt.forEach(v),lt.forEach(v),tt.forEach(v),_e=D(re),Ie.l(re),Ne=it(),this.h()},h(){o(a,"class","stat-value svelte-xho1vy"),o(h,"class","stat-label svelte-xho1vy"),o(s,"class","stat-card orange svelte-xho1vy"),o(p,"class","stat-value svelte-xho1vy"),o(T,"class","stat-label svelte-xho1vy"),o(c,"class","stat-card blue svelte-xho1vy"),o(K,"class","stat-value svelte-xho1vy"),o(P,"class","stat-label svelte-xho1vy"),o(S,"class","stat-card green svelte-xho1vy"),o(N,"class","stat-value svelte-xho1vy"),o(O,"class","stat-label svelte-xho1vy"),o(k,"class","stat-card red svelte-xho1vy"),o(e,"class","stats-grid svelte-xho1vy"),o(be,"type","text"),o(be,"placeholder","Search members..."),o(be,"class","svelte-xho1vy"),o(le,"class","search-icon svelte-xho1vy"),o(se,"class","search-box svelte-xho1vy"),ce.__value="all",Re(ce,ce.__value),B.__value="president",Re(B,B.__value),L.__value="vice_president",Re(L,L.__value),ye.__value="officer",Re(ye,ye.__value),J.__value="member",Re(J,J.__value),o(oe,"class","filter-select svelte-xho1vy"),l[22]===void 0&&It(()=>l[37].call(oe)),M.__value="all",Re(M,M.__value),xe.__value="active",Re(xe,xe.__value),Ve.__value="inactive",Re(Ve,Ve.__value),o(V,"class","filter-select svelte-xho1vy"),l[23]===void 0&&It(()=>l[38].call(V)),o(ae,"class","filters-row svelte-xho1vy"),o(W,"class","filters-group svelte-xho1vy"),o(me,"class","reset-button svelte-xho1vy"),o(G,"class","export-button svelte-xho1vy"),o(d,"class","action-buttons svelte-xho1vy"),o(ve,"class","controls-container svelte-xho1vy"),o(ue,"class","controls-section svelte-xho1vy")},m(re,pe){he(re,e,pe),t(e,s),t(s,a),t(a,b),t(s,f),t(s,h),t(e,y),t(e,c),t(c,p),t(p,g),t(c,x),t(c,T),t(e,w),t(e,S),t(S,K),t(K,U),t(S,R),t(S,P),t(e,Q),t(e,k),t(k,N),t(N,Te),t(k,j),t(k,O),he(re,fe,pe),he(re,ue,pe),t(ue,ve),t(ve,W),t(W,se),t(se,be),Re(be,l[21]),t(se,Y),t(se,le),t(W,ge),t(W,ae),t(ae,oe),t(oe,ce),t(oe,B),t(oe,L),t(oe,ye),t(oe,J),nt(oe,l[22],!0),t(ae,De),t(ae,V),t(V,M),t(V,xe),t(V,Ve),nt(V,l[23],!0),t(ve,we),t(ve,d),t(d,me),t(d,ie),t(d,G),he(re,_e,pe),Ie.m(re,pe),he(re,Ne,pe),Le||(Be=[ke(be,"input",l[36]),ke(oe,"change",l[37]),ke(V,"change",l[38]),ke(me,"click",l[39]),ke(G,"click",l[30])],Le=!0)},p(re,pe){pe[0]&1048576&&r!==(r=re[20].totalMembers+"")&&ee(b,r),pe[0]&1048576&&C!==(C=re[20].totalOfficers+"")&&ee(g,C),pe[0]&1048576&&z!==(z=re[20].activeMembers+"")&&ee(U,z),pe[0]&1048576&&te!==(te=re[20].avgPointsPerMember+"")&&ee(Te,te),pe[0]&2097152&&be.value!==re[21]&&Re(be,re[21]),pe[0]&4194304&&nt(oe,re[22]),pe[0]&8388608&&nt(V,re[23]),qe===(qe=He(re))&&Ie?Ie.p(re,pe):(Ie.d(1),Ie=qe(re),Ie&&(Ie.c(),Ie.m(Ne.parentNode,Ne)))},d(re){re&&(v(e),v(fe),v(ue),v(_e),v(Ne)),Ie.d(re),Le=!1,rt(Be)}}}function ll(l){let e,s,a="❌",r,b,f="Error loading members",h,_,y,c,p,C="🔄 Try Again",g,x;return{c(){e=i("div"),s=i("div"),s.textContent=a,r=E(),b=i("h3"),b.textContent=f,h=E(),_=i("p"),y=F(l[19]),c=E(),p=i("button"),p.textContent=C,this.h()},l(T){e=n(T,"DIV",{class:!0});var m=u(e);s=n(m,"DIV",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-7ohcvp"&&(s.textContent=a),r=D(m),b=n(m,"H3",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-xtu8dh"&&(b.textContent=f),h=D(m),_=n(m,"P",{class:!0});var w=u(_);y=H(w,l[19]),w.forEach(v),c=D(m),p=n(m,"BUTTON",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-12rptnw"&&(p.textContent=C),m.forEach(v),this.h()},h(){o(s,"class","error-icon svelte-xho1vy"),o(b,"class","svelte-xho1vy"),o(_,"class","svelte-xho1vy"),o(p,"class","retry-button svelte-xho1vy"),o(e,"class","error-state svelte-xho1vy")},m(T,m){he(T,e,m),t(e,s),t(e,r),t(e,b),t(e,h),t(e,_),t(_,y),t(e,c),t(e,p),g||(x=ke(p,"click",l[35]),g=!0)},p(T,m){m[0]&524288&&ee(y,T[19])},d(T){T&&v(e),g=!1,x()}}}function sl(l){let e,s='<div class="spinner svelte-xho1vy"></div> <p>Loading members...</p>';return{c(){e=i("div"),e.innerHTML=s,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1omf28m"&&(e.innerHTML=s),this.h()},h(){o(e,"class","loading-state svelte-xho1vy")},m(a,r){he(a,e,r)},p:et,d(a){a&&v(e)}}}function al(l){let e,s,a,r,b='<tr class="svelte-xho1vy"><th class="svelte-xho1vy">Member</th> <th class="svelte-xho1vy">Role</th> <th class="svelte-xho1vy">Points</th> <th class="svelte-xho1vy">Activity</th> <th class="svelte-xho1vy">Joined</th> <th class="svelte-xho1vy">Actions</th></tr>',f,h,_,y,c=Xe(l[24]),p=[];for(let x=0;x<c.length;x+=1)p[x]=Pt(Nt(l,c,x));let C=Xe(l[24]),g=[];for(let x=0;x<C.length;x+=1)g[x]=Lt(wt(l,C,x));return{c(){e=i("div"),s=i("div"),a=i("table"),r=i("thead"),r.innerHTML=b,f=E(),h=i("tbody");for(let x=0;x<p.length;x+=1)p[x].c();_=E(),y=i("div");for(let x=0;x<g.length;x+=1)g[x].c();this.h()},l(x){e=n(x,"DIV",{class:!0});var T=u(e);s=n(T,"DIV",{class:!0});var m=u(s);a=n(m,"TABLE",{class:!0});var w=u(a);r=n(w,"THEAD",{"data-svelte-h":!0}),A(r)!=="svelte-lp0521"&&(r.innerHTML=b),f=D(w),h=n(w,"TBODY",{});var S=u(h);for(let z=0;z<p.length;z+=1)p[z].l(S);S.forEach(v),w.forEach(v),m.forEach(v),_=D(T),y=n(T,"DIV",{class:!0});var K=u(y);for(let z=0;z<g.length;z+=1)g[z].l(K);K.forEach(v),T.forEach(v),this.h()},h(){o(a,"class","members-table svelte-xho1vy"),o(s,"class","desktop-table svelte-xho1vy"),o(y,"class","mobile-cards svelte-xho1vy"),o(e,"class","members-container svelte-xho1vy")},m(x,T){he(x,e,T),t(e,s),t(s,a),t(a,r),t(a,f),t(a,h);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(h,null);t(e,_),t(e,y);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(y,null)},p(x,T){if(T[0]&251691009){c=Xe(x[24]);let m;for(m=0;m<c.length;m+=1){const w=Nt(x,c,m);p[m]?p[m].p(w,T):(p[m]=Pt(w),p[m].c(),p[m].m(h,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=c.length}if(T[0]&251691009){C=Xe(x[24]);let m;for(m=0;m<C.length;m+=1){const w=wt(x,C,m);g[m]?g[m].p(w,T):(g[m]=Lt(w),g[m].c(),g[m].m(y,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=C.length}},d(x){x&&v(e),mt(p,x),mt(g,x)}}}function ol(l){let e,s='<div class="empty-icon svelte-xho1vy">👥</div> <h3 class="svelte-xho1vy">No members yet</h3> <p class="svelte-xho1vy">Members will appear here once they join the club</p>';return{c(){e=i("div"),e.innerHTML=s,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-8opyo5"&&(e.innerHTML=s),this.h()},h(){o(e,"class","empty-state svelte-xho1vy")},m(a,r){he(a,e,r)},p:et,d(a){a&&v(e)}}}function nl(l){let e,s,a="🔍",r,b,f="No members found",h,_,y="Try adjusting your search or filter criteria",c,p,C="Clear Filters",g,x;return{c(){e=i("div"),s=i("div"),s.textContent=a,r=E(),b=i("h3"),b.textContent=f,h=E(),_=i("p"),_.textContent=y,c=E(),p=i("button"),p.textContent=C,this.h()},l(T){e=n(T,"DIV",{class:!0});var m=u(e);s=n(m,"DIV",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-c8icig"&&(s.textContent=a),r=D(m),b=n(m,"H3",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-1aaoeos"&&(b.textContent=f),h=D(m),_=n(m,"P",{class:!0,"data-svelte-h":!0}),A(_)!=="svelte-15rphpb"&&(_.textContent=y),c=D(m),p=n(m,"BUTTON",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-yjvxzg"&&(p.textContent=C),m.forEach(v),this.h()},h(){o(s,"class","empty-icon svelte-xho1vy"),o(b,"class","svelte-xho1vy"),o(_,"class","svelte-xho1vy"),o(p,"class","clear-filters-button svelte-xho1vy"),o(e,"class","empty-state svelte-xho1vy")},m(T,m){he(T,e,m),t(e,s),t(e,r),t(e,b),t(e,h),t(e,_),t(e,c),t(e,p),g||(x=ke(p,"click",l[40]),g=!0)},p:et,d(T){T&&v(e),g=!1,x()}}}function At(l){let e,s="✏️ Edit",a,r,b="⚡ Manage Role",f,h;function _(){return l[42](l[67])}function y(){return l[43](l[67])}return{c(){e=i("button"),e.textContent=s,a=E(),r=i("button"),r.textContent=b,this.h()},l(c){e=n(c,"BUTTON",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-xmamfm"&&(e.textContent=s),a=D(c),r=n(c,"BUTTON",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-1c3vnl5"&&(r.textContent=b),this.h()},h(){o(e,"class","edit-button svelte-xho1vy"),o(r,"class","manage-button svelte-xho1vy")},m(c,p){he(c,e,p),he(c,a,p),he(c,r,p),f||(h=[ke(e,"click",_),ke(r,"click",y)],f=!0)},p(c,p){l=c},d(c){c&&(v(e),v(a),v(r)),f=!1,rt(h)}}}function Pt(l){var Ve,Oe;let e,s,a,r,b=(((Ve=l[67].name)==null?void 0:Ve.charAt(0))||"?")+"",f,h,_,y,c=l[67].name+"",p,C,g,x=l[67].email+"",T,m,w,S,K=l[67].role_display+"",z,U,R,P,Z,Q,k=l[67].total_points+"",N,te,Te,j,O=l[67].monthly_points+"",de,fe,ue,ve,W,se,be=$e(l[67])==="active"?"✅ Active":"💤 Inactive",Y,le,Ae,ge,ae,oe=Ge(l[67].last_submission_date)+"",ce,$,B,X=Ge(l[67].join_date)+"",L,Pe,ye,I,J,Ee="👁️ View",De,V,M,Me;function xe(){return l[41](l[67])}let ne=l[15]&&l[67].id!==((Oe=l[0])==null?void 0:Oe.id)&&At(l);return{c(){e=i("tr"),s=i("td"),a=i("div"),r=i("div"),f=F(b),h=E(),_=i("div"),y=i("div"),p=F(c),C=E(),g=i("div"),T=F(x),m=E(),w=i("td"),S=i("span"),z=F(K),R=E(),P=i("td"),Z=i("div"),Q=i("div"),N=F(k),te=F(" total"),Te=E(),j=i("div"),de=F(O),fe=F(" this month"),ue=E(),ve=i("td"),W=i("div"),se=i("span"),Y=F(be),Ae=E(),ge=i("div"),ae=F("Last: "),ce=F(oe),$=E(),B=i("td"),L=F(X),Pe=E(),ye=i("td"),I=i("div"),J=i("button"),J.textContent=Ee,De=E(),ne&&ne.c(),V=E(),this.h()},l(we){e=n(we,"TR",{class:!0});var d=u(e);s=n(d,"TD",{class:!0});var me=u(s);a=n(me,"DIV",{class:!0});var Ce=u(a);r=n(Ce,"DIV",{class:!0});var ie=u(r);f=H(ie,b),ie.forEach(v),h=D(Ce),_=n(Ce,"DIV",{class:!0});var G=u(_);y=n(G,"DIV",{class:!0});var q=u(y);p=H(q,c),q.forEach(v),C=D(G),g=n(G,"DIV",{class:!0});var _e=u(g);T=H(_e,x),_e.forEach(v),G.forEach(v),Ce.forEach(v),me.forEach(v),m=D(d),w=n(d,"TD",{class:!0});var Ne=u(w);S=n(Ne,"SPAN",{class:!0});var Le=u(S);z=H(Le,K),Le.forEach(v),Ne.forEach(v),R=D(d),P=n(d,"TD",{class:!0});var Be=u(P);Z=n(Be,"DIV",{class:!0});var He=u(Z);Q=n(He,"DIV",{class:!0});var qe=u(Q);N=H(qe,k),te=H(qe," total"),qe.forEach(v),Te=D(He),j=n(He,"DIV",{class:!0});var Ie=u(j);de=H(Ie,O),fe=H(Ie," this month"),Ie.forEach(v),He.forEach(v),Be.forEach(v),ue=D(d),ve=n(d,"TD",{class:!0});var re=u(ve);W=n(re,"DIV",{class:!0});var pe=u(W);se=n(pe,"SPAN",{class:!0});var Fe=u(se);Y=H(Fe,be),Fe.forEach(v),Ae=D(pe),ge=n(pe,"DIV",{class:!0});var Ue=u(ge);ae=H(Ue,"Last: "),ce=H(Ue,oe),Ue.forEach(v),pe.forEach(v),re.forEach(v),$=D(d),B=n(d,"TD",{class:!0});var je=u(B);L=H(je,X),je.forEach(v),Pe=D(d),ye=n(d,"TD",{class:!0});var Ze=u(ye);I=n(Ze,"DIV",{class:!0});var Se=u(I);J=n(Se,"BUTTON",{class:!0,"data-svelte-h":!0}),A(J)!=="svelte-1sz26si"&&(J.textContent=Ee),De=D(Se),ne&&ne.l(Se),Se.forEach(v),Ze.forEach(v),V=D(d),d.forEach(v),this.h()},h(){o(r,"class","member-avatar svelte-xho1vy"),o(y,"class","member-name svelte-xho1vy"),o(g,"class","member-email svelte-xho1vy"),o(_,"class","member-details svelte-xho1vy"),o(a,"class","member-info svelte-xho1vy"),o(s,"class","svelte-xho1vy"),o(S,"class",U="role-badge "+l[67].role+" svelte-xho1vy"),o(w,"class","svelte-xho1vy"),o(Q,"class","total-points svelte-xho1vy"),o(j,"class","monthly-points svelte-xho1vy"),o(Z,"class","points-info svelte-xho1vy"),o(P,"class","svelte-xho1vy"),o(se,"class",le="activity-badge "+$e(l[67])+" svelte-xho1vy"),o(ge,"class","last-activity svelte-xho1vy"),o(W,"class","activity-info svelte-xho1vy"),o(ve,"class","svelte-xho1vy"),o(B,"class","join-date svelte-xho1vy"),o(J,"class","view-button svelte-xho1vy"),o(I,"class","action-buttons-cell svelte-xho1vy"),o(ye,"class","svelte-xho1vy"),o(e,"class","svelte-xho1vy")},m(we,d){he(we,e,d),t(e,s),t(s,a),t(a,r),t(r,f),t(a,h),t(a,_),t(_,y),t(y,p),t(_,C),t(_,g),t(g,T),t(e,m),t(e,w),t(w,S),t(S,z),t(e,R),t(e,P),t(P,Z),t(Z,Q),t(Q,N),t(Q,te),t(Z,Te),t(Z,j),t(j,de),t(j,fe),t(e,ue),t(e,ve),t(ve,W),t(W,se),t(se,Y),t(W,Ae),t(W,ge),t(ge,ae),t(ge,ce),t(e,$),t(e,B),t(B,L),t(e,Pe),t(e,ye),t(ye,I),t(I,J),t(I,De),ne&&ne.m(I,null),t(e,V),M||(Me=ke(J,"click",xe),M=!0)},p(we,d){var me,Ce;l=we,d[0]&16777216&&b!==(b=(((me=l[67].name)==null?void 0:me.charAt(0))||"?")+"")&&ee(f,b),d[0]&16777216&&c!==(c=l[67].name+"")&&ee(p,c),d[0]&16777216&&x!==(x=l[67].email+"")&&ee(T,x),d[0]&16777216&&K!==(K=l[67].role_display+"")&&ee(z,K),d[0]&16777216&&U!==(U="role-badge "+l[67].role+" svelte-xho1vy")&&o(S,"class",U),d[0]&16777216&&k!==(k=l[67].total_points+"")&&ee(N,k),d[0]&16777216&&O!==(O=l[67].monthly_points+"")&&ee(de,O),d[0]&16777216&&be!==(be=$e(l[67])==="active"?"✅ Active":"💤 Inactive")&&ee(Y,be),d[0]&16777216&&le!==(le="activity-badge "+$e(l[67])+" svelte-xho1vy")&&o(se,"class",le),d[0]&16777216&&oe!==(oe=Ge(l[67].last_submission_date)+"")&&ee(ce,oe),d[0]&16777216&&X!==(X=Ge(l[67].join_date)+"")&&ee(L,X),l[15]&&l[67].id!==((Ce=l[0])==null?void 0:Ce.id)?ne?ne.p(l,d):(ne=At(l),ne.c(),ne.m(I,null)):ne&&(ne.d(1),ne=null)},d(we){we&&v(e),ne&&ne.d(),M=!1,Me()}}}function Ot(l){let e,s="✏️ Edit",a,r,b="⚡ Manage Role",f,h;function _(){return l[45](l[67])}function y(){return l[46](l[67])}return{c(){e=i("button"),e.textContent=s,a=E(),r=i("button"),r.textContent=b,this.h()},l(c){e=n(c,"BUTTON",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-16diln"&&(e.textContent=s),a=D(c),r=n(c,"BUTTON",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-13uun4"&&(r.textContent=b),this.h()},h(){o(e,"class","edit-button-mobile svelte-xho1vy"),o(r,"class","manage-button-mobile svelte-xho1vy")},m(c,p){he(c,e,p),he(c,a,p),he(c,r,p),f||(h=[ke(e,"click",_),ke(r,"click",y)],f=!0)},p(c,p){l=c},d(c){c&&(v(e),v(a),v(r)),f=!1,rt(h)}}}function Lt(l){var me,Ce;let e,s,a,r,b=(((me=l[67].name)==null?void 0:me.charAt(0))||"?")+"",f,h,_,y,c=l[67].name+"",p,C,g,x=l[67].email+"",T,m,w,S=l[67].role_display+"",K,z,U,R,P,Z,Q="Total Points",k,N,te=l[67].total_points+"",Te,j,O,de,fe="Monthly Points",ue,ve,W=l[67].monthly_points+"",se,be,Y,le,Ae="Activity",ge,ae,oe=$e(l[67])==="active"?"✅ Active":"💤 Inactive",ce,$,B,X,L,Pe="Joined",ye,I,J=Ge(l[67].join_date)+"",Ee,De,V,M,Me="👁️ View Details",xe,ne,Ve,Oe;function we(){return l[44](l[67])}let d=l[15]&&l[67].id!==((Ce=l[0])==null?void 0:Ce.id)&&Ot(l);return{c(){e=i("div"),s=i("div"),a=i("div"),r=i("div"),f=F(b),h=E(),_=i("div"),y=i("div"),p=F(c),C=E(),g=i("div"),T=F(x),m=E(),w=i("span"),K=F(S),U=E(),R=i("div"),P=i("div"),Z=i("span"),Z.textContent=Q,k=E(),N=i("span"),Te=F(te),j=E(),O=i("div"),de=i("span"),de.textContent=fe,ue=E(),ve=i("span"),se=F(W),be=E(),Y=i("div"),le=i("span"),le.textContent=Ae,ge=E(),ae=i("span"),ce=F(oe),B=E(),X=i("div"),L=i("span"),L.textContent=Pe,ye=E(),I=i("span"),Ee=F(J),De=E(),V=i("div"),M=i("button"),M.textContent=Me,xe=E(),d&&d.c(),ne=E(),this.h()},l(ie){e=n(ie,"DIV",{class:!0});var G=u(e);s=n(G,"DIV",{class:!0});var q=u(s);a=n(q,"DIV",{class:!0});var _e=u(a);r=n(_e,"DIV",{class:!0});var Ne=u(r);f=H(Ne,b),Ne.forEach(v),h=D(_e),_=n(_e,"DIV",{class:!0});var Le=u(_);y=n(Le,"DIV",{class:!0});var Be=u(y);p=H(Be,c),Be.forEach(v),C=D(Le),g=n(Le,"DIV",{class:!0});var He=u(g);T=H(He,x),He.forEach(v),Le.forEach(v),_e.forEach(v),m=D(q),w=n(q,"SPAN",{class:!0});var qe=u(w);K=H(qe,S),qe.forEach(v),q.forEach(v),U=D(G),R=n(G,"DIV",{class:!0});var Ie=u(R);P=n(Ie,"DIV",{class:!0});var re=u(P);Z=n(re,"SPAN",{class:!0,"data-svelte-h":!0}),A(Z)!=="svelte-1a7g9it"&&(Z.textContent=Q),k=D(re),N=n(re,"SPAN",{class:!0});var pe=u(N);Te=H(pe,te),pe.forEach(v),re.forEach(v),j=D(Ie),O=n(Ie,"DIV",{class:!0});var Fe=u(O);de=n(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),A(de)!=="svelte-1sei53m"&&(de.textContent=fe),ue=D(Fe),ve=n(Fe,"SPAN",{class:!0});var Ue=u(ve);se=H(Ue,W),Ue.forEach(v),Fe.forEach(v),be=D(Ie),Y=n(Ie,"DIV",{class:!0});var je=u(Y);le=n(je,"SPAN",{class:!0,"data-svelte-h":!0}),A(le)!=="svelte-1uiknbp"&&(le.textContent=Ae),ge=D(je),ae=n(je,"SPAN",{class:!0});var Ze=u(ae);ce=H(Ze,oe),Ze.forEach(v),je.forEach(v),B=D(Ie),X=n(Ie,"DIV",{class:!0});var Se=u(X);L=n(Se,"SPAN",{class:!0,"data-svelte-h":!0}),A(L)!=="svelte-5capsd"&&(L.textContent=Pe),ye=D(Se),I=n(Se,"SPAN",{class:!0});var Ke=u(I);Ee=H(Ke,J),Ke.forEach(v),Se.forEach(v),Ie.forEach(v),De=D(G),V=n(G,"DIV",{class:!0});var ze=u(V);M=n(ze,"BUTTON",{class:!0,"data-svelte-h":!0}),A(M)!=="svelte-ytkdkd"&&(M.textContent=Me),xe=D(ze),d&&d.l(ze),ze.forEach(v),ne=D(G),G.forEach(v),this.h()},h(){o(r,"class","member-avatar svelte-xho1vy"),o(y,"class","member-name svelte-xho1vy"),o(g,"class","member-email svelte-xho1vy"),o(_,"class","member-details svelte-xho1vy"),o(a,"class","member-info svelte-xho1vy"),o(w,"class",z="role-badge "+l[67].role+" svelte-xho1vy"),o(s,"class","card-header svelte-xho1vy"),o(Z,"class","stat-label svelte-xho1vy"),o(N,"class","stat-value svelte-xho1vy"),o(P,"class","stat-item svelte-xho1vy"),o(de,"class","stat-label svelte-xho1vy"),o(ve,"class","stat-value svelte-xho1vy"),o(O,"class","stat-item svelte-xho1vy"),o(le,"class","stat-label svelte-xho1vy"),o(ae,"class",$="activity-badge "+$e(l[67])+" svelte-xho1vy"),o(Y,"class","stat-item svelte-xho1vy"),o(L,"class","stat-label svelte-xho1vy"),o(I,"class","stat-value svelte-xho1vy"),o(X,"class","stat-item svelte-xho1vy"),o(R,"class","card-stats svelte-xho1vy"),o(M,"class","view-button-mobile svelte-xho1vy"),o(V,"class","card-actions svelte-xho1vy"),o(e,"class","member-card svelte-xho1vy")},m(ie,G){he(ie,e,G),t(e,s),t(s,a),t(a,r),t(r,f),t(a,h),t(a,_),t(_,y),t(y,p),t(_,C),t(_,g),t(g,T),t(s,m),t(s,w),t(w,K),t(e,U),t(e,R),t(R,P),t(P,Z),t(P,k),t(P,N),t(N,Te),t(R,j),t(R,O),t(O,de),t(O,ue),t(O,ve),t(ve,se),t(R,be),t(R,Y),t(Y,le),t(Y,ge),t(Y,ae),t(ae,ce),t(R,B),t(R,X),t(X,L),t(X,ye),t(X,I),t(I,Ee),t(e,De),t(e,V),t(V,M),t(V,xe),d&&d.m(V,null),t(e,ne),Ve||(Oe=ke(M,"click",we),Ve=!0)},p(ie,G){var q,_e;l=ie,G[0]&16777216&&b!==(b=(((q=l[67].name)==null?void 0:q.charAt(0))||"?")+"")&&ee(f,b),G[0]&16777216&&c!==(c=l[67].name+"")&&ee(p,c),G[0]&16777216&&x!==(x=l[67].email+"")&&ee(T,x),G[0]&16777216&&S!==(S=l[67].role_display+"")&&ee(K,S),G[0]&16777216&&z!==(z="role-badge "+l[67].role+" svelte-xho1vy")&&o(w,"class",z),G[0]&16777216&&te!==(te=l[67].total_points+"")&&ee(Te,te),G[0]&16777216&&W!==(W=l[67].monthly_points+"")&&ee(se,W),G[0]&16777216&&oe!==(oe=$e(l[67])==="active"?"✅ Active":"💤 Inactive")&&ee(ce,oe),G[0]&16777216&&$!==($="activity-badge "+$e(l[67])+" svelte-xho1vy")&&o(ae,"class",$),G[0]&16777216&&J!==(J=Ge(l[67].join_date)+"")&&ee(Ee,J),l[15]&&l[67].id!==((_e=l[0])==null?void 0:_e.id)?d?d.p(l,G):(d=Ot(l),d.c(),d.m(V,null)):d&&(d.d(1),d=null)},d(ie){ie&&v(e),d&&d.d(),Ve=!1,Oe()}}}function St(l){var G;let e,s,a,r,b="Member Details",f,h,_="✕",y,c,p,C,g=(((G=l[1].name)==null?void 0:G.charAt(0))||"?")+"",x,T,m,w,S=l[1].name+"",K,z,U,R=l[1].email+"",P,Z,Q,k=l[1].role_display+"",N,te,Te,j,O,de,fe=l[1].total_points+"",ue,ve,W,se="Total Points",be,Y,le,Ae=l[1].monthly_points+"",ge,ae,oe,ce="Monthly Points",$,B,X,L=l[1].total_approved_submissions+"",Pe,ye,I,J="Submissions",Ee,De,V,M=Ge(l[1].last_submission_date).split(",")[0]+"",Me,xe,ne,Ve="Last Activity",Oe,we,d;function me(q,_e){var Ne;if(q[12])return rl;if((Ne=q[11])!=null&&Ne.recentSubmissions)return il}let Ce=me(l),ie=Ce&&Ce(l);return{c(){e=i("div"),s=i("div"),a=i("div"),r=i("h2"),r.textContent=b,f=E(),h=i("button"),h.textContent=_,y=E(),c=i("div"),p=i("div"),C=i("div"),x=F(g),T=E(),m=i("div"),w=i("h3"),K=F(S),z=E(),U=i("p"),P=F(R),Z=E(),Q=i("span"),N=F(k),Te=E(),j=i("div"),O=i("div"),de=i("div"),ue=F(fe),ve=E(),W=i("div"),W.textContent=se,be=E(),Y=i("div"),le=i("div"),ge=F(Ae),ae=E(),oe=i("div"),oe.textContent=ce,$=E(),B=i("div"),X=i("div"),Pe=F(L),ye=E(),I=i("div"),I.textContent=J,Ee=E(),De=i("div"),V=i("div"),Me=F(M),xe=E(),ne=i("div"),ne.textContent=Ve,Oe=E(),ie&&ie.c(),this.h()},l(q){e=n(q,"DIV",{class:!0});var _e=u(e);s=n(_e,"DIV",{class:!0});var Ne=u(s);a=n(Ne,"DIV",{class:!0});var Le=u(a);r=n(Le,"H2",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-hvtium"&&(r.textContent=b),f=D(Le),h=n(Le,"BUTTON",{class:!0,"data-svelte-h":!0}),A(h)!=="svelte-bqjhf3"&&(h.textContent=_),Le.forEach(v),y=D(Ne),c=n(Ne,"DIV",{class:!0});var Be=u(c);p=n(Be,"DIV",{class:!0});var He=u(p);C=n(He,"DIV",{class:!0});var qe=u(C);x=H(qe,g),qe.forEach(v),T=D(He),m=n(He,"DIV",{class:!0});var Ie=u(m);w=n(Ie,"H3",{class:!0});var re=u(w);K=H(re,S),re.forEach(v),z=D(Ie),U=n(Ie,"P",{class:!0});var pe=u(U);P=H(pe,R),pe.forEach(v),Z=D(Ie),Q=n(Ie,"SPAN",{class:!0});var Fe=u(Q);N=H(Fe,k),Fe.forEach(v),Ie.forEach(v),He.forEach(v),Te=D(Be),j=n(Be,"DIV",{class:!0});var Ue=u(j);O=n(Ue,"DIV",{class:!0});var je=u(O);de=n(je,"DIV",{class:!0});var Ze=u(de);ue=H(Ze,fe),Ze.forEach(v),ve=D(je),W=n(je,"DIV",{class:!0,"data-svelte-h":!0}),A(W)!=="svelte-tth6u3"&&(W.textContent=se),je.forEach(v),be=D(Ue),Y=n(Ue,"DIV",{class:!0});var Se=u(Y);le=n(Se,"DIV",{class:!0});var Ke=u(le);ge=H(Ke,Ae),Ke.forEach(v),ae=D(Se),oe=n(Se,"DIV",{class:!0,"data-svelte-h":!0}),A(oe)!=="svelte-idraae"&&(oe.textContent=ce),Se.forEach(v),$=D(Ue),B=n(Ue,"DIV",{class:!0});var ze=u(B);X=n(ze,"DIV",{class:!0});var vt=u(X);Pe=H(vt,L),vt.forEach(v),ye=D(ze),I=n(ze,"DIV",{class:!0,"data-svelte-h":!0}),A(I)!=="svelte-uqs8r"&&(I.textContent=J),ze.forEach(v),Ee=D(Ue),De=n(Ue,"DIV",{class:!0});var tt=u(De);V=n(tt,"DIV",{class:!0});var lt=u(V);Me=H(lt,M),lt.forEach(v),xe=D(tt),ne=n(tt,"DIV",{class:!0,"data-svelte-h":!0}),A(ne)!=="svelte-jwipnv"&&(ne.textContent=Ve),tt.forEach(v),Ue.forEach(v),Oe=D(Be),ie&&ie.l(Be),Be.forEach(v),Ne.forEach(v),_e.forEach(v),this.h()},h(){o(r,"class","svelte-xho1vy"),o(h,"class","close-button svelte-xho1vy"),o(a,"class","modal-header svelte-xho1vy"),o(C,"class","profile-avatar svelte-xho1vy"),o(w,"class","svelte-xho1vy"),o(U,"class","svelte-xho1vy"),o(Q,"class",te="role-badge "+l[1].role+" svelte-xho1vy"),o(m,"class","profile-info svelte-xho1vy"),o(p,"class","member-profile svelte-xho1vy"),o(de,"class","stat-value orange svelte-xho1vy"),o(W,"class","stat-label svelte-xho1vy"),o(O,"class","stat-item svelte-xho1vy"),o(le,"class","stat-value blue svelte-xho1vy"),o(oe,"class","stat-label svelte-xho1vy"),o(Y,"class","stat-item svelte-xho1vy"),o(X,"class","stat-value green svelte-xho1vy"),o(I,"class","stat-label svelte-xho1vy"),o(B,"class","stat-item svelte-xho1vy"),o(V,"class","stat-value red svelte-xho1vy"),o(ne,"class","stat-label svelte-xho1vy"),o(De,"class","stat-item svelte-xho1vy"),o(j,"class","member-stats svelte-xho1vy"),o(c,"class","modal-body svelte-xho1vy"),o(s,"class","modal-content svelte-xho1vy"),o(e,"class","modal-backdrop svelte-xho1vy")},m(q,_e){he(q,e,_e),t(e,s),t(s,a),t(a,r),t(a,f),t(a,h),t(s,y),t(s,c),t(c,p),t(p,C),t(C,x),t(p,T),t(p,m),t(m,w),t(w,K),t(m,z),t(m,U),t(U,P),t(m,Z),t(m,Q),t(Q,N),t(c,Te),t(c,j),t(j,O),t(O,de),t(de,ue),t(O,ve),t(O,W),t(j,be),t(j,Y),t(Y,le),t(le,ge),t(Y,ae),t(Y,oe),t(j,$),t(j,B),t(B,X),t(X,Pe),t(B,ye),t(B,I),t(j,Ee),t(j,De),t(De,V),t(V,Me),t(De,xe),t(De,ne),t(c,Oe),ie&&ie.m(c,null),we||(d=[ke(h,"click",l[47]),ke(s,"click",Vt(l[34])),ke(e,"click",l[48])],we=!0)},p(q,_e){var Ne;_e[0]&2&&g!==(g=(((Ne=q[1].name)==null?void 0:Ne.charAt(0))||"?")+"")&&ee(x,g),_e[0]&2&&S!==(S=q[1].name+"")&&ee(K,S),_e[0]&2&&R!==(R=q[1].email+"")&&ee(P,R),_e[0]&2&&k!==(k=q[1].role_display+"")&&ee(N,k),_e[0]&2&&te!==(te="role-badge "+q[1].role+" svelte-xho1vy")&&o(Q,"class",te),_e[0]&2&&fe!==(fe=q[1].total_points+"")&&ee(ue,fe),_e[0]&2&&Ae!==(Ae=q[1].monthly_points+"")&&ee(ge,Ae),_e[0]&2&&L!==(L=q[1].total_approved_submissions+"")&&ee(Pe,L),_e[0]&2&&M!==(M=Ge(q[1].last_submission_date).split(",")[0]+"")&&ee(Me,M),Ce===(Ce=me(q))&&ie?ie.p(q,_e):(ie&&ie.d(1),ie=Ce&&Ce(q),ie&&(ie.c(),ie.m(c,null)))},d(q){q&&v(e),ie&&ie.d(),we=!1,rt(d)}}}function il(l){let e,s,a="Recent Submissions",r;function b(_,y){return _[11].recentSubmissions.length===0?cl:vl}let f=b(l),h=f(l);return{c(){e=i("div"),s=i("h4"),s.textContent=a,r=E(),h.c(),this.h()},l(_){e=n(_,"DIV",{class:!0});var y=u(e);s=n(y,"H4",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-99qph0"&&(s.textContent=a),r=D(y),h.l(y),y.forEach(v),this.h()},h(){o(s,"class","svelte-xho1vy"),o(e,"class","submissions-section svelte-xho1vy")},m(_,y){he(_,e,y),t(e,s),t(e,r),h.m(e,null)},p(_,y){f===(f=b(_))&&h?h.p(_,y):(h.d(1),h=f(_),h&&(h.c(),h.m(e,null)))},d(_){_&&v(e),h.d()}}}function rl(l){let e,s='<div class="spinner svelte-xho1vy"></div> <p>Loading details...</p>';return{c(){e=i("div"),e.innerHTML=s,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1c3xner"&&(e.innerHTML=s),this.h()},h(){o(e,"class","loading-state svelte-xho1vy")},m(a,r){he(a,e,r)},p:et,d(a){a&&v(e)}}}function vl(l){let e,s=Xe(l[11].recentSubmissions),a=[];for(let r=0;r<s.length;r+=1)a[r]=Ut(Mt(l,s,r));return{c(){e=i("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=n(r,"DIV",{class:!0});var b=u(e);for(let f=0;f<a.length;f+=1)a[f].l(b);b.forEach(v),this.h()},h(){o(e,"class","submissions-list svelte-xho1vy")},m(r,b){he(r,e,b);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null)},p(r,b){if(b[0]&2048){s=Xe(r[11].recentSubmissions);let f;for(f=0;f<s.length;f+=1){const h=Mt(r,s,f);a[f]?a[f].p(h,b):(a[f]=Ut(h),a[f].c(),a[f].m(e,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=s.length}},d(r){r&&v(e),mt(a,r)}}}function cl(l){let e,s="No submissions yet";return{c(){e=i("p"),e.textContent=s,this.h()},l(a){e=n(a,"P",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1g20zqq"&&(e.textContent=s),this.h()},h(){o(e,"class","no-submissions svelte-xho1vy")},m(a,r){he(a,e,r)},p:et,d(a){a&&v(e)}}}function Ut(l){let e,s,a,r=l[64].category+"",b,f,h,_=(l[64].description||"No description")+"",y,c,p,C=Ge(l[64].submitted_at)+"",g,x,T,m,w=l[64].points+"",S,K,z,U,R=l[64].approved?"✅ Approved":l[64].approved===!1?"❌ Rejected":"⏳ Pending",P,Z,Q;return{c(){e=i("div"),s=i("div"),a=i("div"),b=F(r),f=E(),h=i("div"),y=F(_),c=E(),p=i("div"),g=F(C),x=E(),T=i("div"),m=i("div"),S=F(w),K=F(" pts"),z=E(),U=i("span"),P=F(R),Q=E(),this.h()},l(k){e=n(k,"DIV",{class:!0});var N=u(e);s=n(N,"DIV",{class:!0});var te=u(s);a=n(te,"DIV",{class:!0});var Te=u(a);b=H(Te,r),Te.forEach(v),f=D(te),h=n(te,"DIV",{class:!0});var j=u(h);y=H(j,_),j.forEach(v),c=D(te),p=n(te,"DIV",{class:!0});var O=u(p);g=H(O,C),O.forEach(v),te.forEach(v),x=D(N),T=n(N,"DIV",{class:!0});var de=u(T);m=n(de,"DIV",{class:!0});var fe=u(m);S=H(fe,w),K=H(fe," pts"),fe.forEach(v),z=D(de),U=n(de,"SPAN",{class:!0});var ue=u(U);P=H(ue,R),ue.forEach(v),de.forEach(v),Q=D(N),N.forEach(v),this.h()},h(){o(a,"class","submission-category svelte-xho1vy"),o(h,"class","submission-description svelte-xho1vy"),o(p,"class","submission-date svelte-xho1vy"),o(s,"class","submission-info"),o(m,"class","submission-points svelte-xho1vy"),o(U,"class",Z="status-badge "+(l[64].approved?"approved":l[64].approved===!1?"rejected":"pending")+" svelte-xho1vy"),o(T,"class","submission-status svelte-xho1vy"),o(e,"class","submission-item svelte-xho1vy")},m(k,N){he(k,e,N),t(e,s),t(s,a),t(a,b),t(s,f),t(s,h),t(h,y),t(s,c),t(s,p),t(p,g),t(e,x),t(e,T),t(T,m),t(m,S),t(m,K),t(T,z),t(T,U),t(U,P),t(e,Q)},p(k,N){N[0]&2048&&r!==(r=k[64].category+"")&&ee(b,r),N[0]&2048&&_!==(_=(k[64].description||"No description")+"")&&ee(y,_),N[0]&2048&&C!==(C=Ge(k[64].submitted_at)+"")&&ee(g,C),N[0]&2048&&w!==(w=k[64].points+"")&&ee(S,w),N[0]&2048&&R!==(R=k[64].approved?"✅ Approved":k[64].approved===!1?"❌ Rejected":"⏳ Pending")&&ee(P,R),N[0]&2048&&Z!==(Z="status-badge "+(k[64].approved?"approved":k[64].approved===!1?"rejected":"pending")+" svelte-xho1vy")&&o(U,"class",Z)},d(k){k&&v(e)}}}function Rt(l){var De;let e,s,a,r,b="Edit Member Information",f,h,_="✕",y,c,p,C,g=(((De=l[6].name)==null?void 0:De.charAt(0))||"?")+"",x,T,m,w,S=l[6].name+"",K,z,U,R,P=l[6].role_display+"",Z,Q,k,N,te,Te="Full Name *",j,O,de,fe,ue,ve="Email Address *",W,se,be,Y,le,Ae="Phone Number",ge,ae,oe,ce,$,B,X,L,Pe=l[13]?"⏳ Saving...":"💾 Save Changes",ye,I,J,Ee;return{c(){e=i("div"),s=i("div"),a=i("div"),r=i("h2"),r.textContent=b,f=E(),h=i("button"),h.textContent=_,y=E(),c=i("div"),p=i("div"),C=i("div"),x=F(g),T=E(),m=i("div"),w=i("div"),K=F(S),z=E(),U=i("div"),R=F("Currently: "),Z=F(P),Q=E(),k=i("div"),N=i("div"),te=i("label"),te.textContent=Te,j=E(),O=i("input"),de=E(),fe=i("div"),ue=i("label"),ue.textContent=ve,W=E(),se=i("input"),be=E(),Y=i("div"),le=i("label"),le.textContent=Ae,ge=E(),ae=i("input"),oe=E(),ce=i("div"),$=i("button"),B=F("Cancel"),X=E(),L=i("button"),ye=F(Pe),this.h()},l(V){e=n(V,"DIV",{class:!0});var M=u(e);s=n(M,"DIV",{class:!0});var Me=u(s);a=n(Me,"DIV",{class:!0});var xe=u(a);r=n(xe,"H2",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-1lz285m"&&(r.textContent=b),f=D(xe),h=n(xe,"BUTTON",{class:!0,"data-svelte-h":!0}),A(h)!=="svelte-xne7a4"&&(h.textContent=_),xe.forEach(v),y=D(Me),c=n(Me,"DIV",{class:!0});var ne=u(c);p=n(ne,"DIV",{class:!0});var Ve=u(p);C=n(Ve,"DIV",{class:!0});var Oe=u(C);x=H(Oe,g),Oe.forEach(v),T=D(Ve),m=n(Ve,"DIV",{class:!0});var we=u(m);w=n(we,"DIV",{class:!0});var d=u(w);K=H(d,S),d.forEach(v),z=D(we),U=n(we,"DIV",{class:!0});var me=u(U);R=H(me,"Currently: "),Z=H(me,P),me.forEach(v),we.forEach(v),Ve.forEach(v),Q=D(ne),k=n(ne,"DIV",{class:!0});var Ce=u(k);N=n(Ce,"DIV",{class:!0});var ie=u(N);te=n(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(te)!=="svelte-tqqy4r"&&(te.textContent=Te),j=D(ie),O=n(ie,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ie.forEach(v),de=D(Ce),fe=n(Ce,"DIV",{class:!0});var G=u(fe);ue=n(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(ue)!=="svelte-1hqh4o"&&(ue.textContent=ve),W=D(G),se=n(G,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),G.forEach(v),be=D(Ce),Y=n(Ce,"DIV",{class:!0});var q=u(Y);le=n(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(le)!=="svelte-1ylu5u5"&&(le.textContent=Ae),ge=D(q),ae=n(q,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),q.forEach(v),Ce.forEach(v),oe=D(ne),ce=n(ne,"DIV",{class:!0});var _e=u(ce);$=n(_e,"BUTTON",{class:!0});var Ne=u($);B=H(Ne,"Cancel"),Ne.forEach(v),X=D(_e),L=n(_e,"BUTTON",{class:!0});var Le=u(L);ye=H(Le,Pe),Le.forEach(v),_e.forEach(v),ne.forEach(v),Me.forEach(v),M.forEach(v),this.h()},h(){o(r,"class","svelte-xho1vy"),o(h,"class","close-button svelte-xho1vy"),o(a,"class","modal-header svelte-xho1vy"),o(C,"class","member-avatar small svelte-xho1vy"),o(w,"class","member-name svelte-xho1vy"),o(U,"class","current-role svelte-xho1vy"),o(m,"class","member-info svelte-xho1vy"),o(p,"class","edit-member-header svelte-xho1vy"),o(te,"for","editName"),o(te,"class","svelte-xho1vy"),o(O,"id","editName"),o(O,"type","text"),o(O,"placeholder","Enter full name"),O.disabled=l[13],o(O,"class","svelte-xho1vy"),o(N,"class","form-group svelte-xho1vy"),o(ue,"for","editEmail"),o(ue,"class","svelte-xho1vy"),o(se,"id","editEmail"),o(se,"type","email"),o(se,"placeholder","Enter email address"),se.disabled=l[13],o(se,"class","svelte-xho1vy"),o(fe,"class","form-group svelte-xho1vy"),o(le,"for","editPhone"),o(le,"class","svelte-xho1vy"),o(ae,"id","editPhone"),o(ae,"type","tel"),o(ae,"placeholder","(555) 123-4567"),ae.disabled=l[13],o(ae,"class","svelte-xho1vy"),o(Y,"class","form-group svelte-xho1vy"),o(k,"class","edit-form svelte-xho1vy"),o($,"class","cancel-button svelte-xho1vy"),$.disabled=l[13],o(L,"class","save-button svelte-xho1vy"),L.disabled=I=l[13]||!l[8].trim()||!l[10].trim(),o(ce,"class","modal-actions svelte-xho1vy"),o(c,"class","modal-body svelte-xho1vy"),o(s,"class","modal-content small svelte-xho1vy"),o(e,"class","modal-backdrop svelte-xho1vy")},m(V,M){he(V,e,M),t(e,s),t(s,a),t(a,r),t(a,f),t(a,h),t(s,y),t(s,c),t(c,p),t(p,C),t(C,x),t(p,T),t(p,m),t(m,w),t(w,K),t(m,z),t(m,U),t(U,R),t(U,Z),t(c,Q),t(c,k),t(k,N),t(N,te),t(N,j),t(N,O),Re(O,l[8]),t(k,de),t(k,fe),t(fe,ue),t(fe,W),t(fe,se),Re(se,l[10]),t(k,be),t(k,Y),t(Y,le),t(Y,ge),t(Y,ae),Re(ae,l[9]),t(c,oe),t(c,ce),t(ce,$),t($,B),t(ce,X),t(ce,L),t(L,ye),J||(Ee=[ke(h,"click",l[49]),ke(O,"input",l[50]),ke(se,"input",l[51]),ke(ae,"input",l[52]),ke($,"click",l[53]),ke(L,"click",l[29]),ke(s,"click",Vt(l[33])),ke(e,"click",l[54])],J=!0)},p(V,M){var Me;M[0]&64&&g!==(g=(((Me=V[6].name)==null?void 0:Me.charAt(0))||"?")+"")&&ee(x,g),M[0]&64&&S!==(S=V[6].name+"")&&ee(K,S),M[0]&64&&P!==(P=V[6].role_display+"")&&ee(Z,P),M[0]&8192&&(O.disabled=V[13]),M[0]&256&&O.value!==V[8]&&Re(O,V[8]),M[0]&8192&&(se.disabled=V[13]),M[0]&1024&&se.value!==V[10]&&Re(se,V[10]),M[0]&8192&&(ae.disabled=V[13]),M[0]&512&&Re(ae,V[9]),M[0]&8192&&($.disabled=V[13]),M[0]&8192&&Pe!==(Pe=V[13]?"⏳ Saving...":"💾 Save Changes")&&ee(ye,Pe),M[0]&9472&&I!==(I=V[13]||!V[8].trim()||!V[10].trim())&&(L.disabled=I)},d(V){V&&v(e),J=!1,rt(Ee)}}}function jt(l){var Pe,ye;let e,s,a,r,b="Change Member Role",f,h,_="✕",y,c,p,C,g=(((Pe=l[5].name)==null?void 0:Pe.charAt(0))||"?")+"",x,T,m,w,S=l[5].name+"",K,z,U,R,P=l[5].role_display+"",Z,Q,k,N,te="New Role",Te,j,O,de,fe,ue,ve,W,se="Cancel",be,Y,le=l[17]?"⏳ Updating...":"✅ Update Role",Ae,ge,ae,oe,ce=Xe(l[16]),$=[];for(let I=0;I<ce.length;I+=1)$[I]=Bt(Tt(l,ce,I));let B=l[7]&&Ht(l),X=l[7]===l[5].role&&Ft(),L=l[7]==="president"&&((ye=l[0])==null?void 0:ye.role)!=="president"&&qt();return{c(){e=i("div"),s=i("div"),a=i("div"),r=i("h2"),r.textContent=b,f=E(),h=i("button"),h.textContent=_,y=E(),c=i("div"),p=i("div"),C=i("div"),x=F(g),T=E(),m=i("div"),w=i("div"),K=F(S),z=E(),U=i("div"),R=F("Current: "),Z=F(P),Q=E(),k=i("div"),N=i("label"),N.textContent=te,Te=E(),j=i("select");for(let I=0;I<$.length;I+=1)$[I].c();O=E(),B&&B.c(),de=E(),X&&X.c(),fe=E(),L&&L.c(),ue=E(),ve=i("div"),W=i("button"),W.textContent=se,be=E(),Y=i("button"),Ae=F(le),this.h()},l(I){e=n(I,"DIV",{class:!0});var J=u(e);s=n(J,"DIV",{class:!0});var Ee=u(s);a=n(Ee,"DIV",{class:!0});var De=u(a);r=n(De,"H2",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-15jjhlg"&&(r.textContent=b),f=D(De),h=n(De,"BUTTON",{class:!0,"data-svelte-h":!0}),A(h)!=="svelte-1pait0e"&&(h.textContent=_),De.forEach(v),y=D(Ee),c=n(Ee,"DIV",{class:!0});var V=u(c);p=n(V,"DIV",{class:!0});var M=u(p);C=n(M,"DIV",{class:!0});var Me=u(C);x=H(Me,g),Me.forEach(v),T=D(M),m=n(M,"DIV",{class:!0});var xe=u(m);w=n(xe,"DIV",{class:!0});var ne=u(w);K=H(ne,S),ne.forEach(v),z=D(xe),U=n(xe,"DIV",{class:!0});var Ve=u(U);R=H(Ve,"Current: "),Z=H(Ve,P),Ve.forEach(v),xe.forEach(v),M.forEach(v),Q=D(V),k=n(V,"DIV",{class:!0});var Oe=u(k);N=n(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(N)!=="svelte-epq0r6"&&(N.textContent=te),Te=D(Oe),j=n(Oe,"SELECT",{id:!0,class:!0});var we=u(j);for(let Ce=0;Ce<$.length;Ce+=1)$[Ce].l(we);we.forEach(v),O=D(Oe),B&&B.l(Oe),Oe.forEach(v),de=D(V),X&&X.l(V),fe=D(V),L&&L.l(V),ue=D(V),ve=n(V,"DIV",{class:!0});var d=u(ve);W=n(d,"BUTTON",{class:!0,"data-svelte-h":!0}),A(W)!=="svelte-1hpcdgn"&&(W.textContent=se),be=D(d),Y=n(d,"BUTTON",{class:!0});var me=u(Y);Ae=H(me,le),me.forEach(v),d.forEach(v),V.forEach(v),Ee.forEach(v),J.forEach(v),this.h()},h(){var I;o(r,"class","svelte-xho1vy"),o(h,"class","close-button svelte-xho1vy"),o(a,"class","modal-header svelte-xho1vy"),o(C,"class","member-avatar small svelte-xho1vy"),o(w,"class","member-name svelte-xho1vy"),o(U,"class","current-role svelte-xho1vy"),o(m,"class","member-info svelte-xho1vy"),o(p,"class","role-change-member svelte-xho1vy"),o(N,"for","newRole"),o(N,"class","svelte-xho1vy"),o(j,"id","newRole"),o(j,"class","svelte-xho1vy"),l[7]===void 0&&It(()=>l[56].call(j)),o(k,"class","role-selection svelte-xho1vy"),o(W,"class","cancel-button svelte-xho1vy"),o(Y,"class","save-button svelte-xho1vy"),Y.disabled=ge=l[7]===l[5].role||l[7]==="president"&&((I=l[0])==null?void 0:I.role)!=="president"||l[17],o(ve,"class","modal-actions svelte-xho1vy"),o(c,"class","modal-body svelte-xho1vy"),o(s,"class","modal-content small svelte-xho1vy"),o(e,"class","modal-backdrop svelte-xho1vy")},m(I,J){he(I,e,J),t(e,s),t(s,a),t(a,r),t(a,f),t(a,h),t(s,y),t(s,c),t(c,p),t(p,C),t(C,x),t(p,T),t(p,m),t(m,w),t(w,K),t(m,z),t(m,U),t(U,R),t(U,Z),t(c,Q),t(c,k),t(k,N),t(k,Te),t(k,j);for(let Ee=0;Ee<$.length;Ee+=1)$[Ee]&&$[Ee].m(j,null);nt(j,l[7],!0),t(k,O),B&&B.m(k,null),t(c,de),X&&X.m(c,null),t(c,fe),L&&L.m(c,null),t(c,ue),t(c,ve),t(ve,W),t(ve,be),t(ve,Y),t(Y,Ae),ae||(oe=[ke(h,"click",l[55]),ke(j,"change",l[56]),ke(W,"click",l[58]),ke(Y,"click",l[28]),ke(s,"click",Vt(l[32])),ke(e,"click",l[59])],ae=!0)},p(I,J){var Ee,De,V;if(J[0]&32&&g!==(g=(((Ee=I[5].name)==null?void 0:Ee.charAt(0))||"?")+"")&&ee(x,g),J[0]&32&&S!==(S=I[5].name+"")&&ee(K,S),J[0]&32&&P!==(P=I[5].role_display+"")&&ee(Z,P),J[0]&65536){ce=Xe(I[16]);let M;for(M=0;M<ce.length;M+=1){const Me=Tt(I,ce,M);$[M]?$[M].p(Me,J):($[M]=Bt(Me),$[M].c(),$[M].m(j,null))}for(;M<$.length;M+=1)$[M].d(1);$.length=ce.length}J[0]&65664&&nt(j,I[7]),I[7]?B?B.p(I,J):(B=Ht(I),B.c(),B.m(k,null)):B&&(B.d(1),B=null),I[7]===I[5].role?X||(X=Ft(),X.c(),X.m(c,fe)):X&&(X.d(1),X=null),I[7]==="president"&&((De=I[0])==null?void 0:De.role)!=="president"?L||(L=qt(),L.c(),L.m(c,ue)):L&&(L.d(1),L=null),J[0]&131072&&le!==(le=I[17]?"⏳ Updating...":"✅ Update Role")&&ee(Ae,le),J[0]&196769&&ge!==(ge=I[7]===I[5].role||I[7]==="president"&&((V=I[0])==null?void 0:V.role)!=="president"||I[17])&&(Y.disabled=ge)},d(I){I&&v(e),mt($,I),B&&B.d(),X&&X.d(),L&&L.d(),ae=!1,rt(oe)}}}function Bt(l){let e,s=l[61].label+"",a,r;return{c(){e=i("option"),a=F(s),this.h()},l(b){e=n(b,"OPTION",{});var f=u(e);a=H(f,s),f.forEach(v),this.h()},h(){e.__value=r=l[61].value,Re(e,e.__value)},m(b,f){he(b,e,f),t(e,a)},p(b,f){f[0]&65536&&s!==(s=b[61].label+"")&&ee(a,s),f[0]&65536&&r!==(r=b[61].value)&&(e.__value=r,Re(e,e.__value))},d(b){b&&v(e)}}}function Ht(l){var r;let e,s=((r=l[16].find(l[57]))==null?void 0:r.description)+"",a;return{c(){e=i("p"),a=F(s),this.h()},l(b){e=n(b,"P",{class:!0});var f=u(e);a=H(f,s),f.forEach(v),this.h()},h(){o(e,"class","role-description svelte-xho1vy")},m(b,f){he(b,e,f),t(e,a)},p(b,f){var h;f[0]&65664&&s!==(s=((h=b[16].find(b[57]))==null?void 0:h.description)+"")&&ee(a,s)},d(b){b&&v(e)}}}function Ft(l){let e,s='<p class="svelte-xho1vy">⚠️ This member already has this role</p>';return{c(){e=i("div"),e.innerHTML=s,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1cubtib"&&(e.innerHTML=s),this.h()},h(){o(e,"class","warning-message svelte-xho1vy")},m(a,r){he(a,e,r)},d(a){a&&v(e)}}}function qt(l){let e,s='<p class="svelte-xho1vy">❌ Only presidents can promote members to president</p>';return{c(){e=i("div"),e.innerHTML=s,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-172t6px"&&(e.innerHTML=s),this.h()},h(){o(e,"class","error-message svelte-xho1vy")},m(a,r){he(a,e,r)},d(a){a&&v(e)}}}function dl(l){let e,s,a,r,b;function f(C,g){return C[14]?$t:el}let h=f(l),_=h(l),y=l[2]&&l[1]&&St(l),c=l[4]&&l[6]&&Rt(l),p=l[3]&&l[5]&&jt(l);return{c(){e=i("main"),_.c(),s=E(),y&&y.c(),a=E(),c&&c.c(),r=E(),p&&p.c(),b=it(),this.h()},l(C){e=n(C,"MAIN",{class:!0});var g=u(e);_.l(g),g.forEach(v),s=D(C),y&&y.l(C),a=D(C),c&&c.l(C),r=D(C),p&&p.l(C),b=it(),this.h()},h(){o(e,"class","svelte-xho1vy")},m(C,g){he(C,e,g),_.m(e,null),he(C,s,g),y&&y.m(C,g),he(C,a,g),c&&c.m(C,g),he(C,r,g),p&&p.m(C,g),he(C,b,g)},p(C,g){h===(h=f(C))&&_?_.p(C,g):(_.d(1),_=h(C),_&&(_.c(),_.m(e,null))),C[2]&&C[1]?y?y.p(C,g):(y=St(C),y.c(),y.m(a.parentNode,a)):y&&(y.d(1),y=null),C[4]&&C[6]?c?c.p(C,g):(c=Rt(C),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),C[3]&&C[5]?p?p.p(C,g):(p=jt(C),p.c(),p.m(b.parentNode,b)):p&&(p.d(1),p=null)},i:et,o:et,d(C){C&&(v(e),v(s),v(a),v(r),v(b)),_.d(),y&&y.d(C),c&&c.d(C),p&&p.d(C)}}}function ul(){return()=>{}}function Ge(l){if(!l)return"Never";try{let e=l;l.includes(" ")&&!l.includes("T")&&(e=l.replace(" ","T"),!e.includes("+")&&!e.includes("Z")&&(e+="Z"));const s=new Date(e);return isNaN(s.getTime())?(console.warn("Invalid date after parsing:",l,"->",e),"Invalid Date"):s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(e){return console.warn("Error formatting date:",l,e),"Invalid Date"}}function $e(l){if(!l.last_submission_date)return"inactive";const e=new Date;return e.setDate(e.getDate()-90),new Date(l.last_submission_date)>=e?"active":"inactive"}function hl(l,e,s){let a,r,b,f,h,_,y,c,p,C,g,x,T;Je(l,Dt,d=>s(0,f=d)),Je(l,Xt,d=>s(31,h=d)),Je(l,st,d=>s(17,_=d)),Je(l,We,d=>s(18,y=d)),Je(l,Qe,d=>s(19,c=d)),Je(l,Wt,d=>s(20,p=d)),Je(l,bt,d=>s(21,C=d)),Je(l,yt,d=>s(22,g=d)),Je(l,Ct,d=>s(23,x=d)),Je(l,Qt,d=>s(24,T=d));let m=null,w=!1,S=!1,K=!1,z=null,U=null,R="",P="",Z="",Q="",k=null,N=!1,te=!1;const Te=[{value:"member",label:"Member",description:"Standard member privileges"},{value:"officer",label:"Officer",description:"Can approve submissions and access officer tools"},{value:"vice_president",label:"Vice President",description:"Can manage officers and access all tools"},{value:"president",label:"President",description:"Full administrative access"}];async function j(d){s(1,m=d),s(2,w=!0),s(12,N=!0),s(11,k=null);try{s(11,k=await Ye.getMemberDetails(d.id))}catch(me){console.error("Failed to load member details:",me)}finally{s(12,N=!1)}}function O(d){r&&(s(5,z=d),s(7,R=d.role),s(3,S=!0))}function de(d){r&&(s(6,U=d),s(8,P=d.name||""),s(9,Z=d.phone||""),s(10,Q=d.email||""),s(4,K=!0))}async function fe(){if(!(!z||!R))try{await Ye.updateMemberRole(z.id,R),s(3,S=!1),s(5,z=null),s(7,R=""),console.log("✅ Role updated successfully")}catch(d){console.error("❌ Failed to update role:",d)}}async function ue(){if(!U||te)return;if(!P.trim()){alert("Name cannot be empty");return}if(Q&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q)){alert("Please enter a valid email address");return}s(13,te=!0);try{const me={name:P.trim(),phone:Z.trim()||null,email:Q.trim()||null},{data:Ce,error:ie}=await dt.from("members").update(me).eq("id",U.id).select();if(ie)throw ie;console.log("✅ Member updated successfully"),s(4,K=!1),s(6,U=null),s(8,P=""),s(9,Z=""),s(10,Q=""),await Ye.loadMembers(!0)}catch(me){console.error("❌ Failed to update member:",me),alert("Failed to update member. Please try again.")}finally{s(13,te=!1)}}async function ve(){try{const d=await Ye.exportMembersData(),me=[["Name","Email","Role","Total Points","Monthly Points","Join Date","Last Activity","Total Submissions"],...d.map(q=>[q.name,q.email,q.role,q.totalPoints,q.monthlyPoints,q.joinDate,q.lastActivity,q.totalSubmissions])].map(q=>q.join(",")).join(`
`),Ce=new Blob([me],{type:"text/csv"}),ie=window.URL.createObjectURL(Ce),G=document.createElement("a");G.href=ie,G.download=`jax-members-roster-${new Date().toISOString().split("T")[0]}.csv`,G.click(),window.URL.revokeObjectURL(ie)}catch(d){console.error("Failed to export data:",d)}}Zt(async()=>{if(unsubscribeVisibility=ul(),!a){Kt("/");return}await Ye.loadMembers()}),Jt(()=>{unsubscribeVisibility&&unsubscribeVisibility()});function W(d){Et.call(this,l,d)}function se(d){Et.call(this,l,d)}function be(d){Et.call(this,l,d)}const Y=()=>Ye.refresh();function le(){C=this.value,bt.set(C)}function Ae(){g=gt(this),yt.set(g)}function ge(){x=gt(this),Ct.set(x)}const ae=()=>Ye.resetFilters(),oe=()=>Ye.resetFilters(),ce=d=>j(d),$=d=>de(d),B=d=>O(d),X=d=>j(d),L=d=>de(d),Pe=d=>O(d),ye=()=>{s(2,w=!1),s(1,m=null),s(11,k=null)},I=()=>{s(2,w=!1),s(1,m=null),s(11,k=null)},J=()=>{s(4,K=!1),s(6,U=null),s(8,P=""),s(9,Z=""),s(10,Q="")};function Ee(){P=this.value,s(8,P)}function De(){Q=this.value,s(10,Q)}function V(){Z=this.value,s(9,Z)}const M=()=>{s(4,K=!1),s(6,U=null),s(8,P=""),s(9,Z=""),s(10,Q="")},Me=()=>{s(4,K=!1),s(6,U=null),s(8,P=""),s(9,Z=""),s(10,Q="")},xe=()=>{s(3,S=!1),s(5,z=null),s(7,R="")};function ne(){R=gt(this),s(7,R),s(16,b),s(0,f)}const Ve=d=>d.value===R,Oe=()=>{s(3,S=!1),s(5,z=null),s(7,R="")},we=()=>{s(3,S=!1),s(5,z=null),s(7,R="")};return l.$$.update=()=>{l.$$.dirty[0]&1&&s(14,a=(f==null?void 0:f.is_officer)||!1),l.$$.dirty[1]&1&&s(15,r=h),l.$$.dirty[0]&1&&s(16,b=Te.filter(d=>(f==null?void 0:f.role)==="president"?!0:(f==null?void 0:f.role)==="vice_president"?d.value!=="president":!1))},[f,m,w,S,K,z,U,R,P,Z,Q,k,N,te,a,r,b,_,y,c,p,C,g,x,T,j,O,de,fe,ue,ve,h,W,se,be,Y,le,Ae,ge,ae,oe,ce,$,B,X,L,Pe,ye,I,J,Ee,De,V,M,Me,xe,ne,Ve,Oe,we]}class Dl extends Yt{constructor(e){super(),Gt(this,e,hl,dl,zt,{},null,[-1,-1,-1])}}export{Dl as component};
