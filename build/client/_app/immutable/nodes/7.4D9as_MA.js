import{s as Nt,d as _,i as O,B as Ot,g as w,j as I,k as ae,C as Pt,G as Xe,I as lt,n as Bt,a as $,b as a,q as d,c as h,e as N,E as J,f as B,h as g,t as V,F as nt,r as Vt,J as Oe,K,x as Ne,N as At,L as st}from"../chunks/DpwROyu6.js";import{S as Mt,i as qt,d as me,t as se,a as re,m as de,b as pe,e as he,g as Rt,c as jt}from"../chunks/BHIxbS5H.js";import{e as Pe}from"../chunks/CurIhP_1.js";import{g as _t}from"../chunks/BPUUyVED.js";import{u as Ht}from"../chunks/CN8V5uJw.js";import{l as mt,d as Ft,h as Jt,f as dt,e as Gt,i as Yt,a as Xt,m as Ut,b as zt,j as Kt,k as Qt,c as Wt}from"../chunks/Cgvdxfmj.js";import{s as Zt}from"../chunks/CCM_4jRA.js";import{H as $t}from"../chunks/D4n3Zs5P.js";import{C as xt}from"../chunks/XUMP8LP7.js";import{L as el}from"../chunks/BWGxyfTN.js";import{E as tl}from"../chunks/CZ9EVN-i.js";import{B as Ue}from"../chunks/28GNhQ-J.js";function pt(n,e,t){const l=n.slice();return l[33]=e[t],l}function ht(n,e,t){const l=n.slice();return l[36]=e[t],l}function gt(n,e,t){const l=n.slice();return l[39]=e[t],l}function ll(n){var ct,ft;let e,t,l,r,s,o="Competition *",u,c,m,i="Select a competition...",p,C,v,k,y,P="BJCP Category *",S,E,A,X="Select main category...",Q,x,oe,U,z,qe="Beer Name *",Be,M,ke,Ve,W,ee,Re="Beer Notes (Optional)",Ae,b,Z,Se,Y,ge=n[11].length+"",je,ze,Ke,ce,be,rt="Brewer",Qe,fe,Le,Me=(((ct=n[10])==null?void 0:ct.name)||((ft=n[10])==null?void 0:ft.email))+"",He,We,ve,ot="(automatically filled)",Ze,Fe,ue,ie,$e,_e,xe,Ce,it='<h3 class="svelte-ncefe">üìù Entry Guidelines</h3> <ul class="svelte-ncefe"><li class="svelte-ncefe">Entries must be submitted before the deadline</li> <li class="svelte-ncefe">One entry per category per brewer per competition</li> <li class="svelte-ncefe">Entry fees may apply (check with officers)</li> <li class="svelte-ncefe">You&#39;ll receive a random entry number for anonymity</li> <li class="svelte-ncefe">You can edit entries until the deadline</li></ul>',te,et,at,G=n[13]&&bt(),we=Pe(n[9]),q=[];for(let f=0;f<we.length;f+=1)q[f]=Ct(gt(n,we,f));let j=n[5]&&yt(n),Ie=Pe(n[17]),R=[];for(let f=0;f<Ie.length;f+=1)R[f]=St(ht(n,Ie,f));let H=n[1]&&n[16].length>0&&Lt(n),F=n[12]&&Tt(n);return ie=new Ue({props:{type:"button",variant:"secondary",disabled:n[4]||n[13],$$slots:{default:[ol]},$$scope:{ctx:n}}}),ie.$on("click",n[19]),_e=new Ue({props:{type:"submit",variant:"primary",disabled:!n[14]||n[13],$$slots:{default:[fl]},$$scope:{ctx:n}}}),{c(){e=g("div"),G&&G.c(),t=I(),l=g("form"),r=g("div"),s=g("label"),s.textContent=o,u=I(),c=g("select"),m=g("option"),m.textContent=i;for(let f=0;f<q.length;f+=1)q[f].c();C=I(),j&&j.c(),v=I(),k=g("div"),y=g("label"),y.textContent=P,S=I(),E=g("select"),A=g("option"),A.textContent=X;for(let f=0;f<R.length;f+=1)R[f].c();x=I(),H&&H.c(),oe=I(),U=g("div"),z=g("label"),z.textContent=qe,Be=I(),M=g("input"),Ve=I(),W=g("div"),ee=g("label"),ee.textContent=Re,Ae=I(),b=g("textarea"),Se=I(),Y=g("div"),je=V(ge),ze=V("/500 characters"),Ke=I(),ce=g("div"),be=g("label"),be.textContent=rt,Qe=I(),fe=g("div"),Le=g("span"),He=V(Me),We=I(),ve=g("span"),ve.textContent=ot,Ze=I(),F&&F.c(),Fe=I(),ue=g("div"),he(ie.$$.fragment),$e=I(),he(_e.$$.fragment),xe=I(),Ce=g("div"),Ce.innerHTML=it,this.h()},l(f){e=h(f,"DIV",{class:!0});var T=N(e);G&&G.l(T),t=w(T),l=h(T,"FORM",{class:!0});var L=N(l);r=h(L,"DIV",{class:!0});var le=N(r);s=h(le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(s)!=="svelte-16txpgy"&&(s.textContent=o),u=w(le),c=h(le,"SELECT",{id:!0,class:!0});var Te=N(c);m=h(Te,"OPTION",{"data-svelte-h":!0}),J(m)!=="svelte-iqpod6"&&(m.textContent=i);for(let Ee=0;Ee<q.length;Ee+=1)q[Ee].l(Te);Te.forEach(_),C=w(le),j&&j.l(le),le.forEach(_),v=w(L),k=h(L,"DIV",{class:!0});var ye=N(k);y=h(ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(y)!=="svelte-17h6qfx"&&(y.textContent=P),S=w(ye),E=h(ye,"SELECT",{id:!0,class:!0});var D=N(E);A=h(D,"OPTION",{"data-svelte-h":!0}),J(A)!=="svelte-1u12wbr"&&(A.textContent=X);for(let Ee=0;Ee<R.length;Ee+=1)R[Ee].l(D);D.forEach(_),ye.forEach(_),x=w(L),H&&H.l(L),oe=w(L),U=h(L,"DIV",{class:!0});var ne=N(U);z=h(ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(z)!=="svelte-bo7a13"&&(z.textContent=qe),Be=w(ne),M=h(ne,"INPUT",{type:!0,id:!0,placeholder:!0,maxlength:!0,class:!0}),ne.forEach(_),Ve=w(L),W=h(L,"DIV",{class:!0});var De=N(W);ee=h(De,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(ee)!=="svelte-sobiei"&&(ee.textContent=Re),Ae=w(De),b=h(De,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,maxlength:!0,class:!0}),N(b).forEach(_),Se=w(De),Y=h(De,"DIV",{class:!0});var tt=N(Y);je=B(tt,ge),ze=B(tt,"/500 characters"),tt.forEach(_),De.forEach(_),Ke=w(L),ce=h(L,"DIV",{class:!0});var Je=N(ce);be=h(Je,"LABEL",{class:!0,"data-svelte-h":!0}),J(be)!=="svelte-13vcfxt"&&(be.textContent=rt),Qe=w(Je),fe=h(Je,"DIV",{class:!0});var Ge=N(fe);Le=h(Ge,"SPAN",{class:!0});var ut=N(Le);He=B(ut,Me),ut.forEach(_),We=w(Ge),ve=h(Ge,"SPAN",{class:!0,"data-svelte-h":!0}),J(ve)!=="svelte-1rfbwqt"&&(ve.textContent=ot),Ge.forEach(_),Je.forEach(_),Ze=w(L),F&&F.l(L),Fe=w(L),ue=h(L,"DIV",{class:!0});var Ye=N(ue);pe(ie.$$.fragment,Ye),$e=w(Ye),pe(_e.$$.fragment,Ye),Ye.forEach(_),xe=w(L),Ce=h(L,"DIV",{class:!0,"data-svelte-h":!0}),J(Ce)!=="svelte-17973si"&&(Ce.innerHTML=it),L.forEach(_),T.forEach(_),this.h()},h(){d(s,"for","competition"),d(s,"class","svelte-ncefe"),m.__value="",K(m,m.__value),d(c,"id","competition"),c.disabled=p=n[4]||n[13],c.required=!0,d(c,"class","svelte-ncefe"),n[0]===void 0&&st(()=>n[27].call(c)),d(r,"class","form-group svelte-ncefe"),d(y,"for","main-category"),d(y,"class","svelte-ncefe"),A.__value="",K(A,A.__value),d(E,"id","main-category"),E.disabled=Q=!n[0]||n[4]||n[13],E.required=!0,d(E,"class","svelte-ncefe"),n[1]===void 0&&st(()=>n[28].call(E)),d(k,"class","form-group svelte-ncefe"),d(z,"for","beer-name"),d(z,"class","svelte-ncefe"),d(M,"type","text"),d(M,"id","beer-name"),d(M,"placeholder","Enter your beer name..."),M.disabled=ke=n[4]||n[13],d(M,"maxlength","100"),M.required=!0,d(M,"class","svelte-ncefe"),d(U,"class","form-group svelte-ncefe"),d(ee,"for","beer-notes"),d(ee,"class","svelte-ncefe"),d(b,"id","beer-notes"),d(b,"placeholder","Special ingredients, techniques, or notes for judges..."),b.disabled=Z=n[4]||n[13],d(b,"rows","4"),d(b,"maxlength","500"),d(b,"class","svelte-ncefe"),d(Y,"class","character-count svelte-ncefe"),d(W,"class","form-group svelte-ncefe"),d(be,"class","svelte-ncefe"),d(Le,"class","brewer-name svelte-ncefe"),d(ve,"class","auto-filled svelte-ncefe"),d(fe,"class","brewer-info svelte-ncefe"),d(ce,"class","form-group svelte-ncefe"),d(ue,"class","form-actions svelte-ncefe"),d(Ce,"class","form-help svelte-ncefe"),d(l,"class","entry-form svelte-ncefe"),d(e,"class","form-container svelte-ncefe")},m(f,T){O(f,e,T),G&&G.m(e,null),a(e,t),a(e,l),a(l,r),a(r,s),a(r,u),a(r,c),a(c,m);for(let L=0;L<q.length;L+=1)q[L]&&q[L].m(c,null);Oe(c,n[0],!0),a(r,C),j&&j.m(r,null),a(l,v),a(l,k),a(k,y),a(k,S),a(k,E),a(E,A);for(let L=0;L<R.length;L+=1)R[L]&&R[L].m(E,null);Oe(E,n[1],!0),a(l,x),H&&H.m(l,null),a(l,oe),a(l,U),a(U,z),a(U,Be),a(U,M),K(M,n[3]),a(l,Ve),a(l,W),a(W,ee),a(W,Ae),a(W,b),K(b,n[11]),a(W,Se),a(W,Y),a(Y,je),a(Y,ze),a(l,Ke),a(l,ce),a(ce,be),a(ce,Qe),a(ce,fe),a(fe,Le),a(Le,He),a(fe,We),a(fe,ve),a(l,Ze),F&&F.m(l,null),a(l,Fe),a(l,ue),de(ie,ue,null),a(ue,$e),de(_e,ue,null),a(l,xe),a(l,Ce),te=!0,et||(at=[Ne(c,"change",n[27]),Ne(E,"change",n[28]),Ne(M,"input",n[30]),Ne(b,"input",n[31]),Ne(l,"submit",At(n[18]))],et=!0)},p(f,T){var Te,ye;if(f[13]?G||(G=bt(),G.c(),G.m(e,t)):G&&(G.d(1),G=null),T[0]&512){we=Pe(f[9]);let D;for(D=0;D<we.length;D+=1){const ne=gt(f,we,D);q[D]?q[D].p(ne,T):(q[D]=Ct(ne),q[D].c(),q[D].m(c,null))}for(;D<q.length;D+=1)q[D].d(1);q.length=we.length}if((!te||T[0]&8208&&p!==(p=f[4]||f[13]))&&(c.disabled=p),T[0]&513&&Oe(c,f[0]),f[5]?j?j.p(f,T):(j=yt(f),j.c(),j.m(r,null)):j&&(j.d(1),j=null),T[0]&131072){Ie=Pe(f[17]);let D;for(D=0;D<Ie.length;D+=1){const ne=ht(f,Ie,D);R[D]?R[D].p(ne,T):(R[D]=St(ne),R[D].c(),R[D].m(E,null))}for(;D<R.length;D+=1)R[D].d(1);R.length=Ie.length}(!te||T[0]&8721&&Q!==(Q=!f[0]||f[4]||f[13]))&&(E.disabled=Q),T[0]&131074&&Oe(E,f[1]),f[1]&&f[16].length>0?H?H.p(f,T):(H=Lt(f),H.c(),H.m(l,oe)):H&&(H.d(1),H=null),(!te||T[0]&8208&&ke!==(ke=f[4]||f[13]))&&(M.disabled=ke),T[0]&8&&M.value!==f[3]&&K(M,f[3]),(!te||T[0]&8208&&Z!==(Z=f[4]||f[13]))&&(b.disabled=Z),T[0]&2048&&K(b,f[11]),(!te||T[0]&2048)&&ge!==(ge=f[11].length+"")&&$(je,ge),(!te||T[0]&1024)&&Me!==(Me=(((Te=f[10])==null?void 0:Te.name)||((ye=f[10])==null?void 0:ye.email))+"")&&$(He,Me),f[12]?F?F.p(f,T):(F=Tt(f),F.c(),F.m(l,Fe)):F&&(F.d(1),F=null);const L={};T[0]&8208&&(L.disabled=f[4]||f[13]),T[1]&2048&&(L.$$scope={dirty:T,ctx:f}),ie.$set(L);const le={};T[0]&24576&&(le.disabled=!f[14]||f[13]),T[0]&8208|T[1]&2048&&(le.$$scope={dirty:T,ctx:f}),_e.$set(le)},i(f){te||(re(ie.$$.fragment,f),re(_e.$$.fragment,f),te=!0)},o(f){se(ie.$$.fragment,f),se(_e.$$.fragment,f),te=!1},d(f){f&&_(e),G&&G.d(),nt(q,f),j&&j.d(),nt(R,f),H&&H.d(),F&&F.d(),me(ie),me(_e),et=!1,Vt(at)}}}function nl(n){let e,t;return e=new tl({props:{icon:"üìÖ",title:"No Active Competitions",message:"There are currently no competitions accepting entries. Check back later or contact an officer for more information.",$$slots:{default:[_l]},$$scope:{ctx:n}}}),{c(){he(e.$$.fragment)},l(l){pe(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p(l,r){const s={};r[1]&2048&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function sl(n){let e,t,l="‚ùå Error Loading Data",r,s,o,u,c,m;return c=new Ue({props:{variant:"primary",$$slots:{default:[ml]},$$scope:{ctx:n}}}),c.$on("click",n[25]),{c(){e=g("div"),t=g("h2"),t.textContent=l,r=I(),s=g("p"),o=V(n[6]),u=I(),he(c.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var p=N(e);t=h(p,"H2",{"data-svelte-h":!0}),J(t)!=="svelte-s8iwac"&&(t.textContent=l),r=w(p),s=h(p,"P",{});var C=N(s);o=B(C,n[6]),C.forEach(_),u=w(p),pe(c.$$.fragment,p),p.forEach(_),this.h()},h(){d(e,"class","error-container svelte-ncefe")},m(i,p){O(i,e,p),a(e,t),a(e,r),a(e,s),a(s,o),a(e,u),de(c,e,null),m=!0},p(i,p){(!m||p[0]&64)&&$(o,i[6]);const C={};p[1]&2048&&(C.$$scope={dirty:p,ctx:i}),c.$set(C)},i(i){m||(re(c.$$.fragment,i),m=!0)},o(i){se(c.$$.fragment,i),m=!1},d(i){i&&_(e),me(c)}}}function rl(n){let e,t;return e=new el({props:{message:"Loading competition data..."}}),{c(){he(e.$$.fragment)},l(l){pe(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p:Bt,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function bt(n){let e,t='<h2 class="svelte-ncefe">üéâ Entry Submitted Successfully!</h2> <p>Your competition entry has been received. Redirecting to your entries...</p>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-u6wfgx"&&(e.innerHTML=t),this.h()},h(){d(e,"class","success-message svelte-ncefe")},m(l,r){O(l,e,r)},d(l){l&&_(e)}}}function vt(n){let e,t=n[39].days_until_deadline+"",l,r;return{c(){e=V("("),l=V(t),r=V(" days left)")},l(s){e=B(s,"("),l=B(s,t),r=B(s," days left)")},m(s,o){O(s,e,o),O(s,l,o),O(s,r,o)},p(s,o){o[0]&512&&t!==(t=s[39].days_until_deadline+"")&&$(l,t)},d(s){s&&(_(e),_(l),_(r))}}}function Ct(n){let e,t=n[39].name+"",l,r,s,o,u=n[39].days_until_deadline!==void 0&&vt(n);return{c(){e=g("option"),l=V(t),r=I(),u&&u.c(),s=I(),this.h()},l(c){e=h(c,"OPTION",{});var m=N(e);l=B(m,t),r=w(m),u&&u.l(m),s=w(m),m.forEach(_),this.h()},h(){e.__value=o=n[39].id,K(e,e.__value)},m(c,m){O(c,e,m),a(e,l),a(e,r),u&&u.m(e,null),a(e,s)},p(c,m){m[0]&512&&t!==(t=c[39].name+"")&&$(l,t),c[39].days_until_deadline!==void 0?u?u.p(c,m):(u=vt(c),u.c(),u.m(e,s)):u&&(u.d(1),u=null),m[0]&512&&o!==(o=c[39].id)&&(e.__value=o,K(e,e.__value))},d(c){c&&_(e),u&&u.d()}}}function yt(n){let e,t,l,r="Entry Deadline:",s,o=dt(n[5])+"",u,c,m,i=n[5].description&&Et(n),p=n[5].category_system==="custom"&&kt();return{c(){e=g("div"),t=g("p"),l=g("strong"),l.textContent=r,s=I(),u=V(o),c=I(),i&&i.c(),m=I(),p&&p.c(),this.h()},l(C){e=h(C,"DIV",{class:!0});var v=N(e);t=h(v,"P",{class:!0});var k=N(t);l=h(k,"STRONG",{"data-svelte-h":!0}),J(l)!=="svelte-itlo74"&&(l.textContent=r),s=w(k),u=B(k,o),k.forEach(_),c=w(v),i&&i.l(v),m=w(v),p&&p.l(v),v.forEach(_),this.h()},h(){d(t,"class","svelte-ncefe"),d(e,"class","competition-info svelte-ncefe")},m(C,v){O(C,e,v),a(e,t),a(t,l),a(t,s),a(t,u),a(e,c),i&&i.m(e,null),a(e,m),p&&p.m(e,null)},p(C,v){v[0]&32&&o!==(o=dt(C[5])+"")&&$(u,o),C[5].description?i?i.p(C,v):(i=Et(C),i.c(),i.m(e,m)):i&&(i.d(1),i=null),C[5].category_system==="custom"?p||(p=kt(),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(C){C&&_(e),i&&i.d(),p&&p.d()}}}function Et(n){let e,t,l="Description:",r,s=n[5].description+"",o;return{c(){e=g("p"),t=g("strong"),t.textContent=l,r=I(),o=V(s),this.h()},l(u){e=h(u,"P",{class:!0});var c=N(e);t=h(c,"STRONG",{"data-svelte-h":!0}),J(t)!=="svelte-1scoy10"&&(t.textContent=l),r=w(c),o=B(c,s),c.forEach(_),this.h()},h(){d(e,"class","svelte-ncefe")},m(u,c){O(u,e,c),a(e,t),a(e,r),a(e,o)},p(u,c){c[0]&32&&s!==(s=u[5].description+"")&&$(o,s)},d(u){u&&_(e)}}}function kt(n){let e,t='<p class="svelte-ncefe"><strong>üìã Custom Categories:</strong> This competition only accepts specific BJCP categories. Only allowed categories will be shown in the selection below.</p>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-10b7ryr"&&(e.innerHTML=t),this.h()},h(){d(e,"class","custom-categories-notice svelte-ncefe")},m(l,r){O(l,e,r)},d(l){l&&_(e)}}}function St(n){let e,t=n[36].number+"",l,r,s=n[36].name+"",o,u,c;return{c(){e=g("option"),l=V(t),r=V(" - "),o=V(s),u=I(),this.h()},l(m){e=h(m,"OPTION",{});var i=N(e);l=B(i,t),r=B(i," - "),o=B(i,s),u=w(i),i.forEach(_),this.h()},h(){e.__value=c=n[36].number,K(e,e.__value)},m(m,i){O(m,e,i),a(e,l),a(e,r),a(e,o),a(e,u)},p(m,i){i[0]&131072&&t!==(t=m[36].number+"")&&$(l,t),i[0]&131072&&s!==(s=m[36].name+"")&&$(o,s),i[0]&131072&&c!==(c=m[36].number)&&(e.__value=c,K(e,e.__value))},d(m){m&&_(e)}}}function Lt(n){let e,t,l="BJCP Subcategory *",r,s,o,u="Select subcategory...",c,m,i,p,C=Pe(n[16]),v=[];for(let y=0;y<C.length;y+=1)v[y]=wt(pt(n,C,y));let k=n[15]&&It(n);return{c(){e=g("div"),t=g("label"),t.textContent=l,r=I(),s=g("select"),o=g("option"),o.textContent=u;for(let y=0;y<v.length;y+=1)v[y].c();m=I(),k&&k.c(),this.h()},l(y){e=h(y,"DIV",{class:!0});var P=N(e);t=h(P,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(t)!=="svelte-adt605"&&(t.textContent=l),r=w(P),s=h(P,"SELECT",{id:!0,class:!0});var S=N(s);o=h(S,"OPTION",{"data-svelte-h":!0}),J(o)!=="svelte-1ncwn6g"&&(o.textContent=u);for(let E=0;E<v.length;E+=1)v[E].l(S);S.forEach(_),m=w(P),k&&k.l(P),P.forEach(_),this.h()},h(){d(t,"for","subcategory"),d(t,"class","svelte-ncefe"),o.__value="",K(o,o.__value),d(s,"id","subcategory"),s.disabled=c=n[4]||n[13],s.required=!0,d(s,"class","svelte-ncefe"),n[2]===void 0&&st(()=>n[29].call(s)),d(e,"class","form-group svelte-ncefe")},m(y,P){O(y,e,P),a(e,t),a(e,r),a(e,s),a(s,o);for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(s,null);Oe(s,n[2],!0),a(e,m),k&&k.m(e,null),i||(p=Ne(s,"change",n[29]),i=!0)},p(y,P){if(P[0]&65536){C=Pe(y[16]);let S;for(S=0;S<C.length;S+=1){const E=pt(y,C,S);v[S]?v[S].p(E,P):(v[S]=wt(E),v[S].c(),v[S].m(s,null))}for(;S<v.length;S+=1)v[S].d(1);v.length=C.length}P[0]&8208&&c!==(c=y[4]||y[13])&&(s.disabled=c),P[0]&65540&&Oe(s,y[2]),y[15]?k?k.p(y,P):(k=It(y),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d(y){y&&_(e),nt(v,y),k&&k.d(),i=!1,p()}}}function wt(n){let e,t=Dt(n[33])+"",l,r,s;return{c(){e=g("option"),l=V(t),r=I(),this.h()},l(o){e=h(o,"OPTION",{});var u=N(e);l=B(u,t),r=w(u),u.forEach(_),this.h()},h(){e.__value=s=n[33].id,K(e,e.__value)},m(o,u){O(o,e,u),a(e,l),a(e,r)},p(o,u){u[0]&65536&&t!==(t=Dt(o[33])+"")&&$(l,t),u[0]&65536&&s!==(s=o[33].id)&&(e.__value=s,K(e,e.__value))},d(o){o&&_(e)}}}function It(n){let e,t,l=n[15].description+"",r;return{c(){e=g("div"),t=g("p"),r=V(l),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=N(e);t=h(o,"P",{});var u=N(t);r=B(u,l),u.forEach(_),o.forEach(_),this.h()},h(){d(e,"class","category-description svelte-ncefe")},m(s,o){O(s,e,o),a(e,t),a(t,r)},p(s,o){o[0]&32768&&l!==(l=s[15].description+"")&&$(r,l)},d(s){s&&_(e)}}}function Tt(n){let e,t,l,r;return{c(){e=g("div"),t=g("p"),l=V("‚ùå "),r=V(n[12]),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=N(e);t=h(o,"P",{class:!0});var u=N(t);l=B(u,"‚ùå "),r=B(u,n[12]),u.forEach(_),o.forEach(_),this.h()},h(){d(t,"class","svelte-ncefe"),d(e,"class","error-message svelte-ncefe")},m(s,o){O(s,e,o),a(e,t),a(t,l),a(t,r)},p(s,o){o[0]&4096&&$(r,s[12])},d(s){s&&_(e)}}}function ol(n){let e;return{c(){e=V("üîÑ Reset Form")},l(t){e=B(t,"üîÑ Reset Form")},m(t,l){O(t,e,l)},d(t){t&&_(e)}}}function il(n){let e;return{c(){e=V("üç∫ Submit Entry")},l(t){e=B(t,"üç∫ Submit Entry")},m(t,l){O(t,e,l)},d(t){t&&_(e)}}}function al(n){let e;return{c(){e=V("‚úÖ Submitted")},l(t){e=B(t,"‚úÖ Submitted")},m(t,l){O(t,e,l)},d(t){t&&_(e)}}}function cl(n){let e;return{c(){e=V("üîÑ Submitting...")},l(t){e=B(t,"üîÑ Submitting...")},m(t,l){O(t,e,l)},d(t){t&&_(e)}}}function fl(n){let e;function t(s,o){return s[4]?cl:s[13]?al:il}let l=t(n),r=l(n);return{c(){r.c(),e=Xe()},l(s){r.l(s),e=Xe()},m(s,o){r.m(s,o),O(s,e,o)},p(s,o){l!==(l=t(s))&&(r.d(1),r=l(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&_(e),r.d(s)}}}function ul(n){let e;return{c(){e=V("üìã View All Competitions")},l(t){e=B(t,"üìã View All Competitions")},m(t,l){O(t,e,l)},d(t){t&&_(e)}}}function _l(n){let e,t;return e=new Ue({props:{variant:"primary",$$slots:{default:[ul]},$$scope:{ctx:n}}}),e.$on("click",n[26]),{c(){he(e.$$.fragment)},l(l){pe(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p(l,r){const s={};r[1]&2048&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function ml(n){let e;return{c(){e=V("üîÑ Retry")},l(t){e=B(t,"üîÑ Retry")},m(t,l){O(t,e,l)},d(t){t&&_(e)}}}function dl(n){let e,t,l,r,s,o;e=new $t({props:{title:"SUBMIT COMPETITION ENTRY",subtitle:"Enter your beer into a JAX club competition",icon:"üèÜ",center:!0}});const u=[rl,sl,nl,ll],c=[];function m(i,p){return i[7]&&!i[8]?0:i[6]?1:i[8]&&i[9].length===0?2:i[8]?3:-1}return~(l=m(n))&&(r=c[l]=u[l](n)),{c(){he(e.$$.fragment),t=I(),r&&r.c(),s=Xe()},l(i){pe(e.$$.fragment,i),t=w(i),r&&r.l(i),s=Xe()},m(i,p){de(e,i,p),O(i,t,p),~l&&c[l].m(i,p),O(i,s,p),o=!0},p(i,p){let C=l;l=m(i),l===C?~l&&c[l].p(i,p):(r&&(Rt(),se(c[C],1,1,()=>{c[C]=null}),jt()),~l?(r=c[l],r?r.p(i,p):(r=c[l]=u[l](i),r.c()),re(r,1),r.m(s.parentNode,s)):r=null)},i(i){o||(re(e.$$.fragment,i),re(r),o=!0)},o(i){se(e.$$.fragment,i),se(r),o=!1},d(i){i&&(_(t),_(s)),me(e,i),~l&&c[l].d(i)}}}function pl(n){let e,t,l;return t=new xt({props:{size:"md",$$slots:{default:[dl]},$$scope:{ctx:n}}}),{c(){e=I(),he(t.$$.fragment),this.h()},l(r){Ot("svelte-1m0qu2i",document.head).forEach(_),e=w(r),pe(t.$$.fragment,r),this.h()},h(){document.title="Submit Competition Entry | JAX Members Portal"},m(r,s){O(r,e,s),de(t,r,s),l=!0},p(r,s){const o={};s[0]&262143|s[1]&2048&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){l||(re(t.$$.fragment,r),l=!0)},o(r){se(t.$$.fragment,r),l=!1},d(r){r&&_(e),me(t,r)}}}function Dt(n){return`${n.letter} - ${n.name}`}function hl(n,e,t){let l,r,s,o,u,c,m,i,p,C,v,k,y,P,S;ae(n,Gt,b=>t(6,m=b)),ae(n,Yt,b=>t(7,i=b)),ae(n,Xt,b=>t(8,p=b)),ae(n,Ut,b=>t(21,C=b)),ae(n,zt,b=>t(9,v=b)),ae(n,Kt,b=>t(22,k=b)),ae(n,Qt,b=>t(23,y=b)),ae(n,Ht,b=>t(10,P=b)),ae(n,Wt,b=>t(24,S=b));let E="",A="",X="",Q="",x="",oe=!1,U=null,z=!1;Pt(async()=>{console.log("üöÄ Page mounted, loading data...");try{console.log("üìã Loading competition data..."),await mt(),console.log("‚úÖ Competition data loaded")}catch(b){console.error("‚ùå Failed to load competition data:",b)}});async function qe(){if(c){t(4,oe=!0),t(12,U=null),t(13,z=!1);try{console.log("üç∫ Submitting competition entry...");const b=Math.floor(Math.random()*99999+1).toString().padStart(5,"0"),Z={competition_id:E,member_id:P.id,bjcp_category_id:X,beer_name:Q.trim(),beer_notes:x.trim()||null,entry_number:b,entry_fee_paid:!1},{data:Se,error:Y}=await Zt.from("competition_entries").insert([Z]).select(`
          *,
          competition:competitions(name),
          bjcp_category:bjcp_categories(category_number, subcategory_letter, subcategory_name)
        `).single();if(Y)throw console.error("‚ùå Error submitting entry:",Y),Y;console.log("‚úÖ Entry submitted successfully:",Se),t(13,z=!0),t(0,E=""),t(1,A=""),t(2,X=""),t(3,Q=""),t(11,x=""),setTimeout(()=>{_t("/competitions/my-entries")},2e3)}catch(b){console.error("üí• Failed to submit entry:",b),t(12,U=b.message||"Failed to submit entry")}finally{t(4,oe=!1)}}}function Be(){t(0,E=""),t(1,A=""),t(2,X=""),t(3,Q=""),t(11,x=""),t(12,U=null),t(13,z=!1)}const M=()=>mt(!0),ke=()=>_t("/competitions");function Ve(){E=lt(this),t(0,E)}function W(){A=lt(this),t(1,A),t(17,r),t(20,l),t(21,C),t(24,S),t(5,o),t(0,E),t(9,v)}function ee(){X=lt(this),t(2,X),t(1,A),t(16,s),t(1,A),t(24,S),t(20,l),t(5,o),t(0,E),t(9,v)}function Re(){Q=this.value,t(3,Q)}function Ae(){x=this.value,t(11,x)}return n.$$.update=()=>{var b;n.$$.dirty[0]&513&&t(5,o=E?v.find(Z=>Z.id===E):null),n.$$.dirty[0]&32&&t(20,l=(o==null?void 0:o.category_system)==="custom"?o.category_restrictions||[]:null),n.$$.dirty[0]&19922944&&t(17,r=l?C.filter(Z=>{var Y;return(((Y=S[Z.number])==null?void 0:Y.subcategories)||[]).some(ge=>l.includes(ge.id))}):C),n.$$.dirty[0]&17825794&&t(16,s=A?(((b=S[A])==null?void 0:b.subcategories)||[]).filter(Z=>l?l.includes(Z.id):!0):[]),n.$$.dirty[0]&2&&A&&t(2,X=""),n.$$.dirty[0]&4&&t(15,u=X?Jt(X):null),n.$$.dirty[0]&1085&&t(14,c=E&&X&&Q.trim()&&!oe&&(P==null?void 0:P.id)&&Ft(o)),n.$$.dirty[0]&14681024&&console.log("üìä Store Debug:",{bjcpCategories:y.length,competitions:k.length,activeCompetitions:v.length,mainCategories:C.length,isLoaded:p,isLoading:i,error:m})},[E,A,X,Q,oe,o,m,i,p,v,P,x,U,z,c,u,s,r,qe,Be,l,C,k,y,S,M,ke,Ve,W,ee,Re,Ae]}class Dl extends Mt{constructor(e){super(),qt(this,e,hl,pl,Nt,{},null,[-1,-1])}}export{Dl as component};
