import{s as cl,n as qt,d as c,i as W,b as t,q as e,c as u,e as b,v as k,g as m,h as d,j as h,k as ll,w as vl,x as pl,I as _t,r as ml,B as U,a as te,p as Y,H as hl,f as G,t as Q}from"../chunks/DOvoZ9Ia.js";import{S as _l,i as bl}from"../chunks/DZMW2zPD.js";import{g as ht}from"../chunks/F2-QbuOs.js";import{p as gl}from"../chunks/BwSWz2JU.js";import{u as yl}from"../chunks/DP1yl1qp.js";import{updateCompetition as Dl}from"../chunks/CUTZbcYo.js";import{s as zl}from"../chunks/CCM_4jRA.js";function Cl(l){let s,i,n,r,o="Basic Information",z,p,_,y="Competition Name",T,g,C,I,j,E,H,Le="Description",ke,V,le,Ue,Pe,ae,Xe="Provide any additional details about the competition",Be,oe,Ye="Important Dates",qe,se,B,ie,Ge="Entry Deadline",He,ne,v,K,ue,Me,Z,Qe,bt,We,Se,Je=l[14]?"Cannot change after entries submitted":"Date and time when entries close",Ze,gt,J,fe,Ht="Judging Date",yt,ce,X,xe,Dt,x,zt,$e,Ve,Jt="Date and time when judging will take place",Ct,ve,$,Et,pe,Ot="Keep judging date private until after entry deadline",It,Te,Rt="Entry Settings",kt,me,O,he,Kt="Entry Fee ($)",Vt,w,et,tt,Tt,lt,Fe,Oe=l[14]?"Cannot change after entries submitted":"Fee per entry (0 for free)",st,jt,R,_e,Xt="Max Entries Per Member",wt,q,it,nt,Lt,rt,Ae,Re=l[14]?"Cannot change after entries submitted":"Maximum entries allowed per member",at,Pt,je,Yt="Status",Mt,be,ee,St,ge,Gt="Competition is active and accepting entries",Ft,we,Qt="Uncheck to close competition to new entries",At,ye,re,Nt,Ut,de,Ke=l[12]?"Saving...":"Save Changes",ot,Bt,Wt,L=l[14]&&sl(l),P=l[13].name&&il(l),M=l[13].description&&nl(l),S=l[13].entryDeadline&&rl(l),F=l[13].judgingDate&&al(l),A=l[13].entryFee&&ol(l),N=l[13].maxEntriesPerMember&&ul(l);return{c(){s=d("div"),L&&L.c(),i=h(),n=d("form"),r=d("div"),r.textContent=o,z=h(),p=d("div"),_=d("label"),_.textContent=y,T=h(),g=d("input"),I=h(),P&&P.c(),j=h(),E=d("div"),H=d("label"),H.textContent=Le,ke=h(),V=d("textarea"),Ue=h(),M&&M.c(),Pe=h(),ae=d("div"),ae.textContent=Xe,Be=h(),oe=d("div"),oe.textContent=Ye,qe=h(),se=d("div"),B=d("div"),ie=d("label"),ie.textContent=Ge,He=h(),ne=d("div"),v=d("input"),Me=h(),Z=d("input"),bt=h(),S&&S.c(),We=h(),Se=d("div"),Ze=Q(Je),gt=h(),J=d("div"),fe=d("label"),fe.textContent=Ht,yt=h(),ce=d("div"),X=d("input"),Dt=h(),x=d("input"),zt=h(),F&&F.c(),$e=h(),Ve=d("div"),Ve.textContent=Jt,Ct=h(),ve=d("div"),$=d("input"),Et=h(),pe=d("label"),pe.textContent=Ot,It=h(),Te=d("div"),Te.textContent=Rt,kt=h(),me=d("div"),O=d("div"),he=d("label"),he.textContent=Kt,Vt=h(),w=d("input"),Tt=h(),A&&A.c(),lt=h(),Fe=d("div"),st=Q(Oe),jt=h(),R=d("div"),_e=d("label"),_e.textContent=Xt,wt=h(),q=d("input"),Lt=h(),N&&N.c(),rt=h(),Ae=d("div"),at=Q(Re),Pt=h(),je=d("div"),je.textContent=Yt,Mt=h(),be=d("div"),ee=d("input"),St=h(),ge=d("label"),ge.textContent=Gt,Ft=h(),we=d("div"),we.textContent=Qt,At=h(),ye=d("div"),re=d("button"),Nt=Q("Cancel"),Ut=h(),de=d("button"),ot=Q(Ke),this.h()},l(a){s=u(a,"DIV",{class:!0});var f=b(s);L&&L.l(f),i=m(f),n=u(f,"FORM",{});var D=b(n);r=u(D,"DIV",{class:!0,"data-svelte-h":!0}),k(r)!=="svelte-1wptp77"&&(r.textContent=o),z=m(D),p=u(D,"DIV",{class:!0});var Ne=b(p);_=u(Ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),k(_)!=="svelte-zrd23n"&&(_.textContent=y),T=m(Ne),g=u(Ne,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,maxlength:!0}),I=m(Ne),P&&P.l(Ne),Ne.forEach(c),j=m(D),E=u(D,"DIV",{class:!0});var De=b(E);H=u(De,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),k(H)!=="svelte-1tds9bi"&&(H.textContent=Le),ke=m(De),V=u(De,"TEXTAREA",{id:!0,class:!0,placeholder:!0,maxlength:!0}),b(V).forEach(c),Ue=m(De),M&&M.l(De),Pe=m(De),ae=u(De,"DIV",{class:!0,"data-svelte-h":!0}),k(ae)!=="svelte-1xuy3fr"&&(ae.textContent=Xe),De.forEach(c),Be=m(D),oe=u(D,"DIV",{class:!0,"data-svelte-h":!0}),k(oe)!=="svelte-k8kt80"&&(oe.textContent=Ye),qe=m(D),se=u(D,"DIV",{class:!0});var ut=b(se);B=u(ut,"DIV",{class:!0});var ze=b(B);ie=u(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),k(ie)!=="svelte-1uv1vuu"&&(ie.textContent=Ge),He=m(ze),ne=u(ze,"DIV",{class:!0});var dt=b(ne);v=u(dt,"INPUT",{type:!0,id:!0,class:!0}),Me=m(dt),Z=u(dt,"INPUT",{type:!0,id:!0,class:!0}),dt.forEach(c),bt=m(ze),S&&S.l(ze),We=m(ze),Se=u(ze,"DIV",{class:!0});var Zt=b(Se);Ze=G(Zt,Je),Zt.forEach(c),ze.forEach(c),gt=m(ut),J=u(ut,"DIV",{class:!0});var Ce=b(J);fe=u(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),k(fe)!=="svelte-1n4hh8e"&&(fe.textContent=Ht),yt=m(Ce),ce=u(Ce,"DIV",{class:!0});var ft=b(ce);X=u(ft,"INPUT",{type:!0,id:!0,class:!0}),Dt=m(ft),x=u(ft,"INPUT",{type:!0,id:!0,class:!0}),ft.forEach(c),zt=m(Ce),F&&F.l(Ce),$e=m(Ce),Ve=u(Ce,"DIV",{class:!0,"data-svelte-h":!0}),k(Ve)!=="svelte-1910duc"&&(Ve.textContent=Jt),Ce.forEach(c),ut.forEach(c),Ct=m(D),ve=u(D,"DIV",{class:!0});var ct=b(ve);$=u(ct,"INPUT",{type:!0,id:!0,class:!0}),Et=m(ct),pe=u(ct,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),k(pe)!=="svelte-1xa05d8"&&(pe.textContent=Ot),ct.forEach(c),It=m(D),Te=u(D,"DIV",{class:!0,"data-svelte-h":!0}),k(Te)!=="svelte-1shdzwa"&&(Te.textContent=Rt),kt=m(D),me=u(D,"DIV",{class:!0});var vt=b(me);O=u(vt,"DIV",{class:!0});var Ee=b(O);he=u(Ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),k(he)!=="svelte-hrj0bz"&&(he.textContent=Kt),Vt=m(Ee),w=u(Ee,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0,step:!0}),Tt=m(Ee),A&&A.l(Ee),lt=m(Ee),Fe=u(Ee,"DIV",{class:!0});var xt=b(Fe);st=G(xt,Oe),xt.forEach(c),Ee.forEach(c),jt=m(vt),R=u(vt,"DIV",{class:!0});var Ie=b(R);_e=u(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),k(_e)!=="svelte-vuu2kx"&&(_e.textContent=Xt),wt=m(Ie),q=u(Ie,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0}),Lt=m(Ie),N&&N.l(Ie),rt=m(Ie),Ae=u(Ie,"DIV",{class:!0});var $t=b(Ae);at=G($t,Re),$t.forEach(c),Ie.forEach(c),vt.forEach(c),Pt=m(D),je=u(D,"DIV",{class:!0,"data-svelte-h":!0}),k(je)!=="svelte-f5f1f"&&(je.textContent=Yt),Mt=m(D),be=u(D,"DIV",{class:!0});var pt=b(be);ee=u(pt,"INPUT",{type:!0,id:!0,class:!0}),St=m(pt),ge=u(pt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),k(ge)!=="svelte-1flgo58"&&(ge.textContent=Gt),pt.forEach(c),Ft=m(D),we=u(D,"DIV",{class:!0,"data-svelte-h":!0}),k(we)!=="svelte-40ckw0"&&(we.textContent=Qt),At=m(D),ye=u(D,"DIV",{class:!0});var mt=b(ye);re=u(mt,"BUTTON",{type:!0,class:!0});var el=b(re);Nt=G(el,"Cancel"),el.forEach(c),Ut=m(mt),de=u(mt,"BUTTON",{type:!0,class:!0});var tl=b(de);ot=G(tl,Ke),tl.forEach(c),mt.forEach(c),D.forEach(c),f.forEach(c),this.h()},h(){e(r,"class","section-title svelte-1tozyeu"),e(_,"for","name"),e(_,"class","required svelte-1tozyeu"),e(g,"type","text"),e(g,"id","name"),e(g,"class",C="form-control "+(l[13].name?"error":"")+" svelte-1tozyeu"),e(g,"placeholder","e.g., Spring 2025 Homebrew Competition"),e(g,"maxlength","100"),g.disabled=l[12],e(p,"class","form-group svelte-1tozyeu"),e(H,"for","description"),e(H,"class","svelte-1tozyeu"),e(V,"id","description"),e(V,"class",le="form-control "+(l[13].description?"error":"")+" svelte-1tozyeu"),e(V,"placeholder","Optional description or special instructions"),e(V,"maxlength","500"),V.disabled=l[12],e(ae,"class","help-text svelte-1tozyeu"),e(E,"class","form-group svelte-1tozyeu"),e(oe,"class","section-title svelte-1tozyeu"),e(ie,"for","entryDeadline"),e(ie,"class","required svelte-1tozyeu"),e(v,"type","date"),e(v,"id","entryDeadline"),e(v,"class",K="form-control "+(l[13].entryDeadline?"error":"")+" svelte-1tozyeu"),v.disabled=ue=l[12]||l[14],e(Z,"type","time"),e(Z,"id","entryDeadlineTime"),e(Z,"class","form-control time-input svelte-1tozyeu"),Z.disabled=Qe=l[12]||l[14],e(ne,"class","datetime-inputs svelte-1tozyeu"),e(Se,"class","help-text svelte-1tozyeu"),e(B,"class","form-group svelte-1tozyeu"),e(fe,"for","judgingDate"),e(fe,"class","required svelte-1tozyeu"),e(X,"type","date"),e(X,"id","judgingDate"),e(X,"class",xe="form-control "+(l[13].judgingDate?"error":"")+" svelte-1tozyeu"),X.disabled=l[12],e(x,"type","time"),e(x,"id","judgingDateTime"),e(x,"class","form-control time-input svelte-1tozyeu"),x.disabled=l[12],e(ce,"class","datetime-inputs svelte-1tozyeu"),e(Ve,"class","help-text svelte-1tozyeu"),e(J,"class","form-group svelte-1tozyeu"),e(se,"class","form-row svelte-1tozyeu"),e($,"type","checkbox"),e($,"id","hideJudgingDate"),$.disabled=l[12],e($,"class","svelte-1tozyeu"),e(pe,"for","hideJudgingDate"),e(pe,"class","svelte-1tozyeu"),e(ve,"class","checkbox-group svelte-1tozyeu"),e(Te,"class","section-title svelte-1tozyeu"),e(he,"for","entryFee"),e(he,"class","svelte-1tozyeu"),e(w,"type","number"),e(w,"id","entryFee"),e(w,"class",et="form-control "+(l[13].entryFee?"error":"")+" svelte-1tozyeu"),e(w,"min","0"),e(w,"max","100"),e(w,"step","1"),w.disabled=tt=l[12]||l[14],e(Fe,"class","help-text svelte-1tozyeu"),e(O,"class","form-group svelte-1tozyeu"),e(_e,"for","maxEntries"),e(_e,"class","svelte-1tozyeu"),e(q,"type","number"),e(q,"id","maxEntries"),e(q,"class",it="form-control "+(l[13].maxEntriesPerMember?"error":"")+" svelte-1tozyeu"),e(q,"min","1"),e(q,"max","20"),q.disabled=nt=l[12]||l[14],e(Ae,"class","help-text svelte-1tozyeu"),e(R,"class","form-group svelte-1tozyeu"),e(me,"class","form-row svelte-1tozyeu"),e(je,"class","section-title svelte-1tozyeu"),e(ee,"type","checkbox"),e(ee,"id","isActive"),ee.disabled=l[12],e(ee,"class","svelte-1tozyeu"),e(ge,"for","isActive"),e(ge,"class","svelte-1tozyeu"),e(be,"class","checkbox-group svelte-1tozyeu"),e(we,"class","help-text svelte-1tozyeu"),e(re,"type","button"),e(re,"class","btn btn-secondary svelte-1tozyeu"),re.disabled=l[12],e(de,"type","submit"),e(de,"class","btn btn-primary svelte-1tozyeu"),de.disabled=l[12],e(ye,"class","form-actions svelte-1tozyeu"),e(s,"class","form-card svelte-1tozyeu")},m(a,f){W(a,s,f),L&&L.m(s,null),t(s,i),t(s,n),t(n,r),t(n,z),t(n,p),t(p,_),t(p,T),t(p,g),U(g,l[1]),t(p,I),P&&P.m(p,null),t(n,j),t(n,E),t(E,H),t(E,ke),t(E,V),U(V,l[2]),t(E,Ue),M&&M.m(E,null),t(E,Pe),t(E,ae),t(n,Be),t(n,oe),t(n,qe),t(n,se),t(se,B),t(B,ie),t(B,He),t(B,ne),t(ne,v),U(v,l[3]),t(ne,Me),t(ne,Z),U(Z,l[4]),t(B,bt),S&&S.m(B,null),t(B,We),t(B,Se),t(Se,Ze),t(se,gt),t(se,J),t(J,fe),t(J,yt),t(J,ce),t(ce,X),U(X,l[5]),t(ce,Dt),t(ce,x),U(x,l[6]),t(J,zt),F&&F.m(J,null),t(J,$e),t(J,Ve),t(n,Ct),t(n,ve),t(ve,$),$.checked=l[10],t(ve,Et),t(ve,pe),t(n,It),t(n,Te),t(n,kt),t(n,me),t(me,O),t(O,he),t(O,Vt),t(O,w),U(w,l[7]),t(O,Tt),A&&A.m(O,null),t(O,lt),t(O,Fe),t(Fe,st),t(me,jt),t(me,R),t(R,_e),t(R,wt),t(R,q),U(q,l[8]),t(R,Lt),N&&N.m(R,null),t(R,rt),t(R,Ae),t(Ae,at),t(n,Pt),t(n,je),t(n,Mt),t(n,be),t(be,ee),ee.checked=l[9],t(be,St),t(be,ge),t(n,Ft),t(n,we),t(n,At),t(n,ye),t(ye,re),t(re,Nt),t(ye,Ut),t(ye,de),t(de,ot),Bt||(Wt=[Y(g,"input",l[19]),Y(V,"input",l[20]),Y(v,"input",l[21]),Y(Z,"input",l[22]),Y(X,"input",l[23]),Y(x,"input",l[24]),Y($,"change",l[25]),Y(w,"input",l[26]),Y(q,"input",l[27]),Y(ee,"change",l[28]),Y(re,"click",l[16]),Y(n,"submit",hl(l[15]))],Bt=!0)},p(a,f){a[14]?L?L.p(a,f):(L=sl(a),L.c(),L.m(s,i)):L&&(L.d(1),L=null),f[0]&8192&&C!==(C="form-control "+(a[13].name?"error":"")+" svelte-1tozyeu")&&e(g,"class",C),f[0]&4096&&(g.disabled=a[12]),f[0]&2&&g.value!==a[1]&&U(g,a[1]),a[13].name?P?P.p(a,f):(P=il(a),P.c(),P.m(p,null)):P&&(P.d(1),P=null),f[0]&8192&&le!==(le="form-control "+(a[13].description?"error":"")+" svelte-1tozyeu")&&e(V,"class",le),f[0]&4096&&(V.disabled=a[12]),f[0]&4&&U(V,a[2]),a[13].description?M?M.p(a,f):(M=nl(a),M.c(),M.m(E,Pe)):M&&(M.d(1),M=null),f[0]&8192&&K!==(K="form-control "+(a[13].entryDeadline?"error":"")+" svelte-1tozyeu")&&e(v,"class",K),f[0]&20480&&ue!==(ue=a[12]||a[14])&&(v.disabled=ue),f[0]&8&&U(v,a[3]),f[0]&20480&&Qe!==(Qe=a[12]||a[14])&&(Z.disabled=Qe),f[0]&16&&U(Z,a[4]),a[13].entryDeadline?S?S.p(a,f):(S=rl(a),S.c(),S.m(B,We)):S&&(S.d(1),S=null),f[0]&16384&&Je!==(Je=a[14]?"Cannot change after entries submitted":"Date and time when entries close")&&te(Ze,Je),f[0]&8192&&xe!==(xe="form-control "+(a[13].judgingDate?"error":"")+" svelte-1tozyeu")&&e(X,"class",xe),f[0]&4096&&(X.disabled=a[12]),f[0]&32&&U(X,a[5]),f[0]&4096&&(x.disabled=a[12]),f[0]&64&&U(x,a[6]),a[13].judgingDate?F?F.p(a,f):(F=al(a),F.c(),F.m(J,$e)):F&&(F.d(1),F=null),f[0]&4096&&($.disabled=a[12]),f[0]&1024&&($.checked=a[10]),f[0]&8192&&et!==(et="form-control "+(a[13].entryFee?"error":"")+" svelte-1tozyeu")&&e(w,"class",et),f[0]&20480&&tt!==(tt=a[12]||a[14])&&(w.disabled=tt),f[0]&128&&_t(w.value)!==a[7]&&U(w,a[7]),a[13].entryFee?A?A.p(a,f):(A=ol(a),A.c(),A.m(O,lt)):A&&(A.d(1),A=null),f[0]&16384&&Oe!==(Oe=a[14]?"Cannot change after entries submitted":"Fee per entry (0 for free)")&&te(st,Oe),f[0]&8192&&it!==(it="form-control "+(a[13].maxEntriesPerMember?"error":"")+" svelte-1tozyeu")&&e(q,"class",it),f[0]&20480&&nt!==(nt=a[12]||a[14])&&(q.disabled=nt),f[0]&256&&_t(q.value)!==a[8]&&U(q,a[8]),a[13].maxEntriesPerMember?N?N.p(a,f):(N=ul(a),N.c(),N.m(R,rt)):N&&(N.d(1),N=null),f[0]&16384&&Re!==(Re=a[14]?"Cannot change after entries submitted":"Maximum entries allowed per member")&&te(at,Re),f[0]&4096&&(ee.disabled=a[12]),f[0]&512&&(ee.checked=a[9]),f[0]&4096&&(re.disabled=a[12]),f[0]&4096&&Ke!==(Ke=a[12]?"Saving...":"Save Changes")&&te(ot,Ke),f[0]&4096&&(de.disabled=a[12])},d(a){a&&c(s),L&&L.d(),P&&P.d(),M&&M.d(),S&&S.d(),F&&F.d(),A&&A.d(),N&&N.d(),Bt=!1,ml(Wt)}}}function El(l){let s,i='<div class="spinner svelte-1tozyeu"></div> <p>Loading competition...</p>';return{c(){s=d("div"),s.innerHTML=i,this.h()},l(n){s=u(n,"DIV",{class:!0,"data-svelte-h":!0}),k(s)!=="svelte-qasb26"&&(s.innerHTML=i),this.h()},h(){e(s,"class","loading svelte-1tozyeu")},m(n,r){W(n,s,r)},p:qt,d(n){n&&c(s)}}}function sl(l){let s,i=`<strong class="svelte-1tozyeu">⚠️ This competition has entries</strong>
          Some fields cannot be modified after entries have been submitted.`,n,r,o,z,p="Total Entries",_,y,T=(l[0].entry_count||0)+"",g;return{c(){s=d("div"),s.innerHTML=i,n=h(),r=d("div"),o=d("div"),z=d("span"),z.textContent=p,_=h(),y=d("span"),g=Q(T),this.h()},l(C){s=u(C,"DIV",{class:!0,"data-svelte-h":!0}),k(s)!=="svelte-z1fbzs"&&(s.innerHTML=i),n=m(C),r=u(C,"DIV",{class:!0});var I=b(r);o=u(I,"DIV",{class:!0});var j=b(o);z=u(j,"SPAN",{class:!0,"data-svelte-h":!0}),k(z)!=="svelte-ybinew"&&(z.textContent=p),_=m(j),y=u(j,"SPAN",{class:!0});var E=b(y);g=G(E,T),E.forEach(c),j.forEach(c),I.forEach(c),this.h()},h(){e(s,"class","warning-banner svelte-1tozyeu"),e(z,"class","stat-label svelte-1tozyeu"),e(y,"class","stat-value svelte-1tozyeu"),e(o,"class","stat svelte-1tozyeu"),e(r,"class","entry-stats svelte-1tozyeu")},m(C,I){W(C,s,I),W(C,n,I),W(C,r,I),t(r,o),t(o,z),t(o,_),t(o,y),t(y,g)},p(C,I){I[0]&1&&T!==(T=(C[0].entry_count||0)+"")&&te(g,T)},d(C){C&&(c(s),c(n),c(r))}}}function il(l){let s,i=l[13].name+"",n;return{c(){s=d("div"),n=Q(i),this.h()},l(r){s=u(r,"DIV",{class:!0});var o=b(s);n=G(o,i),o.forEach(c),this.h()},h(){e(s,"class","error-message svelte-1tozyeu")},m(r,o){W(r,s,o),t(s,n)},p(r,o){o[0]&8192&&i!==(i=r[13].name+"")&&te(n,i)},d(r){r&&c(s)}}}function nl(l){let s,i=l[13].description+"",n;return{c(){s=d("div"),n=Q(i),this.h()},l(r){s=u(r,"DIV",{class:!0});var o=b(s);n=G(o,i),o.forEach(c),this.h()},h(){e(s,"class","error-message svelte-1tozyeu")},m(r,o){W(r,s,o),t(s,n)},p(r,o){o[0]&8192&&i!==(i=r[13].description+"")&&te(n,i)},d(r){r&&c(s)}}}function rl(l){let s,i=l[13].entryDeadline+"",n;return{c(){s=d("div"),n=Q(i),this.h()},l(r){s=u(r,"DIV",{class:!0});var o=b(s);n=G(o,i),o.forEach(c),this.h()},h(){e(s,"class","error-message svelte-1tozyeu")},m(r,o){W(r,s,o),t(s,n)},p(r,o){o[0]&8192&&i!==(i=r[13].entryDeadline+"")&&te(n,i)},d(r){r&&c(s)}}}function al(l){let s,i=l[13].judgingDate+"",n;return{c(){s=d("div"),n=Q(i),this.h()},l(r){s=u(r,"DIV",{class:!0});var o=b(s);n=G(o,i),o.forEach(c),this.h()},h(){e(s,"class","error-message svelte-1tozyeu")},m(r,o){W(r,s,o),t(s,n)},p(r,o){o[0]&8192&&i!==(i=r[13].judgingDate+"")&&te(n,i)},d(r){r&&c(s)}}}function ol(l){let s,i=l[13].entryFee+"",n;return{c(){s=d("div"),n=Q(i),this.h()},l(r){s=u(r,"DIV",{class:!0});var o=b(s);n=G(o,i),o.forEach(c),this.h()},h(){e(s,"class","error-message svelte-1tozyeu")},m(r,o){W(r,s,o),t(s,n)},p(r,o){o[0]&8192&&i!==(i=r[13].entryFee+"")&&te(n,i)},d(r){r&&c(s)}}}function ul(l){let s,i=l[13].maxEntriesPerMember+"",n;return{c(){s=d("div"),n=Q(i),this.h()},l(r){s=u(r,"DIV",{class:!0});var o=b(s);n=G(o,i),o.forEach(c),this.h()},h(){e(s,"class","error-message svelte-1tozyeu")},m(r,o){W(r,s,o),t(s,n)},p(r,o){o[0]&8192&&i!==(i=r[13].maxEntriesPerMember+"")&&te(n,i)},d(r){r&&c(s)}}}function Il(l){let s,i,n='<h1 class="svelte-1tozyeu"><span class="emoji svelte-1tozyeu">✏️</span> Edit Competition</h1> <p class="subtitle svelte-1tozyeu">Update competition details</p>',r;function o(_,y){if(_[11])return El;if(_[0])return Cl}let z=o(l),p=z&&z(l);return{c(){s=d("div"),i=d("div"),i.innerHTML=n,r=h(),p&&p.c(),this.h()},l(_){s=u(_,"DIV",{class:!0});var y=b(s);i=u(y,"DIV",{class:!0,"data-svelte-h":!0}),k(i)!=="svelte-1s0xfnr"&&(i.innerHTML=n),r=m(y),p&&p.l(y),y.forEach(c),this.h()},h(){e(i,"class","hero svelte-1tozyeu"),e(s,"class","container svelte-1tozyeu")},m(_,y){W(_,s,y),t(s,i),t(s,r),p&&p.m(s,null)},p(_,y){z===(z=o(_))&&p?p.p(_,y):(p&&p.d(1),p=z&&z(_),p&&(p.c(),p.m(s,null)))},i:qt,o:qt,d(_){_&&c(s),p&&p.d()}}}function dl(l){const s=l.getFullYear(),i=String(l.getMonth()+1).padStart(2,"0"),n=String(l.getDate()).padStart(2,"0");return`${s}-${i}-${n}`}function fl(l){const s=String(l.getHours()).padStart(2,"0"),i=String(l.getMinutes()).padStart(2,"0");return`${s}:${i}`}function kl(l,s,i){let n,r,o,z;ll(l,gl,v=>i(17,o=v)),ll(l,yl,v=>i(18,z=v));let p="",_="",y="",T="00:00",g="",C="00:00",I=5,j=5,E=!0,H=!1,Le=!0,ke=!1,V={},le=null;vl(()=>{Ue()}),pl(()=>{});async function Ue(){i(11,Le=!0);try{const{data:v,error:K}=await zl.from("competitions").select("*").eq("id",n).single();if(K)throw K;if(v){i(0,le=v),i(1,p=v.name||""),i(2,_=v.description||"");const ue=new Date(v.entry_deadline);i(3,y=dl(ue)),i(4,T=fl(ue));const Me=new Date(v.judging_date);i(5,g=dl(Me)),i(6,C=fl(Me)),i(7,I=v.entry_fee||0),i(8,j=v.max_entries_per_member||5),i(9,E=v.active??!0),i(10,H=v.hide_judging_date??!1)}}catch(v){console.error("Error loading competition:",v),alert("Failed to load competition"),ht("/officers/manage-competitions")}finally{i(11,Le=!1)}}function Pe(){const v={};if(p.trim()?p.length>100&&(v.name="Name must be 100 characters or less"):v.name="Competition name is required",_&&_.length>500&&(v.description="Description must be 500 characters or less"),y||(v.entryDeadline="Entry deadline is required"),!g)v.judgingDate="Judging date is required";else{const K=new Date(`${g}T${C}:00`),ue=new Date(`${y}T${T}:00`);K<=ue&&(v.judgingDate="Judging date and time must be after entry deadline")}return(I<0||I>100)&&(v.entryFee="Entry fee must be between $0 and $100"),(j<1||j>20)&&(v.maxEntriesPerMember="Max entries must be between 1 and 20"),i(13,V=v),Object.keys(v).length===0}async function ae(){if(!Pe())return;i(12,ke=!0);const v={name:p.trim(),description:_.trim()||null,entry_deadline:`${y}T${T}:00`,judging_date:`${g}T${C}:00`,entry_fee:I,max_entries_per_member:j,active:E,hide_judging_date:H};try{await Dl(n,v),ht("/officers/manage-competitions")}catch(K){console.error("Error updating competition:",K),alert(`Error updating competition: ${K.message}`),i(12,ke=!1)}}function Xe(){ht("/officers/manage-competitions")}function Be(){p=this.value,i(1,p)}function oe(){_=this.value,i(2,_)}function Ye(){y=this.value,i(3,y)}function qe(){T=this.value,i(4,T)}function se(){g=this.value,i(5,g)}function B(){C=this.value,i(6,C)}function ie(){H=this.checked,i(10,H)}function Ge(){I=_t(this.value),i(7,I)}function He(){j=_t(this.value),i(8,j)}function ne(){E=this.checked,i(9,E)}return l.$$.update=()=>{l.$$.dirty[0]&262144&&z&&!z.is_officer&&ht("/"),l.$$.dirty[0]&131072&&(n=o.params.id),l.$$.dirty[0]&1&&i(14,r=(le==null?void 0:le.entry_count)>0)},[le,p,_,y,T,g,C,I,j,E,H,Le,ke,V,r,ae,Xe,o,z,Be,oe,Ye,qe,se,B,ie,Ge,He,ne]}class Sl extends _l{constructor(s){super(),bl(this,s,kl,Il,cl,{},null,[-1,-1])}}export{Sl as component};
