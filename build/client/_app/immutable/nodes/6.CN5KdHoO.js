import{s as We,n as ce,d,i as O,b as a,v as Qe,q as m,c as _,e as E,B as X,g as V,h as v,j as N,C as Xe,D as $e,a as q,f as A,t as L,E as Pe,G as He,H as we,F as be,L as de}from"../chunks/tH3vu9X-.js";import{e as ve}from"../chunks/Cd0iBuNO.js";import{S as xe,i as et}from"../chunks/3rbuGhWg.js";import{g as tt}from"../chunks/CsiUa4Yb.js";import{s as me}from"../chunks/CCM_4jRA.js";function Me(i,e,l){const t=i.slice();return t[12]=e[l][0],t[13]=e[l][1],t}function Re(i,e,l){const t=i.slice();return t[16]=e[l],t}function Be(i,e,l){const t=i.slice();return t[16]=e[l],t}function qe(i,e,l){const t=i.slice();return t[21]=e[l],t}function Oe(i){let e,l;return{c(){e=v("div"),l=L(i[6]),this.h()},l(t){e=_(t,"DIV",{class:!0});var n=E(e);l=A(n,i[6]),n.forEach(d),this.h()},h(){m(e,"class","error svelte-1coiu4v")},m(t,n){O(t,e,n),a(e,l)},p(t,n){n&64&&q(l,t[6])},d(t){t&&d(e)}}}function lt(i){let e,l,t="Select Competition to View Results:",n,r,o,s="Choose a competition...",u,f,h,C,I,j=ve(i[2]),w=[];for(let c=0;c<j.length;c+=1)w[c]=Fe(qe(i,j,c));let p=i[3]&&Ge(i);return{c(){e=v("div"),l=v("div"),l.textContent=t,n=N(),r=v("select"),o=v("option"),o.textContent=s;for(let c=0;c<w.length;c+=1)w[c].c();f=N(),p&&p.c(),h=be(),this.h()},l(c){e=_(c,"DIV",{class:!0});var g=E(e);l=_(g,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-6famh2"&&(l.textContent=t),n=V(g),r=_(g,"SELECT",{class:!0});var P=E(r);o=_(P,"OPTION",{"data-svelte-h":!0}),X(o)!=="svelte-1urbt8h"&&(o.textContent=s);for(let k=0;k<w.length;k+=1)w[k].l(P);P.forEach(d),g.forEach(d),f=V(c),p&&p.l(c),h=be(),this.h()},h(){m(l,"class","selector-label svelte-1coiu4v"),o.__value="",we(o,o.__value),m(r,"class","competition-select svelte-1coiu4v"),m(e,"class","competition-selector svelte-1coiu4v")},m(c,g){var P;O(c,e,g),a(e,l),a(e,n),a(e,r),a(r,o);for(let k=0;k<w.length;k+=1)w[k]&&w[k].m(r,null);He(r,((P=i[3])==null?void 0:P.id)||""),O(c,f,g),p&&p.m(c,g),O(c,h,g),C||(I=Qe(r,"change",i[8]),C=!0)},p(c,g){var P,k;if(g&4){j=ve(c[2]);let y;for(y=0;y<j.length;y+=1){const b=qe(c,j,y);w[y]?w[y].p(b,g):(w[y]=Fe(b),w[y].c(),w[y].m(r,null))}for(;y<w.length;y+=1)w[y].d(1);w.length=j.length}g&12&&u!==(u=((P=c[3])==null?void 0:P.id)||"")&&He(r,((k=c[3])==null?void 0:k.id)||""),c[3]?p?p.p(c,g):(p=Ge(c),p.c(),p.m(h.parentNode,h)):p&&(p.d(1),p=null)},d(c){c&&(d(e),d(f),d(h)),Pe(w,c),p&&p.d(c),C=!1,I()}}}function st(i){let e,l="<h3>No Results Published</h3> <p>There are currently no competition results available to view.</p> <p>Check back after competitions have been judged and results published.</p>";return{c(){e=v("div"),e.innerHTML=l,this.h()},l(t){e=_(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-ntmt9w"&&(e.innerHTML=l),this.h()},h(){m(e,"class","empty-state svelte-1coiu4v")},m(t,n){O(t,e,n)},p:ce,d(t){t&&d(e)}}}function at(i){let e,l='<div class="spinner svelte-1coiu4v"></div> <p>Loading competition results...</p>';return{c(){e=v("div"),e.innerHTML=l,this.h()},l(t){e=_(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1c57wy0"&&(e.innerHTML=l),this.h()},h(){m(e,"class","loading svelte-1coiu4v")},m(t,n){O(t,e,n)},p:ce,d(t){t&&d(e)}}}function Fe(i){let e,l=i[21].name+"",t,n,r=Ye(i[21].judging_date)+"",o,s,u;return{c(){e=v("option"),t=L(l),n=L(" - Judged "),o=L(r),s=N(),this.h()},l(f){e=_(f,"OPTION",{});var h=E(e);t=A(h,l),n=A(h," - Judged "),o=A(h,r),s=V(h),h.forEach(d),this.h()},h(){e.__value=u=i[21].id,we(e,e.__value)},m(f,h){O(f,e,h),a(e,t),a(e,n),a(e,o),a(e,s)},p(f,h){h&4&&l!==(l=f[21].name+"")&&q(t,l),h&4&&r!==(r=Ye(f[21].judging_date)+"")&&q(o,r),h&4&&u!==(u=f[21].id)&&(e.__value=u,we(e,e.__value))},d(f){f&&d(e)}}}function Ge(i){let e,l,t=!i[5]&&i[0].length>0&&Ue(i);function n(s,u){return s[5]?ot:s[0].length===0?it:nt}let r=n(i),o=r(i);return{c(){t&&t.c(),e=N(),o.c(),l=be()},l(s){t&&t.l(s),e=V(s),o.l(s),l=be()},m(s,u){t&&t.m(s,u),O(s,e,u),o.m(s,u),O(s,l,u)},p(s,u){!s[5]&&s[0].length>0?t?t.p(s,u):(t=Ue(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),r===(r=n(s))&&o?o.p(s,u):(o.d(1),o=r(s),o&&(o.c(),o.m(l.parentNode,l)))},d(s){s&&(d(e),d(l)),t&&t.d(s),o.d(s)}}}function Ue(i){let e,l,t=i[3].name+"",n,r,o,s,u,f,h="Total Entries",C,I,j=i[7].totalEntries+"",w,p,c,g,P="Awards Given",k,y,b=i[7].placedEntries+"",R,x,F,H,G="Categories",se,B,U=i[7].categories+"",S,J,M,z,Y="Average Score",T,D,te=i[7].averageScore+"",ee;return{c(){e=v("div"),l=v("h2"),n=L(t),r=L(" - Results Summary"),o=N(),s=v("div"),u=v("div"),f=v("div"),f.textContent=h,C=N(),I=v("div"),w=L(j),p=N(),c=v("div"),g=v("div"),g.textContent=P,k=N(),y=v("div"),R=L(b),x=N(),F=v("div"),H=v("div"),H.textContent=G,se=N(),B=v("div"),S=L(U),J=N(),M=v("div"),z=v("div"),z.textContent=Y,T=N(),D=v("div"),ee=L(te),this.h()},l(K){e=_(K,"DIV",{class:!0});var $=E(e);l=_($,"H2",{style:!0});var ne=E(l);n=A(ne,t),r=A(ne," - Results Summary"),ne.forEach(d),o=V($),s=_($,"DIV",{class:!0});var Q=E(s);u=_(Q,"DIV",{class:!0});var ae=E(u);f=_(ae,"DIV",{class:!0,"data-svelte-h":!0}),X(f)!=="svelte-ufm050"&&(f.textContent=h),C=V(ae),I=_(ae,"DIV",{class:!0});var re=E(I);w=A(re,j),re.forEach(d),ae.forEach(d),p=V(Q),c=_(Q,"DIV",{class:!0});var _e=E(c);g=_(_e,"DIV",{class:!0,"data-svelte-h":!0}),X(g)!=="svelte-1wthacd"&&(g.textContent=P),k=V(_e),y=_(_e,"DIV",{class:!0});var ke=E(y);R=A(ke,b),ke.forEach(d),_e.forEach(d),x=V(Q),F=_(Q,"DIV",{class:!0});var ue=E(F);H=_(ue,"DIV",{class:!0,"data-svelte-h":!0}),X(H)!=="svelte-1t4zeo0"&&(H.textContent=G),se=V(ue),B=_(ue,"DIV",{class:!0});var le=E(B);S=A(le,U),le.forEach(d),ue.forEach(d),J=V(Q),M=_(Q,"DIV",{class:!0});var fe=E(M);z=_(fe,"DIV",{class:!0,"data-svelte-h":!0}),X(z)!=="svelte-r90083"&&(z.textContent=Y),T=V(fe),D=_(fe,"DIV",{class:!0});var pe=E(D);ee=A(pe,te),pe.forEach(d),fe.forEach(d),Q.forEach(d),$.forEach(d),this.h()},h(){de(l,"margin","0 0 1.5rem 0"),de(l,"color","#333"),m(f,"class","summary-label svelte-1coiu4v"),m(I,"class","summary-value svelte-1coiu4v"),m(u,"class","summary-item svelte-1coiu4v"),m(g,"class","summary-label svelte-1coiu4v"),m(y,"class","summary-value svelte-1coiu4v"),m(c,"class","summary-item svelte-1coiu4v"),m(H,"class","summary-label svelte-1coiu4v"),m(B,"class","summary-value svelte-1coiu4v"),m(F,"class","summary-item svelte-1coiu4v"),m(z,"class","summary-label svelte-1coiu4v"),m(D,"class","summary-value svelte-1coiu4v"),m(M,"class","summary-item svelte-1coiu4v"),m(s,"class","summary-grid svelte-1coiu4v"),m(e,"class","results-summary svelte-1coiu4v")},m(K,$){O(K,e,$),a(e,l),a(l,n),a(l,r),a(e,o),a(e,s),a(s,u),a(u,f),a(u,C),a(u,I),a(I,w),a(s,p),a(s,c),a(c,g),a(c,k),a(c,y),a(y,R),a(s,x),a(s,F),a(F,H),a(F,se),a(F,B),a(B,S),a(s,J),a(s,M),a(M,z),a(M,T),a(M,D),a(D,ee)},p(K,$){$&8&&t!==(t=K[3].name+"")&&q(n,t),$&128&&j!==(j=K[7].totalEntries+"")&&q(w,j),$&128&&b!==(b=K[7].placedEntries+"")&&q(R,b),$&128&&U!==(U=K[7].categories+"")&&q(S,U),$&128&&te!==(te=K[7].averageScore+"")&&q(ee,te)},d(K){K&&d(e)}}}function nt(i){let e,l=ve(Object.entries(i[1])),t=[];for(let n=0;n<l.length;n+=1)t[n]=Ke(Me(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=be()},l(n){for(let r=0;r<t.length;r+=1)t[r].l(n);e=be()},m(n,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,r);O(n,e,r)},p(n,r){if(r&2){l=ve(Object.entries(n[1]));let o;for(o=0;o<l.length;o+=1){const s=Me(n,l,o);t[o]?t[o].p(s,r):(t[o]=Ke(s),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&d(e),Pe(t,n)}}}function it(i){let e,l="<h3>No Results Available</h3> <p>Results for this competition have not been entered yet.</p>";return{c(){e=v("div"),e.innerHTML=l,this.h()},l(t){e=_(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-5maymk"&&(e.innerHTML=l),this.h()},h(){m(e,"class","empty-state svelte-1coiu4v")},m(t,n){O(t,e,n)},p:ce,d(t){t&&d(e)}}}function ot(i){let e,l='<div class="spinner svelte-1coiu4v"></div> <p>Loading results...</p>';return{c(){e=v("div"),e.innerHTML=l,this.h()},l(t){e=_(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1wd8za7"&&(e.innerHTML=l),this.h()},h(){m(e,"class","loading svelte-1coiu4v")},m(t,n){O(t,e,n)},p:ce,d(t){t&&d(e)}}}function Je(i){let e,l,t=i[16].judge_count+"",n,r,o=i[16].judge_count===1?"":"s",s;return{c(){e=v("br"),l=v("small"),n=L(t),r=L(" judge"),s=L(o),this.h()},l(u){e=_(u,"BR",{}),l=_(u,"SMALL",{style:!0});var f=E(l);n=A(f,t),r=A(f," judge"),s=A(f,o),f.forEach(d),this.h()},h(){de(l,"color","#666")},m(u,f){O(u,e,f),O(u,l,f),a(l,n),a(l,r),a(l,s)},p(u,f){f&2&&t!==(t=u[16].judge_count+"")&&q(n,t),f&2&&o!==(o=u[16].judge_count===1?"":"s")&&q(s,o)},d(u){u&&(d(e),d(l))}}}function rt(i){let e,l="-/50";return{c(){e=v("span"),e.textContent=l,this.h()},l(t){e=_(t,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1qmajtw"&&(e.textContent=l),this.h()},h(){m(e,"class","score-badge svelte-1coiu4v")},m(t,n){O(t,e,n)},p:ce,d(t){t&&d(e)}}}function ct(i){let e,l=i[16].score+"",t,n;return{c(){e=v("span"),t=L(l),n=L("/50"),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=E(e);t=A(o,l),n=A(o,"/50"),o.forEach(d),this.h()},h(){m(e,"class","score-badge svelte-1coiu4v")},m(r,o){O(r,e,o),a(e,t),a(e,n)},p(r,o){o&2&&l!==(l=r[16].score+"")&&q(t,l)},d(r){r&&d(e)}}}function ut(i){let e,l="No Placement";return{c(){e=v("span"),e.textContent=l,this.h()},l(t){e=_(t,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1ngxc4k"&&(e.textContent=l),this.h()},h(){m(e,"class","placement-badge placement-none svelte-1coiu4v")},m(t,n){O(t,e,n)},p:ce,d(t){t&&d(e)}}}function dt(i){let e,l,t=ie(i[16].calculated_placement).medal+"",n,r,o,s=ie(i[16].calculated_placement).text+"",u,f;return{c(){e=v("span"),l=v("span"),n=L(t),r=N(),o=v("span"),u=L(s),this.h()},l(h){e=_(h,"SPAN",{class:!0});var C=E(e);l=_(C,"SPAN",{});var I=E(l);n=A(I,t),I.forEach(d),r=V(C),o=_(C,"SPAN",{});var j=E(o);u=A(j,s),j.forEach(d),C.forEach(d),this.h()},h(){m(e,"class",f="placement-badge "+ie(i[16].calculated_placement).class+" svelte-1coiu4v")},m(h,C){O(h,e,C),a(e,l),a(l,n),a(e,r),a(e,o),a(o,u)},p(h,C){C&2&&t!==(t=ie(h[16].calculated_placement).medal+"")&&q(n,t),C&2&&s!==(s=ie(h[16].calculated_placement).text+"")&&q(u,s),C&2&&f!==(f="placement-badge "+ie(h[16].calculated_placement).class+" svelte-1coiu4v")&&m(e,"class",f)},d(h){h&&d(e)}}}function ze(i){let e,l,t,n=i[16].entry_number+"",r,o,s,u=i[16].member_name+"",f,h,C,I=i[16].beer_name+"",j,w,p,c,g=i[16].ranking_points+"",P,k,y=i[16].ranking_points===1?"pt":"pts",b,R,x,F,H,G,se,B=i[16].judge_count>0&&Je(i);function U(T,D){return T[16].score?ct:rt}let S=U(i),J=S(i);function M(T,D){return T[16].calculated_placement?dt:ut}let z=M(i),Y=z(i);return{c(){e=v("tr"),l=v("td"),t=v("span"),r=L(n),o=N(),s=v("td"),f=L(u),h=N(),C=v("td"),j=L(I),w=N(),p=v("td"),c=v("span"),P=L(g),k=N(),b=L(y),R=N(),B&&B.c(),x=N(),F=v("td"),J.c(),H=N(),G=v("td"),Y.c(),se=N(),this.h()},l(T){e=_(T,"TR",{class:!0});var D=E(e);l=_(D,"TD",{class:!0});var te=E(l);t=_(te,"SPAN",{class:!0});var ee=E(t);r=A(ee,n),ee.forEach(d),te.forEach(d),o=V(D),s=_(D,"TD",{class:!0});var K=E(s);f=A(K,u),K.forEach(d),h=V(D),C=_(D,"TD",{class:!0});var $=E(C);j=A($,I),$.forEach(d),w=V(D),p=_(D,"TD",{class:!0});var ne=E(p);c=_(ne,"SPAN",{style:!0});var Q=E(c);P=A(Q,g),k=V(Q),b=A(Q,y),Q.forEach(d),R=V(ne),B&&B.l(ne),ne.forEach(d),x=V(D),F=_(D,"TD",{class:!0});var ae=E(F);J.l(ae),ae.forEach(d),H=V(D),G=_(D,"TD",{class:!0});var re=E(G);Y.l(re),re.forEach(d),se=V(D),D.forEach(d),this.h()},h(){m(t,"class","entry-number svelte-1coiu4v"),m(l,"class","svelte-1coiu4v"),m(s,"class","svelte-1coiu4v"),m(C,"class","svelte-1coiu4v"),de(c,"font-weight","600"),de(c,"color",i[16].ranking_points>0?"#059669":"#666"),m(p,"class","svelte-1coiu4v"),m(F,"class","svelte-1coiu4v"),m(G,"class","svelte-1coiu4v"),m(e,"class","svelte-1coiu4v")},m(T,D){O(T,e,D),a(e,l),a(l,t),a(t,r),a(e,o),a(e,s),a(s,f),a(e,h),a(e,C),a(C,j),a(e,w),a(e,p),a(p,c),a(c,P),a(c,k),a(c,b),a(p,R),B&&B.m(p,null),a(e,x),a(e,F),J.m(F,null),a(e,H),a(e,G),Y.m(G,null),a(e,se)},p(T,D){D&2&&n!==(n=T[16].entry_number+"")&&q(r,n),D&2&&u!==(u=T[16].member_name+"")&&q(f,u),D&2&&I!==(I=T[16].beer_name+"")&&q(j,I),D&2&&g!==(g=T[16].ranking_points+"")&&q(P,g),D&2&&y!==(y=T[16].ranking_points===1?"pt":"pts")&&q(b,y),D&2&&de(c,"color",T[16].ranking_points>0?"#059669":"#666"),T[16].judge_count>0?B?B.p(T,D):(B=Je(T),B.c(),B.m(p,null)):B&&(B.d(1),B=null),S===(S=U(T))&&J?J.p(T,D):(J.d(1),J=S(T),J&&(J.c(),J.m(F,null))),z===(z=M(T))&&Y?Y.p(T,D):(Y.d(1),Y=z(T),Y&&(Y.c(),Y.m(G,null)))},d(T){T&&d(e),B&&B.d(),J.d(),Y.d()}}}function _t(i){let e,l="No Placement";return{c(){e=v("div"),e.textContent=l,this.h()},l(t){e=_(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-18rysov"&&(e.textContent=l),this.h()},h(){m(e,"class","placement-badge-mobile placement-none svelte-1coiu4v")},m(t,n){O(t,e,n)},p:ce,d(t){t&&d(e)}}}function vt(i){let e,l,t=ie(i[16].calculated_placement).medal+"",n,r,o,s=ie(i[16].calculated_placement).text+"",u,f;return{c(){e=v("div"),l=v("span"),n=L(t),r=N(),o=v("span"),u=L(s),this.h()},l(h){e=_(h,"DIV",{class:!0});var C=E(e);l=_(C,"SPAN",{class:!0});var I=E(l);n=A(I,t),I.forEach(d),r=V(C),o=_(C,"SPAN",{class:!0});var j=E(o);u=A(j,s),j.forEach(d),C.forEach(d),this.h()},h(){m(l,"class","medal"),m(o,"class","placement-text"),m(e,"class",f="placement-badge-mobile "+ie(i[16].calculated_placement).class+" svelte-1coiu4v")},m(h,C){O(h,e,C),a(e,l),a(l,n),a(e,r),a(e,o),a(o,u)},p(h,C){C&2&&t!==(t=ie(h[16].calculated_placement).medal+"")&&q(n,t),C&2&&s!==(s=ie(h[16].calculated_placement).text+"")&&q(u,s),C&2&&f!==(f="placement-badge-mobile "+ie(h[16].calculated_placement).class+" svelte-1coiu4v")&&m(e,"class",f)},d(h){h&&d(e)}}}function ft(i){let e;return{c(){e=L("-/50")},l(l){e=A(l,"-/50")},m(l,t){O(l,e,t)},p:ce,d(l){l&&d(e)}}}function pt(i){let e=i[16].score+"",l,t;return{c(){l=L(e),t=L("/50")},l(n){l=A(n,e),t=A(n,"/50")},m(n,r){O(n,l,r),O(n,t,r)},p(n,r){r&2&&e!==(e=n[16].score+"")&&q(l,e)},d(n){n&&(d(l),d(t))}}}function Ze(i){let e,l,t,n,r,o=i[16].entry_number+"",s,u,f,h=i[16].beer_name+"",C,I,j,w=i[16].member_name+"",p,c,g,P,k,y,b,R,x="Points",F,H,G=i[16].ranking_points+"",se,B,U=i[16].ranking_points===1?"pt":"pts",S,J,M,z,Y="Score",T,D,te,ee,K,$="Judges",ne,Q,ae=i[16].judge_count+"",re,_e;function ke(Z,W){return Z[16].calculated_placement?vt:_t}let ue=ke(i),le=ue(i);function fe(Z,W){return Z[16].score?pt:ft}let pe=fe(i),oe=pe(i);return{c(){e=v("div"),l=v("div"),t=v("div"),n=v("span"),r=L("#"),s=L(o),u=N(),f=v("h4"),C=L(h),I=N(),j=v("p"),p=L(w),c=N(),g=v("div"),le.c(),P=N(),k=v("div"),y=v("div"),b=v("div"),R=v("span"),R.textContent=x,F=N(),H=v("span"),se=L(G),B=N(),S=L(U),J=N(),M=v("div"),z=v("span"),z.textContent=Y,T=N(),D=v("span"),oe.c(),te=N(),ee=v("div"),K=v("span"),K.textContent=$,ne=N(),Q=v("span"),re=L(ae),_e=N(),this.h()},l(Z){e=_(Z,"DIV",{class:!0});var W=E(e);l=_(W,"DIV",{class:!0});var ye=E(l);t=_(ye,"DIV",{class:!0});var he=E(t);n=_(he,"SPAN",{class:!0});var je=E(n);r=A(je,"#"),s=A(je,o),je.forEach(d),u=V(he),f=_(he,"H4",{class:!0});var Ve=E(f);C=A(Ve,h),Ve.forEach(d),I=V(he),j=_(he,"P",{class:!0});var Ne=E(j);p=A(Ne,w),Ne.forEach(d),he.forEach(d),c=V(ye),g=_(ye,"DIV",{class:!0});var Se=E(g);le.l(Se),Se.forEach(d),ye.forEach(d),P=V(W),k=_(W,"DIV",{class:!0});var Te=E(k);y=_(Te,"DIV",{class:!0});var ge=E(y);b=_(ge,"DIV",{class:!0});var Ee=E(b);R=_(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),X(R)!=="svelte-1s0cwgq"&&(R.textContent=x),F=V(Ee),H=_(Ee,"SPAN",{class:!0,style:!0});var Ce=E(H);se=A(Ce,G),B=V(Ce),S=A(Ce,U),Ce.forEach(d),Ee.forEach(d),J=V(ge),M=_(ge,"DIV",{class:!0});var De=E(M);z=_(De,"SPAN",{class:!0,"data-svelte-h":!0}),X(z)!=="svelte-31smhd"&&(z.textContent=Y),T=V(De),D=_(De,"SPAN",{class:!0});var Ae=E(D);oe.l(Ae),Ae.forEach(d),De.forEach(d),te=V(ge),ee=_(ge,"DIV",{class:!0});var Ie=E(ee);K=_(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),X(K)!=="svelte-5b4hqb"&&(K.textContent=$),ne=V(Ie),Q=_(Ie,"SPAN",{class:!0});var Le=E(Q);re=A(Le,ae),Le.forEach(d),Ie.forEach(d),ge.forEach(d),Te.forEach(d),_e=V(W),W.forEach(d),this.h()},h(){m(n,"class","entry-number svelte-1coiu4v"),m(f,"class","beer-name svelte-1coiu4v"),m(j,"class","member-name svelte-1coiu4v"),m(t,"class","entry-info svelte-1coiu4v"),m(g,"class","ranking-info svelte-1coiu4v"),m(l,"class","card-header svelte-1coiu4v"),m(R,"class","detail-label svelte-1coiu4v"),m(H,"class","detail-value svelte-1coiu4v"),de(H,"color",i[16].ranking_points>0?"#059669":"#666"),de(H,"font-weight","600"),m(b,"class","detail-item svelte-1coiu4v"),m(z,"class","detail-label svelte-1coiu4v"),m(D,"class","detail-value svelte-1coiu4v"),m(M,"class","detail-item svelte-1coiu4v"),m(K,"class","detail-label svelte-1coiu4v"),m(Q,"class","detail-value svelte-1coiu4v"),m(ee,"class","detail-item svelte-1coiu4v"),m(y,"class","detail-row svelte-1coiu4v"),m(k,"class","card-details svelte-1coiu4v"),m(e,"class","result-card svelte-1coiu4v")},m(Z,W){O(Z,e,W),a(e,l),a(l,t),a(t,n),a(n,r),a(n,s),a(t,u),a(t,f),a(f,C),a(t,I),a(t,j),a(j,p),a(l,c),a(l,g),le.m(g,null),a(e,P),a(e,k),a(k,y),a(y,b),a(b,R),a(b,F),a(b,H),a(H,se),a(H,B),a(H,S),a(y,J),a(y,M),a(M,z),a(M,T),a(M,D),oe.m(D,null),a(y,te),a(y,ee),a(ee,K),a(ee,ne),a(ee,Q),a(Q,re),a(e,_e)},p(Z,W){W&2&&o!==(o=Z[16].entry_number+"")&&q(s,o),W&2&&h!==(h=Z[16].beer_name+"")&&q(C,h),W&2&&w!==(w=Z[16].member_name+"")&&q(p,w),ue===(ue=ke(Z))&&le?le.p(Z,W):(le.d(1),le=ue(Z),le&&(le.c(),le.m(g,null))),W&2&&G!==(G=Z[16].ranking_points+"")&&q(se,G),W&2&&U!==(U=Z[16].ranking_points===1?"pt":"pts")&&q(S,U),W&2&&de(H,"color",Z[16].ranking_points>0?"#059669":"#666"),pe===(pe=fe(Z))&&oe?oe.p(Z,W):(oe.d(1),oe=pe(Z),oe&&(oe.c(),oe.m(D,null))),W&2&&ae!==(ae=Z[16].judge_count+"")&&q(re,ae)},d(Z){Z&&d(e),le.d(),oe.d()}}}function Ke(i){let e,l,t,n=i[12]+"",r,o,s,u,f='<tr class="svelte-1coiu4v"><th class="svelte-1coiu4v">Entry</th> <th class="svelte-1coiu4v">Member</th> <th class="svelte-1coiu4v">Beer Name</th> <th class="svelte-1coiu4v">Ranking Points</th> <th class="svelte-1coiu4v">Score</th> <th class="svelte-1coiu4v">Placement</th></tr>',h,C,I,j,w,p=ve(i[13]),c=[];for(let k=0;k<p.length;k+=1)c[k]=ze(Be(i,p,k));let g=ve(i[13]),P=[];for(let k=0;k<g.length;k+=1)P[k]=Ze(Re(i,g,k));return{c(){e=v("div"),l=v("div"),t=v("h3"),r=L(n),o=N(),s=v("table"),u=v("thead"),u.innerHTML=f,h=N(),C=v("tbody");for(let k=0;k<c.length;k+=1)c[k].c();I=N(),j=v("div");for(let k=0;k<P.length;k+=1)P[k].c();w=N(),this.h()},l(k){e=_(k,"DIV",{class:!0});var y=E(e);l=_(y,"DIV",{class:!0});var b=E(l);t=_(b,"H3",{class:!0});var R=E(t);r=A(R,n),R.forEach(d),b.forEach(d),o=V(y),s=_(y,"TABLE",{class:!0});var x=E(s);u=_(x,"THEAD",{"data-svelte-h":!0}),X(u)!=="svelte-e54ciq"&&(u.innerHTML=f),h=V(x),C=_(x,"TBODY",{});var F=E(C);for(let G=0;G<c.length;G+=1)c[G].l(F);F.forEach(d),x.forEach(d),I=V(y),j=_(y,"DIV",{class:!0});var H=E(j);for(let G=0;G<P.length;G+=1)P[G].l(H);H.forEach(d),w=V(y),y.forEach(d),this.h()},h(){m(t,"class","category-title svelte-1coiu4v"),m(l,"class","category-header svelte-1coiu4v"),m(s,"class","results-table desktop-view svelte-1coiu4v"),m(j,"class","results-cards mobile-view svelte-1coiu4v"),m(e,"class","category-section svelte-1coiu4v")},m(k,y){O(k,e,y),a(e,l),a(l,t),a(t,r),a(e,o),a(e,s),a(s,u),a(s,h),a(s,C);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(C,null);a(e,I),a(e,j);for(let b=0;b<P.length;b+=1)P[b]&&P[b].m(j,null);a(e,w)},p(k,y){if(y&2&&n!==(n=k[12]+"")&&q(r,n),y&2){p=ve(k[13]);let b;for(b=0;b<p.length;b+=1){const R=Be(k,p,b);c[b]?c[b].p(R,y):(c[b]=ze(R),c[b].c(),c[b].m(C,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=p.length}if(y&2){g=ve(k[13]);let b;for(b=0;b<g.length;b+=1){const R=Re(k,g,b);P[b]?P[b].p(R,y):(P[b]=Ze(R),P[b].c(),P[b].m(j,null))}for(;b<P.length;b+=1)P[b].d(1);P.length=g.length}},d(k){k&&d(e),Pe(c,k),Pe(P,k)}}}function mt(i){let e,l,t='<h1 class="svelte-1coiu4v">Competition Results</h1> <p class="svelte-1coiu4v">View published competition results and standings</p>',n,r,o,s="Back to Competitions",u,f,h,C,I=i[6]&&Oe(i);function j(c,g){return c[4]?at:c[2].length===0?st:lt}let w=j(i),p=w(i);return{c(){e=v("div"),l=v("div"),l.innerHTML=t,n=N(),r=v("div"),o=v("button"),o.textContent=s,u=N(),I&&I.c(),f=N(),p.c(),this.h()},l(c){e=_(c,"DIV",{class:!0});var g=E(e);l=_(g,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-39vbqo"&&(l.innerHTML=t),n=V(g),r=_(g,"DIV",{class:!0});var P=E(r);o=_(P,"BUTTON",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-ri2cai"&&(o.textContent=s),P.forEach(d),u=V(g),I&&I.l(g),f=V(g),p.l(g),g.forEach(d),this.h()},h(){m(l,"class","hero svelte-1coiu4v"),m(o,"class","btn btn-secondary svelte-1coiu4v"),m(r,"class","controls svelte-1coiu4v"),m(e,"class","container svelte-1coiu4v")},m(c,g){O(c,e,g),a(e,l),a(e,n),a(e,r),a(r,o),a(e,u),I&&I.m(e,null),a(e,f),p.m(e,null),h||(C=Qe(o,"click",i[9]),h=!0)},p(c,[g]){c[6]?I?I.p(c,g):(I=Oe(c),I.c(),I.m(e,f)):I&&(I.d(1),I=null),w===(w=j(c))&&p?p.p(c,g):(p.d(1),p=w(c),p&&(p.c(),p.m(e,null)))},i:ce,o:ce,d(c){c&&d(e),I&&I.d(),p.d(),h=!1,C()}}}function ht(i){switch(i){case 1:return 3;case 2:return 2;case 3:return 1;default:return 0}}function gt(i,e,l,t){let n=[],r=null;for(const s of t){let u;try{u=Array.isArray(s.bjcp_category_ids)?s.bjcp_category_ids:JSON.parse(s.bjcp_category_ids)}catch{console.warn("Failed to parse bjcp_category_ids for group:",s.id);continue}if(u.includes(e)){r=s.id;break}}return r?n=l.filter(s=>s.entry_id===i&&s.ranking_group_id===r):n=l.filter(s=>s.entry_id===i&&s.bjcp_category_id===e),{totalPoints:n.reduce((s,u)=>s+ht(u.rank_position),0),judgeCount:n.length,rankings:n}}function ie(i){switch(i){case"1":return{text:"1st Place",class:"placement-first",medal:"🥇"};case"2":return{text:"2nd Place",class:"placement-second",medal:"🥈"};case"3":return{text:"3rd Place",class:"placement-third",medal:"🥉"};case"HM":return{text:"Honorable Mention",class:"placement-hm",medal:"🏅"};default:return{text:"No Placement",class:"placement-none",medal:""}}}function bt(i){const e=i.reduce((l,t)=>{const n=t.display_group;return l[n]||(l[n]=[]),l[n].push(t),l},{});return Object.keys(e).forEach(l=>{const t=e[l];if(t.some(r=>r.ranking_points>0)){t.sort((s,u)=>u.ranking_points!==s.ranking_points?u.ranking_points-s.ranking_points:(u.score||0)-(s.score||0));let r=1,o=null;t.forEach((s,u)=>{o!==null&&s.ranking_points<o&&(r=u+1),s.ranking_points>0?r===1?s.calculated_placement="1":r===2?s.calculated_placement="2":r===3?s.calculated_placement="3":r<=6?s.calculated_placement="HM":s.calculated_placement="":s.calculated_placement="",o=s.ranking_points})}else{t.sort((s,u)=>(u.score||0)-(s.score||0));let r=1,o=null;t.forEach((s,u)=>{const f=s.score||0;o!==null&&f<o&&(r=u+1),f>0?r===1?s.calculated_placement="1":r===2?s.calculated_placement="2":r===3?s.calculated_placement="3":r<=6?s.calculated_placement="HM":s.calculated_placement="":s.calculated_placement="",o=f})}}),e}function Ye(i){if(!i)return"No date set";try{let e=i;i.includes(" ")&&!i.includes("T")&&(e=i.replace(" ","T"),!e.includes("+")&&!e.includes("Z")&&(e+="Z"));const l=new Date(e);return isNaN(l.getTime())?(console.warn("Invalid date after parsing:",i,"->",e),"Invalid Date"):l.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(e){return console.warn("Error formatting date:",i,e),"Invalid Date"}}function kt(i,e,l){let t,n,r=[],o=null,s=[],u=!0,f=!1,h=null;Xe(()=>{C()}),$e(()=>{});async function C(){l(4,u=!0),l(6,h=null);try{console.log("Loading published competitions...");const{data:p,error:c}=await me.from("competitions").select("*").eq("results_published",!0).order("judging_date",{ascending:!1});if(c)throw c;l(2,r=p||[]),console.log("Loaded",r.length,"published competitions"),r.length>0&&(l(3,o=r[0]),await j(r[0]))}catch(p){console.error("Error loading competitions:",p),l(6,h=p.message||"Failed to load competitions")}finally{l(4,u=!1)}}async function I(p){const c=p.target.value;if(!c){l(3,o=null),l(0,s=[]);return}const g=r.find(P=>P.id===c);g&&(l(3,o=g),await j(g))}async function j(p){l(5,f=!0),l(6,h=null);try{console.log("Loading results for competition:",p.name);const{data:c,error:g}=await me.from("competition_results").select("id, competition_id, entry_id, score, placement, created_at, updated_at").eq("competition_id",p.id);if(g)throw g;if(!c||c.length===0){l(0,s=[]);return}const P=c.map(U=>U.entry_id),{data:k,error:y}=await me.from("competition_entries").select("*").in("id",P);if(y)throw y;const b=[...new Set(k.map(U=>U.member_id))],{data:R}=await me.from("members").select("id, name").in("id",b),x=[...new Set(k.map(U=>U.bjcp_category_id).filter(Boolean))],{data:F}=await me.from("bjcp_categories").select("id, category_name, category_number, subcategory_letter, subcategory_name").in("id",x);let H=[];if(p.category_system==="custom"){const{data:U,error:S}=await me.from("competition_ranking_groups").select("*").eq("competition_id",p.id).order("group_order");S||(H=U||[])}const{data:G,error:se}=await me.from("competition_rankings").select(`
          *,
          entry:competition_entries!inner(id, entry_number, beer_name),
          judge:members!competition_rankings_judge_id_fkey(id, name),
          category:bjcp_categories(category_name, category_number, subcategory_letter),
          ranking_group:competition_ranking_groups(id, group_name, group_description)
        `).eq("competition_id",p.id).order("bjcp_category_id").order("rank_position"),B=G||[];l(0,s=c.map(U=>{const S=k.find(D=>D.id===U.entry_id),J=R==null?void 0:R.find(D=>D.id===(S==null?void 0:S.member_id)),M=F==null?void 0:F.find(D=>D.id===(S==null?void 0:S.bjcp_category_id)),z=M?`${M.category_number}${M.subcategory_letter||""} - ${M.category_name}`:"Unknown Category";let Y=null;if(H.length>0&&(S!=null&&S.bjcp_category_id)){const D=H.find(te=>te.bjcp_category_ids.includes(S.bjcp_category_id));Y=(D==null?void 0:D.group_name)||null}const T=S!=null&&S.bjcp_category_id?gt(S.id,S.bjcp_category_id,B,H):{totalPoints:0,judgeCount:0,rankings:[]};return{...U,entry_number:(S==null?void 0:S.entry_number)||"N/A",beer_name:(S==null?void 0:S.beer_name)||"Unknown Beer",member_name:(J==null?void 0:J.name)||"Unknown Member",category_display:z,ranking_group_name:Y,display_group:Y||z,category_number:(M==null?void 0:M.category_number)||"",subcategory_letter:(M==null?void 0:M.subcategory_letter)||"",ranking_points:T.totalPoints,judge_count:T.judgeCount}})),console.log("Loaded",s.length,"results")}catch(c){console.error("Error loading results:",c),l(6,h=c.message||"Failed to load results")}finally{l(5,f=!1)}}function w(){tt("/competitions")}return i.$$.update=()=>{i.$$.dirty&1&&l(1,t=bt(s)),i.$$.dirty&3&&l(7,n={totalEntries:s.length,placedEntries:s.filter(p=>p.calculated_placement&&p.calculated_placement!=="").length,categories:Object.keys(t).length,averageScore:s.length>0?Math.round(s.reduce((p,c)=>p+(c.score||0),0)/s.length*10)/10:0})},[s,t,r,o,u,f,h,n,I,w]}class Pt extends xe{constructor(e){super(),et(this,e,kt,mt,We,{})}}export{Pt as component};
