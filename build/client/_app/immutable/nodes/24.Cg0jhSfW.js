import{l as vt,s as Yt,n as lt,d as u,i as Ce,q as n,c as i,e as v,g as C,F as rt,h as r,j as D,k as Ge,C as Kt,D as Qt,r as ot,a as le,b as t,w as ye,J as Mt,B as P,f as F,t as Z,H as Be,E as jt,G as it,I as Tt,x as It,K as kt}from"../chunks/hctCtYiR.js";import{e as et}from"../chunks/CnSxDlF_.js";import{S as Wt,i as Xt}from"../chunks/Cq-BpkVh.js";import{g as xt}from"../chunks/Dye7roNo.js";import{u as gt}from"../chunks/B_6LiPh4.js";import{d as yt,w as nt}from"../chunks/CqQ9cAWI.js";import{s as dt}from"../chunks/CCM_4jRA.js";const $e=nt([]),at=nt(!1),xe=nt(null),Vt=nt(null),Ct=nt(""),Dt=nt("all"),Et=nt("all"),$t=yt([$e,Ct,Dt,Et],([l,e,s,a])=>{if(!l||l.length===0)return[];let o=l;if(e.trim()){const m=e.toLowerCase().trim();o=o.filter(d=>{var f,_,b;return((f=d.name)==null?void 0:f.toLowerCase().includes(m))||((_=d.email)==null?void 0:_.toLowerCase().includes(m))||((b=d.role_display)==null?void 0:b.toLowerCase().includes(m))})}if(s!=="all"&&(o=o.filter(m=>m.role===s)),a!=="all"){const m=new Date;m.setDate(m.getDate()-90),o=o.filter(d=>{const f=b=>{if(!b)return new Date(0);try{let c=b;return b.includes(" ")&&!b.includes("T")&&(c=b.replace(" ","T"),!c.includes("+")&&!c.includes("Z")&&(c+="Z")),new Date(c)}catch{return new Date(0)}},_=d.last_submission_date?f(d.last_submission_date):f(d.created_at);return a==="active"?_>=m:a==="inactive"?_<m:!0})}return o}),el=yt([$e],([l])=>{if(!l||l.length===0)return{totalMembers:0,totalOfficers:0,activeMembers:0,inactiveMembers:0,totalPoints:0,avgPointsPerMember:0};const e=new Date;e.setDate(e.getDate()-90);const s=l.reduce((a,o)=>{a.totalMembers++,o.is_officer&&a.totalOfficers++;const m=f=>{if(!f)return new Date(0);try{let _=f;return f.includes(" ")&&!f.includes("T")&&(_=f.replace(" ","T"),!_.includes("+")&&!_.includes("Z")&&(_+="Z")),new Date(_)}catch{return new Date(0)}};return(o.last_submission_date?m(o.last_submission_date):m(o.created_at))>=e?a.activeMembers++:a.inactiveMembers++,a.totalPoints+=o.total_points||0,a},{totalMembers:0,totalOfficers:0,activeMembers:0,inactiveMembers:0,totalPoints:0});return s.avgPointsPerMember=s.totalMembers>0?Math.round(s.totalPoints/s.totalMembers):0,s}),tl=yt([gt],([l])=>l?l.role==="president"||l.role==="vice_president":!1),Ye={async loadMembers(l=!1){const e=vt($e),s=vt(Vt);if(!l&&e.length>0&&s&&Date.now()-s<3e4)return e;at.set(!0),xe.set(null);try{console.log("üîÑ Loading members with points...");const{data:a,error:o}=await dt.rpc("get_members_with_points");if(o)throw o;return console.log(`‚úÖ Loaded ${(a==null?void 0:a.length)||0} members`),$e.set(a||[]),Vt.set(Date.now()),a||[]}catch(a){return console.error("‚ùå Error loading members:",a),xe.set(a.message||"Failed to load members"),[]}finally{at.set(!1)}},async updateMemberRole(l,e){const s=vt(gt);if(!s||!["president","vice_president"].includes(s.role))throw new Error("Insufficient permissions to manage member roles");if(s.id===l&&s.role==="president"&&e!=="president")throw new Error("Presidents cannot demote themselves");if(e==="president"&&s.role!=="president")throw new Error("Only presidents can promote members to president");at.set(!0),xe.set(null);try{console.log(`üîÑ Updating member ${l} role to ${e}...`);const o=["officer","competition_director","vice_president","president"].includes(e),{data:m,error:d}=await dt.from("members").update({role:e,is_officer:o}).eq("id",l).select();if(d)throw d;return console.log("‚úÖ Member role updated successfully"),await this.loadMembers(!0),m}catch(a){throw console.error("‚ùå Error updating member role:",a),xe.set(a.message||"Failed to update member role"),a}finally{at.set(!1)}},async getMemberDetails(l){at.set(!0),xe.set(null);try{console.log(`üîÑ Loading details for member ${l}...`);const{data:e,error:s}=await dt.from("members").select(`
          *,
          join_date
        `).eq("id",l).single();if(s)throw s;const{data:a,error:o}=await dt.from("point_submissions").select(`
          *,
          submitted_at
        `).eq("member_id",l).order("submitted_at",{ascending:!1}).limit(10);if(o)throw o;return console.log(`‚úÖ Loaded member details with ${(a==null?void 0:a.length)||0} recent submissions`),{member:e,recentSubmissions:a||[]}}catch(e){throw console.error("‚ùå Error loading member details:",e),xe.set(e.message||"Failed to load member details"),e}finally{at.set(!1)}},async exportMembersData(){return vt($e).length===0&&await this.loadMembers(),vt($e).map(s=>({name:s.name,email:s.email,role:s.role_display,totalPoints:s.total_points,monthlyPoints:s.monthly_points,joinDate:(()=>{if(!s.created_at)return"N/A";try{let a=s.created_at;return s.created_at.includes(" ")&&!s.created_at.includes("T")&&(a=s.created_at.replace(" ","T"),!a.includes("+")&&!a.includes("Z")&&(a+="Z")),new Date(a).toLocaleDateString()}catch{return"Invalid Date"}})(),lastActivity:s.last_submission_date?(()=>{try{let a=s.last_submission_date;return s.last_submission_date.includes(" ")&&!s.last_submission_date.includes("T")&&(a=s.last_submission_date.replace(" ","T"),!a.includes("+")&&!a.includes("Z")&&(a+="Z")),new Date(a).toLocaleDateString()}catch{return"Invalid Date"}})():"Never",totalSubmissions:s.total_approved_submissions}))},resetFilters(){Ct.set(""),Dt.set("all"),Et.set("all")},async refresh(){return await this.loadMembers(!0)},clear(){$e.set([]),xe.set(null),Vt.set(null),this.resetFilters()}};gt.subscribe(l=>{l!=null&&l.is_officer?Ye.loadMembers():Ye.clear()});function Nt(l,e,s){const a=l.slice();return a[62]=e[s],a}function At(l,e,s){const a=l.slice();return a[65]=e[s],a}function Pt(l,e,s){const a=l.slice();return a[68]=e[s],a}function Ot(l,e,s){const a=l.slice();return a[68]=e[s],a}function ll(l){let e,s='<h1 class="svelte-397fju">üë• MANAGE MEMBERS</h1> <p class="subtitle svelte-397fju">View and manage club members, their roles, activity, and point standings</p>',a,o;function m(_,b){return _[17]&&_[18].length===0?il:_[19]?nl:al}let d=m(l),f=d(l);return{c(){e=r("div"),e.innerHTML=s,a=D(),f.c(),o=rt(),this.h()},l(_){e=i(_,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-abucie"&&(e.innerHTML=s),a=C(_),f.l(_),o=rt(),this.h()},h(){n(e,"class","hero-section svelte-397fju")},m(_,b){Ce(_,e,b),Ce(_,a,b),f.m(_,b),Ce(_,o,b)},p(_,b){d===(d=m(_))&&f?f.p(_,b):(f.d(1),f=d(_),f&&(f.c(),f.m(o.parentNode,o)))},d(_){_&&(u(e),u(a),u(o)),f.d(_)}}}function sl(l){let e,s='<div class="empty-icon svelte-397fju">üîí</div> <h3 class="svelte-397fju">Access Denied</h3> <p class="svelte-397fju">You need officer privileges to access this page.</p>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-lxf1z6"&&(e.innerHTML=s),this.h()},h(){n(e,"class","empty-state svelte-397fju")},m(a,o){Ce(a,e,o)},p:lt,d(a){a&&u(e)}}}function al(l){let e,s,a,o=l[20].totalMembers+"",m,d,f,_="Total Members",b,c,h,j=l[20].totalOfficers+"",E,I,T,p="Officers",M,R,Q,J=l[20].activeMembers+"",U,B,O,G="Active (90 days)",W,V,N,se=l[20].avgPointsPerMember+"",ke,z,L,he="Avg Points",pe,me,fe,X,re,De,K,ae,we="üîç",Ve,oe,ne,_e,$="All Roles",H,x="Presidents",S,Ne="Vice Presidents",Ee,k="Competition Directors",Y,Ie="Officers",be,y="Members",A,je,Te,ue="All Activity",Me,Ae="Active (90 days)",ge,w="Inactive (90+ days)",g,ee,ie,ce="üîÑ Reset",te,q,Pe="üìä Export",Se,Re,qe,ze;function Oe(ve,de){return ve[24].length===0&&ve[18].length>0?ul:ve[18].length===0?ol:rl}let Fe=Oe(l),Le=Fe(l);return{c(){e=r("div"),s=r("div"),a=r("div"),m=Z(o),d=D(),f=r("div"),f.textContent=_,b=D(),c=r("div"),h=r("div"),E=Z(j),I=D(),T=r("div"),T.textContent=p,M=D(),R=r("div"),Q=r("div"),U=Z(J),B=D(),O=r("div"),O.textContent=G,W=D(),V=r("div"),N=r("div"),ke=Z(se),z=D(),L=r("div"),L.textContent=he,pe=D(),me=r("div"),fe=r("div"),X=r("div"),re=r("div"),De=r("input"),K=D(),ae=r("span"),ae.textContent=we,Ve=D(),oe=r("div"),ne=r("select"),_e=r("option"),_e.textContent=$,H=r("option"),H.textContent=x,S=r("option"),S.textContent=Ne,Ee=r("option"),Ee.textContent=k,Y=r("option"),Y.textContent=Ie,be=r("option"),be.textContent=y,A=D(),je=r("select"),Te=r("option"),Te.textContent=ue,Me=r("option"),Me.textContent=Ae,ge=r("option"),ge.textContent=w,g=D(),ee=r("div"),ie=r("button"),ie.textContent=ce,te=D(),q=r("button"),q.textContent=Pe,Se=D(),Le.c(),Re=rt(),this.h()},l(ve){e=i(ve,"DIV",{class:!0});var de=v(e);s=i(de,"DIV",{class:!0});var He=v(s);a=i(He,"DIV",{class:!0});var Je=v(a);m=F(Je,o),Je.forEach(u),d=C(He),f=i(He,"DIV",{class:!0,"data-svelte-h":!0}),P(f)!=="svelte-1hibunz"&&(f.textContent=_),He.forEach(u),b=C(de),c=i(de,"DIV",{class:!0});var Ue=v(c);h=i(Ue,"DIV",{class:!0});var Xe=v(h);E=F(Xe,j),Xe.forEach(u),I=C(Ue),T=i(Ue,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-f5o8l1"&&(T.textContent=p),Ue.forEach(u),M=C(de),R=i(de,"DIV",{class:!0});var Ze=v(R);Q=i(Ze,"DIV",{class:!0});var ut=v(Q);U=F(ut,J),ut.forEach(u),B=C(Ze),O=i(Ze,"DIV",{class:!0,"data-svelte-h":!0}),P(O)!=="svelte-tr0ren"&&(O.textContent=G),Ze.forEach(u),W=C(de),V=i(de,"DIV",{class:!0});var We=v(V);N=i(We,"DIV",{class:!0});var ct=v(N);ke=F(ct,se),ct.forEach(u),z=C(We),L=i(We,"DIV",{class:!0,"data-svelte-h":!0}),P(L)!=="svelte-17bwv35"&&(L.textContent=he),We.forEach(u),de.forEach(u),pe=C(ve),me=i(ve,"DIV",{class:!0});var wt=v(me);fe=i(wt,"DIV",{class:!0});var ft=v(fe);X=i(ft,"DIV",{class:!0});var _t=v(X);re=i(_t,"DIV",{class:!0});var ht=v(re);De=i(ht,"INPUT",{type:!0,placeholder:!0,class:!0}),K=C(ht),ae=i(ht,"SPAN",{class:!0,"data-svelte-h":!0}),P(ae)!=="svelte-k77c2d"&&(ae.textContent=we),ht.forEach(u),Ve=C(_t),oe=i(_t,"DIV",{class:!0});var pt=v(oe);ne=i(pt,"SELECT",{class:!0});var st=v(ne);_e=i(st,"OPTION",{"data-svelte-h":!0}),P(_e)!=="svelte-1yhiy9v"&&(_e.textContent=$),H=i(st,"OPTION",{"data-svelte-h":!0}),P(H)!=="svelte-xw71ah"&&(H.textContent=x),S=i(st,"OPTION",{"data-svelte-h":!0}),P(S)!=="svelte-1d6zxy4"&&(S.textContent=Ne),Ee=i(st,"OPTION",{"data-svelte-h":!0}),P(Ee)!=="svelte-1396dfq"&&(Ee.textContent=k),Y=i(st,"OPTION",{"data-svelte-h":!0}),P(Y)!=="svelte-1ilnw31"&&(Y.textContent=Ie),be=i(st,"OPTION",{"data-svelte-h":!0}),P(be)!=="svelte-1ytkx31"&&(be.textContent=y),st.forEach(u),A=C(pt),je=i(pt,"SELECT",{class:!0});var mt=v(je);Te=i(mt,"OPTION",{"data-svelte-h":!0}),P(Te)!=="svelte-1owtbcz"&&(Te.textContent=ue),Me=i(mt,"OPTION",{"data-svelte-h":!0}),P(Me)!=="svelte-2zb8tj"&&(Me.textContent=Ae),ge=i(mt,"OPTION",{"data-svelte-h":!0}),P(ge)!=="svelte-1qfbg34"&&(ge.textContent=w),mt.forEach(u),pt.forEach(u),_t.forEach(u),g=C(ft),ee=i(ft,"DIV",{class:!0});var bt=v(ee);ie=i(bt,"BUTTON",{class:!0,"data-svelte-h":!0}),P(ie)!=="svelte-1jwpt44"&&(ie.textContent=ce),te=C(bt),q=i(bt,"BUTTON",{class:!0,"data-svelte-h":!0}),P(q)!=="svelte-1gs4miv"&&(q.textContent=Pe),bt.forEach(u),ft.forEach(u),wt.forEach(u),Se=C(ve),Le.l(ve),Re=rt(),this.h()},h(){n(a,"class","stat-value svelte-397fju"),n(f,"class","stat-label svelte-397fju"),n(s,"class","stat-card orange svelte-397fju"),n(h,"class","stat-value svelte-397fju"),n(T,"class","stat-label svelte-397fju"),n(c,"class","stat-card blue svelte-397fju"),n(Q,"class","stat-value svelte-397fju"),n(O,"class","stat-label svelte-397fju"),n(R,"class","stat-card green svelte-397fju"),n(N,"class","stat-value svelte-397fju"),n(L,"class","stat-label svelte-397fju"),n(V,"class","stat-card red svelte-397fju"),n(e,"class","stats-grid svelte-397fju"),n(De,"type","text"),n(De,"placeholder","Search members..."),n(De,"class","svelte-397fju"),n(ae,"class","search-icon svelte-397fju"),n(re,"class","search-box svelte-397fju"),_e.__value="all",Be(_e,_e.__value),H.__value="president",Be(H,H.__value),S.__value="vice_president",Be(S,S.__value),Ee.__value="competition_director",Be(Ee,Ee.__value),Y.__value="officer",Be(Y,Y.__value),be.__value="member",Be(be,be.__value),n(ne,"class","filter-select svelte-397fju"),l[22]===void 0&&Tt(()=>l[37].call(ne)),Te.__value="all",Be(Te,Te.__value),Me.__value="active",Be(Me,Me.__value),ge.__value="inactive",Be(ge,ge.__value),n(je,"class","filter-select svelte-397fju"),l[23]===void 0&&Tt(()=>l[38].call(je)),n(oe,"class","filters-row svelte-397fju"),n(X,"class","filters-group svelte-397fju"),n(ie,"class","reset-button svelte-397fju"),n(q,"class","export-button svelte-397fju"),n(ee,"class","action-buttons svelte-397fju"),n(fe,"class","controls-container svelte-397fju"),n(me,"class","controls-section svelte-397fju")},m(ve,de){Ce(ve,e,de),t(e,s),t(s,a),t(a,m),t(s,d),t(s,f),t(e,b),t(e,c),t(c,h),t(h,E),t(c,I),t(c,T),t(e,M),t(e,R),t(R,Q),t(Q,U),t(R,B),t(R,O),t(e,W),t(e,V),t(V,N),t(N,ke),t(V,z),t(V,L),Ce(ve,pe,de),Ce(ve,me,de),t(me,fe),t(fe,X),t(X,re),t(re,De),Be(De,l[21]),t(re,K),t(re,ae),t(X,Ve),t(X,oe),t(oe,ne),t(ne,_e),t(ne,H),t(ne,S),t(ne,Ee),t(ne,Y),t(ne,be),it(ne,l[22],!0),t(oe,A),t(oe,je),t(je,Te),t(je,Me),t(je,ge),it(je,l[23],!0),t(fe,g),t(fe,ee),t(ee,ie),t(ee,te),t(ee,q),Ce(ve,Se,de),Le.m(ve,de),Ce(ve,Re,de),qe||(ze=[ye(De,"input",l[36]),ye(ne,"change",l[37]),ye(je,"change",l[38]),ye(ie,"click",l[39]),ye(q,"click",l[30])],qe=!0)},p(ve,de){de[0]&1048576&&o!==(o=ve[20].totalMembers+"")&&le(m,o),de[0]&1048576&&j!==(j=ve[20].totalOfficers+"")&&le(E,j),de[0]&1048576&&J!==(J=ve[20].activeMembers+"")&&le(U,J),de[0]&1048576&&se!==(se=ve[20].avgPointsPerMember+"")&&le(ke,se),de[0]&2097152&&De.value!==ve[21]&&Be(De,ve[21]),de[0]&4194304&&it(ne,ve[22]),de[0]&8388608&&it(je,ve[23]),Fe===(Fe=Oe(ve))&&Le?Le.p(ve,de):(Le.d(1),Le=Fe(ve),Le&&(Le.c(),Le.m(Re.parentNode,Re)))},d(ve){ve&&(u(e),u(pe),u(me),u(Se),u(Re)),Le.d(ve),qe=!1,ot(ze)}}}function nl(l){let e,s,a="‚ùå",o,m,d="Error loading members",f,_,b,c,h,j="üîÑ Try Again",E,I;return{c(){e=r("div"),s=r("div"),s.textContent=a,o=D(),m=r("h3"),m.textContent=d,f=D(),_=r("p"),b=Z(l[19]),c=D(),h=r("button"),h.textContent=j,this.h()},l(T){e=i(T,"DIV",{class:!0});var p=v(e);s=i(p,"DIV",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-7ohcvp"&&(s.textContent=a),o=C(p),m=i(p,"H3",{class:!0,"data-svelte-h":!0}),P(m)!=="svelte-xtu8dh"&&(m.textContent=d),f=C(p),_=i(p,"P",{class:!0});var M=v(_);b=F(M,l[19]),M.forEach(u),c=C(p),h=i(p,"BUTTON",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-12rptnw"&&(h.textContent=j),p.forEach(u),this.h()},h(){n(s,"class","error-icon svelte-397fju"),n(m,"class","svelte-397fju"),n(_,"class","svelte-397fju"),n(h,"class","retry-button svelte-397fju"),n(e,"class","error-state svelte-397fju")},m(T,p){Ce(T,e,p),t(e,s),t(e,o),t(e,m),t(e,f),t(e,_),t(_,b),t(e,c),t(e,h),E||(I=ye(h,"click",l[35]),E=!0)},p(T,p){p[0]&524288&&le(b,T[19])},d(T){T&&u(e),E=!1,I()}}}function il(l){let e,s='<div class="spinner svelte-397fju"></div> <p>Loading members...</p>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1omf28m"&&(e.innerHTML=s),this.h()},h(){n(e,"class","loading-state svelte-397fju")},m(a,o){Ce(a,e,o)},p:lt,d(a){a&&u(e)}}}function rl(l){let e,s,a,o,m='<tr class="svelte-397fju"><th class="svelte-397fju">Member</th> <th class="svelte-397fju">Role</th> <th class="svelte-397fju">Points</th> <th class="svelte-397fju">Activity</th> <th class="svelte-397fju">Joined</th> <th class="svelte-397fju">Actions</th></tr>',d,f,_,b,c=et(l[24]),h=[];for(let I=0;I<c.length;I+=1)h[I]=St(Ot(l,c,I));let j=et(l[24]),E=[];for(let I=0;I<j.length;I+=1)E[I]=Ut(Pt(l,j,I));return{c(){e=r("div"),s=r("div"),a=r("table"),o=r("thead"),o.innerHTML=m,d=D(),f=r("tbody");for(let I=0;I<h.length;I+=1)h[I].c();_=D(),b=r("div");for(let I=0;I<E.length;I+=1)E[I].c();this.h()},l(I){e=i(I,"DIV",{class:!0});var T=v(e);s=i(T,"DIV",{class:!0});var p=v(s);a=i(p,"TABLE",{class:!0});var M=v(a);o=i(M,"THEAD",{"data-svelte-h":!0}),P(o)!=="svelte-lp0521"&&(o.innerHTML=m),d=C(M),f=i(M,"TBODY",{});var R=v(f);for(let J=0;J<h.length;J+=1)h[J].l(R);R.forEach(u),M.forEach(u),p.forEach(u),_=C(T),b=i(T,"DIV",{class:!0});var Q=v(b);for(let J=0;J<E.length;J+=1)E[J].l(Q);Q.forEach(u),T.forEach(u),this.h()},h(){n(a,"class","members-table svelte-397fju"),n(s,"class","desktop-table svelte-397fju"),n(b,"class","mobile-cards svelte-397fju"),n(e,"class","members-container svelte-397fju")},m(I,T){Ce(I,e,T),t(e,s),t(s,a),t(a,o),t(a,d),t(a,f);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(f,null);t(e,_),t(e,b);for(let p=0;p<E.length;p+=1)E[p]&&E[p].m(b,null)},p(I,T){if(T[0]&251691009){c=et(I[24]);let p;for(p=0;p<c.length;p+=1){const M=Ot(I,c,p);h[p]?h[p].p(M,T):(h[p]=St(M),h[p].c(),h[p].m(f,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=c.length}if(T[0]&251691009){j=et(I[24]);let p;for(p=0;p<j.length;p+=1){const M=Pt(I,j,p);E[p]?E[p].p(M,T):(E[p]=Ut(M),E[p].c(),E[p].m(b,null))}for(;p<E.length;p+=1)E[p].d(1);E.length=j.length}},d(I){I&&u(e),jt(h,I),jt(E,I)}}}function ol(l){let e,s='<div class="empty-icon svelte-397fju">üë•</div> <h3 class="svelte-397fju">No members yet</h3> <p class="svelte-397fju">Members will appear here once they join the club</p>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-8opyo5"&&(e.innerHTML=s),this.h()},h(){n(e,"class","empty-state svelte-397fju")},m(a,o){Ce(a,e,o)},p:lt,d(a){a&&u(e)}}}function ul(l){let e,s,a="üîç",o,m,d="No members found",f,_,b="Try adjusting your search or filter criteria",c,h,j="Clear Filters",E,I;return{c(){e=r("div"),s=r("div"),s.textContent=a,o=D(),m=r("h3"),m.textContent=d,f=D(),_=r("p"),_.textContent=b,c=D(),h=r("button"),h.textContent=j,this.h()},l(T){e=i(T,"DIV",{class:!0});var p=v(e);s=i(p,"DIV",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-c8icig"&&(s.textContent=a),o=C(p),m=i(p,"H3",{class:!0,"data-svelte-h":!0}),P(m)!=="svelte-1aaoeos"&&(m.textContent=d),f=C(p),_=i(p,"P",{class:!0,"data-svelte-h":!0}),P(_)!=="svelte-15rphpb"&&(_.textContent=b),c=C(p),h=i(p,"BUTTON",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-yjvxzg"&&(h.textContent=j),p.forEach(u),this.h()},h(){n(s,"class","empty-icon svelte-397fju"),n(m,"class","svelte-397fju"),n(_,"class","svelte-397fju"),n(h,"class","clear-filters-button svelte-397fju"),n(e,"class","empty-state svelte-397fju")},m(T,p){Ce(T,e,p),t(e,s),t(e,o),t(e,m),t(e,f),t(e,_),t(e,c),t(e,h),E||(I=ye(h,"click",l[40]),E=!0)},p:lt,d(T){T&&u(e),E=!1,I()}}}function Lt(l){let e,s="‚úèÔ∏è Edit",a,o,m="‚ö° Manage Role",d,f;function _(){return l[42](l[68])}function b(){return l[43](l[68])}return{c(){e=r("button"),e.textContent=s,a=D(),o=r("button"),o.textContent=m,this.h()},l(c){e=i(c,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-xmamfm"&&(e.textContent=s),a=C(c),o=i(c,"BUTTON",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-1c3vnl5"&&(o.textContent=m),this.h()},h(){n(e,"class","edit-button svelte-397fju"),n(o,"class","manage-button svelte-397fju")},m(c,h){Ce(c,e,h),Ce(c,a,h),Ce(c,o,h),d||(f=[ye(e,"click",_),ye(o,"click",b)],d=!0)},p(c,h){l=c},d(c){c&&(u(e),u(a),u(o)),d=!1,ot(f)}}}function St(l){var Me,Ae;let e,s,a,o,m=(((Me=l[68].name)==null?void 0:Me.charAt(0))||"?")+"",d,f,_,b,c=l[68].name+"",h,j,E,I=l[68].email+"",T,p,M,R,Q=Qe(l[68].role)+"",J,U,B,O,G,W,V=l[68].total_points+"",N,se,ke,z,L=l[68].monthly_points+"",he,pe,me,fe,X,re,De=tt(l[68])==="active"?"‚úÖ Active":"üí§ Inactive",K,ae,we,Ve,oe,ne=Ke(l[68].last_submission_date)+"",_e,$,H,x=Ke(l[68].join_date)+"",S,Ne,Ee,k,Y,Ie="üëÅÔ∏è View",be,y,A,je;function Te(){return l[41](l[68])}let ue=l[15]&&l[68].id!==((Ae=l[0])==null?void 0:Ae.id)&&Lt(l);return{c(){e=r("tr"),s=r("td"),a=r("div"),o=r("div"),d=Z(m),f=D(),_=r("div"),b=r("div"),h=Z(c),j=D(),E=r("div"),T=Z(I),p=D(),M=r("td"),R=r("span"),J=Z(Q),B=D(),O=r("td"),G=r("div"),W=r("div"),N=Z(V),se=Z(" total"),ke=D(),z=r("div"),he=Z(L),pe=Z(" this month"),me=D(),fe=r("td"),X=r("div"),re=r("span"),K=Z(De),we=D(),Ve=r("div"),oe=Z("Last: "),_e=Z(ne),$=D(),H=r("td"),S=Z(x),Ne=D(),Ee=r("td"),k=r("div"),Y=r("button"),Y.textContent=Ie,be=D(),ue&&ue.c(),y=D(),this.h()},l(ge){e=i(ge,"TR",{class:!0});var w=v(e);s=i(w,"TD",{class:!0});var g=v(s);a=i(g,"DIV",{class:!0});var ee=v(a);o=i(ee,"DIV",{class:!0});var ie=v(o);d=F(ie,m),ie.forEach(u),f=C(ee),_=i(ee,"DIV",{class:!0});var ce=v(_);b=i(ce,"DIV",{class:!0});var te=v(b);h=F(te,c),te.forEach(u),j=C(ce),E=i(ce,"DIV",{class:!0});var q=v(E);T=F(q,I),q.forEach(u),ce.forEach(u),ee.forEach(u),g.forEach(u),p=C(w),M=i(w,"TD",{class:!0});var Pe=v(M);R=i(Pe,"SPAN",{class:!0});var Se=v(R);J=F(Se,Q),Se.forEach(u),Pe.forEach(u),B=C(w),O=i(w,"TD",{class:!0});var Re=v(O);G=i(Re,"DIV",{class:!0});var qe=v(G);W=i(qe,"DIV",{class:!0});var ze=v(W);N=F(ze,V),se=F(ze," total"),ze.forEach(u),ke=C(qe),z=i(qe,"DIV",{class:!0});var Oe=v(z);he=F(Oe,L),pe=F(Oe," this month"),Oe.forEach(u),qe.forEach(u),Re.forEach(u),me=C(w),fe=i(w,"TD",{class:!0});var Fe=v(fe);X=i(Fe,"DIV",{class:!0});var Le=v(X);re=i(Le,"SPAN",{class:!0});var ve=v(re);K=F(ve,De),ve.forEach(u),we=C(Le),Ve=i(Le,"DIV",{class:!0});var de=v(Ve);oe=F(de,"Last: "),_e=F(de,ne),de.forEach(u),Le.forEach(u),Fe.forEach(u),$=C(w),H=i(w,"TD",{class:!0});var He=v(H);S=F(He,x),He.forEach(u),Ne=C(w),Ee=i(w,"TD",{class:!0});var Je=v(Ee);k=i(Je,"DIV",{class:!0});var Ue=v(k);Y=i(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),P(Y)!=="svelte-1sz26si"&&(Y.textContent=Ie),be=C(Ue),ue&&ue.l(Ue),Ue.forEach(u),Je.forEach(u),y=C(w),w.forEach(u),this.h()},h(){n(o,"class","member-avatar svelte-397fju"),n(b,"class","member-name svelte-397fju"),n(E,"class","member-email svelte-397fju"),n(_,"class","member-details svelte-397fju"),n(a,"class","member-info svelte-397fju"),n(s,"class","svelte-397fju"),n(R,"class",U="role-badge "+l[68].role+" svelte-397fju"),n(M,"class","svelte-397fju"),n(W,"class","total-points svelte-397fju"),n(z,"class","monthly-points svelte-397fju"),n(G,"class","points-info svelte-397fju"),n(O,"class","svelte-397fju"),n(re,"class",ae="activity-badge "+tt(l[68])+" svelte-397fju"),n(Ve,"class","last-activity svelte-397fju"),n(X,"class","activity-info svelte-397fju"),n(fe,"class","svelte-397fju"),n(H,"class","join-date svelte-397fju"),n(Y,"class","view-button svelte-397fju"),n(k,"class","action-buttons-cell svelte-397fju"),n(Ee,"class","svelte-397fju"),n(e,"class","svelte-397fju")},m(ge,w){Ce(ge,e,w),t(e,s),t(s,a),t(a,o),t(o,d),t(a,f),t(a,_),t(_,b),t(b,h),t(_,j),t(_,E),t(E,T),t(e,p),t(e,M),t(M,R),t(R,J),t(e,B),t(e,O),t(O,G),t(G,W),t(W,N),t(W,se),t(G,ke),t(G,z),t(z,he),t(z,pe),t(e,me),t(e,fe),t(fe,X),t(X,re),t(re,K),t(X,we),t(X,Ve),t(Ve,oe),t(Ve,_e),t(e,$),t(e,H),t(H,S),t(e,Ne),t(e,Ee),t(Ee,k),t(k,Y),t(k,be),ue&&ue.m(k,null),t(e,y),A||(je=ye(Y,"click",Te),A=!0)},p(ge,w){var g,ee;l=ge,w[0]&16777216&&m!==(m=(((g=l[68].name)==null?void 0:g.charAt(0))||"?")+"")&&le(d,m),w[0]&16777216&&c!==(c=l[68].name+"")&&le(h,c),w[0]&16777216&&I!==(I=l[68].email+"")&&le(T,I),w[0]&16777216&&Q!==(Q=Qe(l[68].role)+"")&&le(J,Q),w[0]&16777216&&U!==(U="role-badge "+l[68].role+" svelte-397fju")&&n(R,"class",U),w[0]&16777216&&V!==(V=l[68].total_points+"")&&le(N,V),w[0]&16777216&&L!==(L=l[68].monthly_points+"")&&le(he,L),w[0]&16777216&&De!==(De=tt(l[68])==="active"?"‚úÖ Active":"üí§ Inactive")&&le(K,De),w[0]&16777216&&ae!==(ae="activity-badge "+tt(l[68])+" svelte-397fju")&&n(re,"class",ae),w[0]&16777216&&ne!==(ne=Ke(l[68].last_submission_date)+"")&&le(_e,ne),w[0]&16777216&&x!==(x=Ke(l[68].join_date)+"")&&le(S,x),l[15]&&l[68].id!==((ee=l[0])==null?void 0:ee.id)?ue?ue.p(l,w):(ue=Lt(l),ue.c(),ue.m(k,null)):ue&&(ue.d(1),ue=null)},d(ge){ge&&u(e),ue&&ue.d(),A=!1,je()}}}function Rt(l){let e,s="‚úèÔ∏è Edit",a,o,m="‚ö° Manage Role",d,f;function _(){return l[45](l[68])}function b(){return l[46](l[68])}return{c(){e=r("button"),e.textContent=s,a=D(),o=r("button"),o.textContent=m,this.h()},l(c){e=i(c,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-16diln"&&(e.textContent=s),a=C(c),o=i(c,"BUTTON",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-13uun4"&&(o.textContent=m),this.h()},h(){n(e,"class","edit-button-mobile svelte-397fju"),n(o,"class","manage-button-mobile svelte-397fju")},m(c,h){Ce(c,e,h),Ce(c,a,h),Ce(c,o,h),d||(f=[ye(e,"click",_),ye(o,"click",b)],d=!0)},p(c,h){l=c},d(c){c&&(u(e),u(a),u(o)),d=!1,ot(f)}}}function Ut(l){var g,ee;let e,s,a,o,m=(((g=l[68].name)==null?void 0:g.charAt(0))||"?")+"",d,f,_,b,c=l[68].name+"",h,j,E,I=l[68].email+"",T,p,M,R=Qe(l[68].role)+"",Q,J,U,B,O,G,W="Total Points",V,N,se=l[68].total_points+"",ke,z,L,he,pe="Monthly Points",me,fe,X=l[68].monthly_points+"",re,De,K,ae,we="Activity",Ve,oe,ne=tt(l[68])==="active"?"‚úÖ Active":"üí§ Inactive",_e,$,H,x,S,Ne="Joined",Ee,k,Y=Ke(l[68].join_date)+"",Ie,be,y,A,je="üëÅÔ∏è View Details",Te,ue,Me,Ae;function ge(){return l[44](l[68])}let w=l[15]&&l[68].id!==((ee=l[0])==null?void 0:ee.id)&&Rt(l);return{c(){e=r("div"),s=r("div"),a=r("div"),o=r("div"),d=Z(m),f=D(),_=r("div"),b=r("div"),h=Z(c),j=D(),E=r("div"),T=Z(I),p=D(),M=r("span"),Q=Z(R),U=D(),B=r("div"),O=r("div"),G=r("span"),G.textContent=W,V=D(),N=r("span"),ke=Z(se),z=D(),L=r("div"),he=r("span"),he.textContent=pe,me=D(),fe=r("span"),re=Z(X),De=D(),K=r("div"),ae=r("span"),ae.textContent=we,Ve=D(),oe=r("span"),_e=Z(ne),H=D(),x=r("div"),S=r("span"),S.textContent=Ne,Ee=D(),k=r("span"),Ie=Z(Y),be=D(),y=r("div"),A=r("button"),A.textContent=je,Te=D(),w&&w.c(),ue=D(),this.h()},l(ie){e=i(ie,"DIV",{class:!0});var ce=v(e);s=i(ce,"DIV",{class:!0});var te=v(s);a=i(te,"DIV",{class:!0});var q=v(a);o=i(q,"DIV",{class:!0});var Pe=v(o);d=F(Pe,m),Pe.forEach(u),f=C(q),_=i(q,"DIV",{class:!0});var Se=v(_);b=i(Se,"DIV",{class:!0});var Re=v(b);h=F(Re,c),Re.forEach(u),j=C(Se),E=i(Se,"DIV",{class:!0});var qe=v(E);T=F(qe,I),qe.forEach(u),Se.forEach(u),q.forEach(u),p=C(te),M=i(te,"SPAN",{class:!0});var ze=v(M);Q=F(ze,R),ze.forEach(u),te.forEach(u),U=C(ce),B=i(ce,"DIV",{class:!0});var Oe=v(B);O=i(Oe,"DIV",{class:!0});var Fe=v(O);G=i(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),P(G)!=="svelte-1a7g9it"&&(G.textContent=W),V=C(Fe),N=i(Fe,"SPAN",{class:!0});var Le=v(N);ke=F(Le,se),Le.forEach(u),Fe.forEach(u),z=C(Oe),L=i(Oe,"DIV",{class:!0});var ve=v(L);he=i(ve,"SPAN",{class:!0,"data-svelte-h":!0}),P(he)!=="svelte-1sei53m"&&(he.textContent=pe),me=C(ve),fe=i(ve,"SPAN",{class:!0});var de=v(fe);re=F(de,X),de.forEach(u),ve.forEach(u),De=C(Oe),K=i(Oe,"DIV",{class:!0});var He=v(K);ae=i(He,"SPAN",{class:!0,"data-svelte-h":!0}),P(ae)!=="svelte-1uiknbp"&&(ae.textContent=we),Ve=C(He),oe=i(He,"SPAN",{class:!0});var Je=v(oe);_e=F(Je,ne),Je.forEach(u),He.forEach(u),H=C(Oe),x=i(Oe,"DIV",{class:!0});var Ue=v(x);S=i(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),P(S)!=="svelte-5capsd"&&(S.textContent=Ne),Ee=C(Ue),k=i(Ue,"SPAN",{class:!0});var Xe=v(k);Ie=F(Xe,Y),Xe.forEach(u),Ue.forEach(u),Oe.forEach(u),be=C(ce),y=i(ce,"DIV",{class:!0});var Ze=v(y);A=i(Ze,"BUTTON",{class:!0,"data-svelte-h":!0}),P(A)!=="svelte-ytkdkd"&&(A.textContent=je),Te=C(Ze),w&&w.l(Ze),Ze.forEach(u),ue=C(ce),ce.forEach(u),this.h()},h(){n(o,"class","member-avatar svelte-397fju"),n(b,"class","member-name svelte-397fju"),n(E,"class","member-email svelte-397fju"),n(_,"class","member-details svelte-397fju"),n(a,"class","member-info svelte-397fju"),n(M,"class",J="role-badge "+l[68].role+" svelte-397fju"),n(s,"class","card-header svelte-397fju"),n(G,"class","stat-label svelte-397fju"),n(N,"class","stat-value svelte-397fju"),n(O,"class","stat-item svelte-397fju"),n(he,"class","stat-label svelte-397fju"),n(fe,"class","stat-value svelte-397fju"),n(L,"class","stat-item svelte-397fju"),n(ae,"class","stat-label svelte-397fju"),n(oe,"class",$="activity-badge "+tt(l[68])+" svelte-397fju"),n(K,"class","stat-item svelte-397fju"),n(S,"class","stat-label svelte-397fju"),n(k,"class","stat-value svelte-397fju"),n(x,"class","stat-item svelte-397fju"),n(B,"class","card-stats svelte-397fju"),n(A,"class","view-button-mobile svelte-397fju"),n(y,"class","card-actions svelte-397fju"),n(e,"class","member-card svelte-397fju")},m(ie,ce){Ce(ie,e,ce),t(e,s),t(s,a),t(a,o),t(o,d),t(a,f),t(a,_),t(_,b),t(b,h),t(_,j),t(_,E),t(E,T),t(s,p),t(s,M),t(M,Q),t(e,U),t(e,B),t(B,O),t(O,G),t(O,V),t(O,N),t(N,ke),t(B,z),t(B,L),t(L,he),t(L,me),t(L,fe),t(fe,re),t(B,De),t(B,K),t(K,ae),t(K,Ve),t(K,oe),t(oe,_e),t(B,H),t(B,x),t(x,S),t(x,Ee),t(x,k),t(k,Ie),t(e,be),t(e,y),t(y,A),t(y,Te),w&&w.m(y,null),t(e,ue),Me||(Ae=ye(A,"click",ge),Me=!0)},p(ie,ce){var te,q;l=ie,ce[0]&16777216&&m!==(m=(((te=l[68].name)==null?void 0:te.charAt(0))||"?")+"")&&le(d,m),ce[0]&16777216&&c!==(c=l[68].name+"")&&le(h,c),ce[0]&16777216&&I!==(I=l[68].email+"")&&le(T,I),ce[0]&16777216&&R!==(R=Qe(l[68].role)+"")&&le(Q,R),ce[0]&16777216&&J!==(J="role-badge "+l[68].role+" svelte-397fju")&&n(M,"class",J),ce[0]&16777216&&se!==(se=l[68].total_points+"")&&le(ke,se),ce[0]&16777216&&X!==(X=l[68].monthly_points+"")&&le(re,X),ce[0]&16777216&&ne!==(ne=tt(l[68])==="active"?"‚úÖ Active":"üí§ Inactive")&&le(_e,ne),ce[0]&16777216&&$!==($="activity-badge "+tt(l[68])+" svelte-397fju")&&n(oe,"class",$),ce[0]&16777216&&Y!==(Y=Ke(l[68].join_date)+"")&&le(Ie,Y),l[15]&&l[68].id!==((q=l[0])==null?void 0:q.id)?w?w.p(l,ce):(w=Rt(l),w.c(),w.m(y,null)):w&&(w.d(1),w=null)},d(ie){ie&&u(e),w&&w.d(),Me=!1,Ae()}}}function Bt(l){var ce;let e,s,a,o,m="Member Details",d,f,_="‚úï",b,c,h,j,E=(((ce=l[1].name)==null?void 0:ce.charAt(0))||"?")+"",I,T,p,M,R=l[1].name+"",Q,J,U,B=l[1].email+"",O,G,W,V=Qe(l[1].role)+"",N,se,ke,z,L,he,pe=l[1].total_points+"",me,fe,X,re="Total Points",De,K,ae,we=l[1].monthly_points+"",Ve,oe,ne,_e="Monthly Points",$,H,x,S=l[1].total_approved_submissions+"",Ne,Ee,k,Y="Submissions",Ie,be,y,A=Ke(l[1].last_submission_date).split(",")[0]+"",je,Te,ue,Me="Last Activity",Ae,ge,w;function g(te,q){var Pe;if(te[12])return vl;if((Pe=te[11])!=null&&Pe.recentSubmissions)return cl}let ee=g(l),ie=ee&&ee(l);return{c(){e=r("div"),s=r("div"),a=r("div"),o=r("h2"),o.textContent=m,d=D(),f=r("button"),f.textContent=_,b=D(),c=r("div"),h=r("div"),j=r("div"),I=Z(E),T=D(),p=r("div"),M=r("h3"),Q=Z(R),J=D(),U=r("p"),O=Z(B),G=D(),W=r("span"),N=Z(V),ke=D(),z=r("div"),L=r("div"),he=r("div"),me=Z(pe),fe=D(),X=r("div"),X.textContent=re,De=D(),K=r("div"),ae=r("div"),Ve=Z(we),oe=D(),ne=r("div"),ne.textContent=_e,$=D(),H=r("div"),x=r("div"),Ne=Z(S),Ee=D(),k=r("div"),k.textContent=Y,Ie=D(),be=r("div"),y=r("div"),je=Z(A),Te=D(),ue=r("div"),ue.textContent=Me,Ae=D(),ie&&ie.c(),this.h()},l(te){e=i(te,"DIV",{class:!0});var q=v(e);s=i(q,"DIV",{class:!0});var Pe=v(s);a=i(Pe,"DIV",{class:!0});var Se=v(a);o=i(Se,"H2",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-hvtium"&&(o.textContent=m),d=C(Se),f=i(Se,"BUTTON",{class:!0,"data-svelte-h":!0}),P(f)!=="svelte-bqjhf3"&&(f.textContent=_),Se.forEach(u),b=C(Pe),c=i(Pe,"DIV",{class:!0});var Re=v(c);h=i(Re,"DIV",{class:!0});var qe=v(h);j=i(qe,"DIV",{class:!0});var ze=v(j);I=F(ze,E),ze.forEach(u),T=C(qe),p=i(qe,"DIV",{class:!0});var Oe=v(p);M=i(Oe,"H3",{class:!0});var Fe=v(M);Q=F(Fe,R),Fe.forEach(u),J=C(Oe),U=i(Oe,"P",{class:!0});var Le=v(U);O=F(Le,B),Le.forEach(u),G=C(Oe),W=i(Oe,"SPAN",{class:!0});var ve=v(W);N=F(ve,V),ve.forEach(u),Oe.forEach(u),qe.forEach(u),ke=C(Re),z=i(Re,"DIV",{class:!0});var de=v(z);L=i(de,"DIV",{class:!0});var He=v(L);he=i(He,"DIV",{class:!0});var Je=v(he);me=F(Je,pe),Je.forEach(u),fe=C(He),X=i(He,"DIV",{class:!0,"data-svelte-h":!0}),P(X)!=="svelte-tth6u3"&&(X.textContent=re),He.forEach(u),De=C(de),K=i(de,"DIV",{class:!0});var Ue=v(K);ae=i(Ue,"DIV",{class:!0});var Xe=v(ae);Ve=F(Xe,we),Xe.forEach(u),oe=C(Ue),ne=i(Ue,"DIV",{class:!0,"data-svelte-h":!0}),P(ne)!=="svelte-idraae"&&(ne.textContent=_e),Ue.forEach(u),$=C(de),H=i(de,"DIV",{class:!0});var Ze=v(H);x=i(Ze,"DIV",{class:!0});var ut=v(x);Ne=F(ut,S),ut.forEach(u),Ee=C(Ze),k=i(Ze,"DIV",{class:!0,"data-svelte-h":!0}),P(k)!=="svelte-uqs8r"&&(k.textContent=Y),Ze.forEach(u),Ie=C(de),be=i(de,"DIV",{class:!0});var We=v(be);y=i(We,"DIV",{class:!0});var ct=v(y);je=F(ct,A),ct.forEach(u),Te=C(We),ue=i(We,"DIV",{class:!0,"data-svelte-h":!0}),P(ue)!=="svelte-jwipnv"&&(ue.textContent=Me),We.forEach(u),de.forEach(u),Ae=C(Re),ie&&ie.l(Re),Re.forEach(u),Pe.forEach(u),q.forEach(u),this.h()},h(){n(o,"class","svelte-397fju"),n(f,"class","close-button svelte-397fju"),n(a,"class","modal-header svelte-397fju"),n(j,"class","profile-avatar svelte-397fju"),n(M,"class","svelte-397fju"),n(U,"class","svelte-397fju"),n(W,"class",se="role-badge "+l[1].role+" svelte-397fju"),n(p,"class","profile-info svelte-397fju"),n(h,"class","member-profile svelte-397fju"),n(he,"class","stat-value orange svelte-397fju"),n(X,"class","stat-label svelte-397fju"),n(L,"class","stat-item svelte-397fju"),n(ae,"class","stat-value blue svelte-397fju"),n(ne,"class","stat-label svelte-397fju"),n(K,"class","stat-item svelte-397fju"),n(x,"class","stat-value green svelte-397fju"),n(k,"class","stat-label svelte-397fju"),n(H,"class","stat-item svelte-397fju"),n(y,"class","stat-value red svelte-397fju"),n(ue,"class","stat-label svelte-397fju"),n(be,"class","stat-item svelte-397fju"),n(z,"class","member-stats svelte-397fju"),n(c,"class","modal-body svelte-397fju"),n(s,"class","modal-content svelte-397fju"),n(e,"class","modal-backdrop svelte-397fju")},m(te,q){Ce(te,e,q),t(e,s),t(s,a),t(a,o),t(a,d),t(a,f),t(s,b),t(s,c),t(c,h),t(h,j),t(j,I),t(h,T),t(h,p),t(p,M),t(M,Q),t(p,J),t(p,U),t(U,O),t(p,G),t(p,W),t(W,N),t(c,ke),t(c,z),t(z,L),t(L,he),t(he,me),t(L,fe),t(L,X),t(z,De),t(z,K),t(K,ae),t(ae,Ve),t(K,oe),t(K,ne),t(z,$),t(z,H),t(H,x),t(x,Ne),t(H,Ee),t(H,k),t(z,Ie),t(z,be),t(be,y),t(y,je),t(be,Te),t(be,ue),t(c,Ae),ie&&ie.m(c,null),ge||(w=[ye(f,"click",l[47]),ye(s,"click",Mt(l[34])),ye(e,"click",l[48])],ge=!0)},p(te,q){var Pe;q[0]&2&&E!==(E=(((Pe=te[1].name)==null?void 0:Pe.charAt(0))||"?")+"")&&le(I,E),q[0]&2&&R!==(R=te[1].name+"")&&le(Q,R),q[0]&2&&B!==(B=te[1].email+"")&&le(O,B),q[0]&2&&V!==(V=Qe(te[1].role)+"")&&le(N,V),q[0]&2&&se!==(se="role-badge "+te[1].role+" svelte-397fju")&&n(W,"class",se),q[0]&2&&pe!==(pe=te[1].total_points+"")&&le(me,pe),q[0]&2&&we!==(we=te[1].monthly_points+"")&&le(Ve,we),q[0]&2&&S!==(S=te[1].total_approved_submissions+"")&&le(Ne,S),q[0]&2&&A!==(A=Ke(te[1].last_submission_date).split(",")[0]+"")&&le(je,A),ee===(ee=g(te))&&ie?ie.p(te,q):(ie&&ie.d(1),ie=ee&&ee(te),ie&&(ie.c(),ie.m(c,null)))},d(te){te&&u(e),ie&&ie.d(),ge=!1,ot(w)}}}function cl(l){let e,s,a="Recent Submissions",o;function m(_,b){return _[11].recentSubmissions.length===0?fl:dl}let d=m(l),f=d(l);return{c(){e=r("div"),s=r("h4"),s.textContent=a,o=D(),f.c(),this.h()},l(_){e=i(_,"DIV",{class:!0});var b=v(e);s=i(b,"H4",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-99qph0"&&(s.textContent=a),o=C(b),f.l(b),b.forEach(u),this.h()},h(){n(s,"class","svelte-397fju"),n(e,"class","submissions-section svelte-397fju")},m(_,b){Ce(_,e,b),t(e,s),t(e,o),f.m(e,null)},p(_,b){d===(d=m(_))&&f?f.p(_,b):(f.d(1),f=d(_),f&&(f.c(),f.m(e,null)))},d(_){_&&u(e),f.d()}}}function vl(l){let e,s='<div class="spinner svelte-397fju"></div> <p>Loading details...</p>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1c3xner"&&(e.innerHTML=s),this.h()},h(){n(e,"class","loading-state svelte-397fju")},m(a,o){Ce(a,e,o)},p:lt,d(a){a&&u(e)}}}function dl(l){let e,s=et(l[11].recentSubmissions),a=[];for(let o=0;o<s.length;o+=1)a[o]=Ht(At(l,s,o));return{c(){e=r("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=i(o,"DIV",{class:!0});var m=v(e);for(let d=0;d<a.length;d+=1)a[d].l(m);m.forEach(u),this.h()},h(){n(e,"class","submissions-list svelte-397fju")},m(o,m){Ce(o,e,m);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null)},p(o,m){if(m[0]&2048){s=et(o[11].recentSubmissions);let d;for(d=0;d<s.length;d+=1){const f=At(o,s,d);a[d]?a[d].p(f,m):(a[d]=Ht(f),a[d].c(),a[d].m(e,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=s.length}},d(o){o&&u(e),jt(a,o)}}}function fl(l){let e,s="No submissions yet";return{c(){e=r("p"),e.textContent=s,this.h()},l(a){e=i(a,"P",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1g20zqq"&&(e.textContent=s),this.h()},h(){n(e,"class","no-submissions svelte-397fju")},m(a,o){Ce(a,e,o)},p:lt,d(a){a&&u(e)}}}function Ht(l){let e,s,a,o=l[65].category+"",m,d,f,_=(l[65].description||"No description")+"",b,c,h,j=Ke(l[65].submitted_at)+"",E,I,T,p,M=l[65].points+"",R,Q,J,U,B=l[65].approved?"‚úÖ Approved":l[65].approved===!1?"‚ùå Rejected":"‚è≥ Pending",O,G,W;return{c(){e=r("div"),s=r("div"),a=r("div"),m=Z(o),d=D(),f=r("div"),b=Z(_),c=D(),h=r("div"),E=Z(j),I=D(),T=r("div"),p=r("div"),R=Z(M),Q=Z(" pts"),J=D(),U=r("span"),O=Z(B),W=D(),this.h()},l(V){e=i(V,"DIV",{class:!0});var N=v(e);s=i(N,"DIV",{class:!0});var se=v(s);a=i(se,"DIV",{class:!0});var ke=v(a);m=F(ke,o),ke.forEach(u),d=C(se),f=i(se,"DIV",{class:!0});var z=v(f);b=F(z,_),z.forEach(u),c=C(se),h=i(se,"DIV",{class:!0});var L=v(h);E=F(L,j),L.forEach(u),se.forEach(u),I=C(N),T=i(N,"DIV",{class:!0});var he=v(T);p=i(he,"DIV",{class:!0});var pe=v(p);R=F(pe,M),Q=F(pe," pts"),pe.forEach(u),J=C(he),U=i(he,"SPAN",{class:!0});var me=v(U);O=F(me,B),me.forEach(u),he.forEach(u),W=C(N),N.forEach(u),this.h()},h(){n(a,"class","submission-category svelte-397fju"),n(f,"class","submission-description svelte-397fju"),n(h,"class","submission-date svelte-397fju"),n(s,"class","submission-info"),n(p,"class","submission-points svelte-397fju"),n(U,"class",G="status-badge "+(l[65].approved?"approved":l[65].approved===!1?"rejected":"pending")+" svelte-397fju"),n(T,"class","submission-status svelte-397fju"),n(e,"class","submission-item svelte-397fju")},m(V,N){Ce(V,e,N),t(e,s),t(s,a),t(a,m),t(s,d),t(s,f),t(f,b),t(s,c),t(s,h),t(h,E),t(e,I),t(e,T),t(T,p),t(p,R),t(p,Q),t(T,J),t(T,U),t(U,O),t(e,W)},p(V,N){N[0]&2048&&o!==(o=V[65].category+"")&&le(m,o),N[0]&2048&&_!==(_=(V[65].description||"No description")+"")&&le(b,_),N[0]&2048&&j!==(j=Ke(V[65].submitted_at)+"")&&le(E,j),N[0]&2048&&M!==(M=V[65].points+"")&&le(R,M),N[0]&2048&&B!==(B=V[65].approved?"‚úÖ Approved":V[65].approved===!1?"‚ùå Rejected":"‚è≥ Pending")&&le(O,B),N[0]&2048&&G!==(G="status-badge "+(V[65].approved?"approved":V[65].approved===!1?"rejected":"pending")+" svelte-397fju")&&n(U,"class",G)},d(V){V&&u(e)}}}function qt(l){var be;let e,s,a,o,m="Edit Member Information",d,f,_="‚úï",b,c,h,j,E=(((be=l[6].name)==null?void 0:be.charAt(0))||"?")+"",I,T,p,M,R=l[6].name+"",Q,J,U,B,O=Qe(l[6].role)+"",G,W,V,N,se,ke="Full Name *",z,L,he,pe,me,fe="Email Address *",X,re,De,K,ae,we="Phone Number",Ve,oe,ne,_e,$,H,x,S,Ne=l[13]?"‚è≥ Saving...":"üíæ Save Changes",Ee,k,Y,Ie;return{c(){e=r("div"),s=r("div"),a=r("div"),o=r("h2"),o.textContent=m,d=D(),f=r("button"),f.textContent=_,b=D(),c=r("div"),h=r("div"),j=r("div"),I=Z(E),T=D(),p=r("div"),M=r("div"),Q=Z(R),J=D(),U=r("div"),B=Z("Currently: "),G=Z(O),W=D(),V=r("div"),N=r("div"),se=r("label"),se.textContent=ke,z=D(),L=r("input"),he=D(),pe=r("div"),me=r("label"),me.textContent=fe,X=D(),re=r("input"),De=D(),K=r("div"),ae=r("label"),ae.textContent=we,Ve=D(),oe=r("input"),ne=D(),_e=r("div"),$=r("button"),H=Z("Cancel"),x=D(),S=r("button"),Ee=Z(Ne),this.h()},l(y){e=i(y,"DIV",{class:!0});var A=v(e);s=i(A,"DIV",{class:!0});var je=v(s);a=i(je,"DIV",{class:!0});var Te=v(a);o=i(Te,"H2",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-1lz285m"&&(o.textContent=m),d=C(Te),f=i(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),P(f)!=="svelte-xne7a4"&&(f.textContent=_),Te.forEach(u),b=C(je),c=i(je,"DIV",{class:!0});var ue=v(c);h=i(ue,"DIV",{class:!0});var Me=v(h);j=i(Me,"DIV",{class:!0});var Ae=v(j);I=F(Ae,E),Ae.forEach(u),T=C(Me),p=i(Me,"DIV",{class:!0});var ge=v(p);M=i(ge,"DIV",{class:!0});var w=v(M);Q=F(w,R),w.forEach(u),J=C(ge),U=i(ge,"DIV",{class:!0});var g=v(U);B=F(g,"Currently: "),G=F(g,O),g.forEach(u),ge.forEach(u),Me.forEach(u),W=C(ue),V=i(ue,"DIV",{class:!0});var ee=v(V);N=i(ee,"DIV",{class:!0});var ie=v(N);se=i(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(se)!=="svelte-tqqy4r"&&(se.textContent=ke),z=C(ie),L=i(ie,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ie.forEach(u),he=C(ee),pe=i(ee,"DIV",{class:!0});var ce=v(pe);me=i(ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(me)!=="svelte-1hqh4o"&&(me.textContent=fe),X=C(ce),re=i(ce,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ce.forEach(u),De=C(ee),K=i(ee,"DIV",{class:!0});var te=v(K);ae=i(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(ae)!=="svelte-1ylu5u5"&&(ae.textContent=we),Ve=C(te),oe=i(te,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),te.forEach(u),ee.forEach(u),ne=C(ue),_e=i(ue,"DIV",{class:!0});var q=v(_e);$=i(q,"BUTTON",{class:!0});var Pe=v($);H=F(Pe,"Cancel"),Pe.forEach(u),x=C(q),S=i(q,"BUTTON",{class:!0});var Se=v(S);Ee=F(Se,Ne),Se.forEach(u),q.forEach(u),ue.forEach(u),je.forEach(u),A.forEach(u),this.h()},h(){n(o,"class","svelte-397fju"),n(f,"class","close-button svelte-397fju"),n(a,"class","modal-header svelte-397fju"),n(j,"class","member-avatar small svelte-397fju"),n(M,"class","member-name svelte-397fju"),n(U,"class","current-role svelte-397fju"),n(p,"class","member-info svelte-397fju"),n(h,"class","edit-member-header svelte-397fju"),n(se,"for","editName"),n(se,"class","svelte-397fju"),n(L,"id","editName"),n(L,"type","text"),n(L,"placeholder","Enter full name"),L.disabled=l[13],n(L,"class","svelte-397fju"),n(N,"class","form-group svelte-397fju"),n(me,"for","editEmail"),n(me,"class","svelte-397fju"),n(re,"id","editEmail"),n(re,"type","email"),n(re,"placeholder","Enter email address"),re.disabled=l[13],n(re,"class","svelte-397fju"),n(pe,"class","form-group svelte-397fju"),n(ae,"for","editPhone"),n(ae,"class","svelte-397fju"),n(oe,"id","editPhone"),n(oe,"type","tel"),n(oe,"placeholder","(555) 123-4567"),oe.disabled=l[13],n(oe,"class","svelte-397fju"),n(K,"class","form-group svelte-397fju"),n(V,"class","edit-form svelte-397fju"),n($,"class","cancel-button svelte-397fju"),$.disabled=l[13],n(S,"class","save-button svelte-397fju"),S.disabled=k=l[13]||!l[8].trim()||!l[10].trim(),n(_e,"class","modal-actions svelte-397fju"),n(c,"class","modal-body svelte-397fju"),n(s,"class","modal-content small svelte-397fju"),n(e,"class","modal-backdrop svelte-397fju")},m(y,A){Ce(y,e,A),t(e,s),t(s,a),t(a,o),t(a,d),t(a,f),t(s,b),t(s,c),t(c,h),t(h,j),t(j,I),t(h,T),t(h,p),t(p,M),t(M,Q),t(p,J),t(p,U),t(U,B),t(U,G),t(c,W),t(c,V),t(V,N),t(N,se),t(N,z),t(N,L),Be(L,l[8]),t(V,he),t(V,pe),t(pe,me),t(pe,X),t(pe,re),Be(re,l[10]),t(V,De),t(V,K),t(K,ae),t(K,Ve),t(K,oe),Be(oe,l[9]),t(c,ne),t(c,_e),t(_e,$),t($,H),t(_e,x),t(_e,S),t(S,Ee),Y||(Ie=[ye(f,"click",l[49]),ye(L,"input",l[50]),ye(re,"input",l[51]),ye(oe,"input",l[52]),ye($,"click",l[53]),ye(S,"click",l[29]),ye(s,"click",Mt(l[33])),ye(e,"click",l[54])],Y=!0)},p(y,A){var je;A[0]&64&&E!==(E=(((je=y[6].name)==null?void 0:je.charAt(0))||"?")+"")&&le(I,E),A[0]&64&&R!==(R=y[6].name+"")&&le(Q,R),A[0]&64&&O!==(O=Qe(y[6].role)+"")&&le(G,O),A[0]&8192&&(L.disabled=y[13]),A[0]&256&&L.value!==y[8]&&Be(L,y[8]),A[0]&8192&&(re.disabled=y[13]),A[0]&1024&&re.value!==y[10]&&Be(re,y[10]),A[0]&8192&&(oe.disabled=y[13]),A[0]&512&&Be(oe,y[9]),A[0]&8192&&($.disabled=y[13]),A[0]&8192&&Ne!==(Ne=y[13]?"‚è≥ Saving...":"üíæ Save Changes")&&le(Ee,Ne),A[0]&9472&&k!==(k=y[13]||!y[8].trim()||!y[10].trim())&&(S.disabled=k)},d(y){y&&u(e),Y=!1,ot(Ie)}}}function Ft(l){var Ne,Ee;let e,s,a,o,m="Change Member Role",d,f,_="‚úï",b,c,h,j,E=(((Ne=l[5].name)==null?void 0:Ne.charAt(0))||"?")+"",I,T,p,M,R=l[5].name+"",Q,J,U,B,O=Qe(l[5].role)+"",G,W,V,N,se="New Role",ke,z,L,he,pe,me,fe,X,re="Cancel",De,K,ae=l[17]?"‚è≥ Updating...":"‚úÖ Update Role",we,Ve,oe,ne,_e=et(l[16]),$=[];for(let k=0;k<_e.length;k+=1)$[k]=Zt(Nt(l,_e,k));let H=l[7]&&zt(l),x=l[7]===l[5].role&&Jt(),S=l[7]==="president"&&((Ee=l[0])==null?void 0:Ee.role)!=="president"&&Gt();return{c(){e=r("div"),s=r("div"),a=r("div"),o=r("h2"),o.textContent=m,d=D(),f=r("button"),f.textContent=_,b=D(),c=r("div"),h=r("div"),j=r("div"),I=Z(E),T=D(),p=r("div"),M=r("div"),Q=Z(R),J=D(),U=r("div"),B=Z("Current: "),G=Z(O),W=D(),V=r("div"),N=r("label"),N.textContent=se,ke=D(),z=r("select");for(let k=0;k<$.length;k+=1)$[k].c();L=D(),H&&H.c(),he=D(),x&&x.c(),pe=D(),S&&S.c(),me=D(),fe=r("div"),X=r("button"),X.textContent=re,De=D(),K=r("button"),we=Z(ae),this.h()},l(k){e=i(k,"DIV",{class:!0});var Y=v(e);s=i(Y,"DIV",{class:!0});var Ie=v(s);a=i(Ie,"DIV",{class:!0});var be=v(a);o=i(be,"H2",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-15jjhlg"&&(o.textContent=m),d=C(be),f=i(be,"BUTTON",{class:!0,"data-svelte-h":!0}),P(f)!=="svelte-1pait0e"&&(f.textContent=_),be.forEach(u),b=C(Ie),c=i(Ie,"DIV",{class:!0});var y=v(c);h=i(y,"DIV",{class:!0});var A=v(h);j=i(A,"DIV",{class:!0});var je=v(j);I=F(je,E),je.forEach(u),T=C(A),p=i(A,"DIV",{class:!0});var Te=v(p);M=i(Te,"DIV",{class:!0});var ue=v(M);Q=F(ue,R),ue.forEach(u),J=C(Te),U=i(Te,"DIV",{class:!0});var Me=v(U);B=F(Me,"Current: "),G=F(Me,O),Me.forEach(u),Te.forEach(u),A.forEach(u),W=C(y),V=i(y,"DIV",{class:!0});var Ae=v(V);N=i(Ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(N)!=="svelte-epq0r6"&&(N.textContent=se),ke=C(Ae),z=i(Ae,"SELECT",{id:!0,class:!0});var ge=v(z);for(let ee=0;ee<$.length;ee+=1)$[ee].l(ge);ge.forEach(u),L=C(Ae),H&&H.l(Ae),Ae.forEach(u),he=C(y),x&&x.l(y),pe=C(y),S&&S.l(y),me=C(y),fe=i(y,"DIV",{class:!0});var w=v(fe);X=i(w,"BUTTON",{class:!0,"data-svelte-h":!0}),P(X)!=="svelte-1hpcdgn"&&(X.textContent=re),De=C(w),K=i(w,"BUTTON",{class:!0});var g=v(K);we=F(g,ae),g.forEach(u),w.forEach(u),y.forEach(u),Ie.forEach(u),Y.forEach(u),this.h()},h(){var k;n(o,"class","svelte-397fju"),n(f,"class","close-button svelte-397fju"),n(a,"class","modal-header svelte-397fju"),n(j,"class","member-avatar small svelte-397fju"),n(M,"class","member-name svelte-397fju"),n(U,"class","current-role svelte-397fju"),n(p,"class","member-info svelte-397fju"),n(h,"class","role-change-member svelte-397fju"),n(N,"for","newRole"),n(N,"class","svelte-397fju"),n(z,"id","newRole"),n(z,"class","svelte-397fju"),l[7]===void 0&&Tt(()=>l[56].call(z)),n(V,"class","role-selection svelte-397fju"),n(X,"class","cancel-button svelte-397fju"),n(K,"class","save-button svelte-397fju"),K.disabled=Ve=l[7]===l[5].role||l[7]==="president"&&((k=l[0])==null?void 0:k.role)!=="president"||l[17],n(fe,"class","modal-actions svelte-397fju"),n(c,"class","modal-body svelte-397fju"),n(s,"class","modal-content small svelte-397fju"),n(e,"class","modal-backdrop svelte-397fju")},m(k,Y){Ce(k,e,Y),t(e,s),t(s,a),t(a,o),t(a,d),t(a,f),t(s,b),t(s,c),t(c,h),t(h,j),t(j,I),t(h,T),t(h,p),t(p,M),t(M,Q),t(p,J),t(p,U),t(U,B),t(U,G),t(c,W),t(c,V),t(V,N),t(V,ke),t(V,z);for(let Ie=0;Ie<$.length;Ie+=1)$[Ie]&&$[Ie].m(z,null);it(z,l[7],!0),t(V,L),H&&H.m(V,null),t(c,he),x&&x.m(c,null),t(c,pe),S&&S.m(c,null),t(c,me),t(c,fe),t(fe,X),t(fe,De),t(fe,K),t(K,we),oe||(ne=[ye(f,"click",l[55]),ye(z,"change",l[56]),ye(X,"click",l[58]),ye(K,"click",l[28]),ye(s,"click",Mt(l[32])),ye(e,"click",l[59])],oe=!0)},p(k,Y){var Ie,be,y;if(Y[0]&32&&E!==(E=(((Ie=k[5].name)==null?void 0:Ie.charAt(0))||"?")+"")&&le(I,E),Y[0]&32&&R!==(R=k[5].name+"")&&le(Q,R),Y[0]&32&&O!==(O=Qe(k[5].role)+"")&&le(G,O),Y[0]&65536){_e=et(k[16]);let A;for(A=0;A<_e.length;A+=1){const je=Nt(k,_e,A);$[A]?$[A].p(je,Y):($[A]=Zt(je),$[A].c(),$[A].m(z,null))}for(;A<$.length;A+=1)$[A].d(1);$.length=_e.length}Y[0]&65664&&it(z,k[7]),k[7]?H?H.p(k,Y):(H=zt(k),H.c(),H.m(V,null)):H&&(H.d(1),H=null),k[7]===k[5].role?x||(x=Jt(),x.c(),x.m(c,pe)):x&&(x.d(1),x=null),k[7]==="president"&&((be=k[0])==null?void 0:be.role)!=="president"?S||(S=Gt(),S.c(),S.m(c,me)):S&&(S.d(1),S=null),Y[0]&131072&&ae!==(ae=k[17]?"‚è≥ Updating...":"‚úÖ Update Role")&&le(we,ae),Y[0]&196769&&Ve!==(Ve=k[7]===k[5].role||k[7]==="president"&&((y=k[0])==null?void 0:y.role)!=="president"||k[17])&&(K.disabled=Ve)},d(k){k&&u(e),jt($,k),H&&H.d(),x&&x.d(),S&&S.d(),oe=!1,ot(ne)}}}function Zt(l){let e,s=l[62].label+"",a,o;return{c(){e=r("option"),a=Z(s),this.h()},l(m){e=i(m,"OPTION",{});var d=v(e);a=F(d,s),d.forEach(u),this.h()},h(){e.__value=o=l[62].value,Be(e,e.__value)},m(m,d){Ce(m,e,d),t(e,a)},p(m,d){d[0]&65536&&s!==(s=m[62].label+"")&&le(a,s),d[0]&65536&&o!==(o=m[62].value)&&(e.__value=o,Be(e,e.__value))},d(m){m&&u(e)}}}function zt(l){var o;let e,s=((o=l[16].find(l[57]))==null?void 0:o.description)+"",a;return{c(){e=r("p"),a=Z(s),this.h()},l(m){e=i(m,"P",{class:!0});var d=v(e);a=F(d,s),d.forEach(u),this.h()},h(){n(e,"class","role-description svelte-397fju")},m(m,d){Ce(m,e,d),t(e,a)},p(m,d){var f;d[0]&65664&&s!==(s=((f=m[16].find(m[57]))==null?void 0:f.description)+"")&&le(a,s)},d(m){m&&u(e)}}}function Jt(l){let e,s='<p class="svelte-397fju">‚ö†Ô∏è This member already has this role</p>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1cubtib"&&(e.innerHTML=s),this.h()},h(){n(e,"class","warning-message svelte-397fju")},m(a,o){Ce(a,e,o)},d(a){a&&u(e)}}}function Gt(l){let e,s='<p class="svelte-397fju">‚ùå Only presidents can promote members to president</p>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-172t6px"&&(e.innerHTML=s),this.h()},h(){n(e,"class","error-message svelte-397fju")},m(a,o){Ce(a,e,o)},d(a){a&&u(e)}}}function _l(l){let e,s,a,o,m;function d(j,E){return j[14]?ll:sl}let f=d(l),_=f(l),b=l[2]&&l[1]&&Bt(l),c=l[4]&&l[6]&&qt(l),h=l[3]&&l[5]&&Ft(l);return{c(){e=r("main"),_.c(),s=D(),b&&b.c(),a=D(),c&&c.c(),o=D(),h&&h.c(),m=rt(),this.h()},l(j){e=i(j,"MAIN",{class:!0});var E=v(e);_.l(E),E.forEach(u),s=C(j),b&&b.l(j),a=C(j),c&&c.l(j),o=C(j),h&&h.l(j),m=rt(),this.h()},h(){n(e,"class","svelte-397fju")},m(j,E){Ce(j,e,E),_.m(e,null),Ce(j,s,E),b&&b.m(j,E),Ce(j,a,E),c&&c.m(j,E),Ce(j,o,E),h&&h.m(j,E),Ce(j,m,E)},p(j,E){f===(f=d(j))&&_?_.p(j,E):(_.d(1),_=f(j),_&&(_.c(),_.m(e,null))),j[2]&&j[1]?b?b.p(j,E):(b=Bt(j),b.c(),b.m(a.parentNode,a)):b&&(b.d(1),b=null),j[4]&&j[6]?c?c.p(j,E):(c=qt(j),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),j[3]&&j[5]?h?h.p(j,E):(h=Ft(j),h.c(),h.m(m.parentNode,m)):h&&(h.d(1),h=null)},i:lt,o:lt,d(j){j&&(u(e),u(s),u(a),u(o),u(m)),_.d(),b&&b.d(j),c&&c.d(j),h&&h.d(j)}}}function hl(){return()=>{}}function Qe(l){return{member:"Member",officer:"Officer",competition_director:"Competition Director",vice_president:"Vice President",president:"President"}[l]||"Unknown"}function Ke(l){if(!l)return"Never";try{let e=l;l.includes(" ")&&!l.includes("T")&&(e=l.replace(" ","T"),!e.includes("+")&&!e.includes("Z")&&(e+="Z"));const s=new Date(e);return isNaN(s.getTime())?(console.warn("Invalid date after parsing:",l,"->",e),"Invalid Date"):s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(e){return console.warn("Error formatting date:",l,e),"Invalid Date"}}function tt(l){if(!l.last_submission_date)return"inactive";const e=new Date;return e.setDate(e.getDate()-90),new Date(l.last_submission_date)>=e?"active":"inactive"}function pl(l,e,s){let a,o,m,d,f,_,b,c,h,j,E,I,T;Ge(l,gt,g=>s(0,d=g)),Ge(l,tl,g=>s(31,f=g)),Ge(l,at,g=>s(17,_=g)),Ge(l,$e,g=>s(18,b=g)),Ge(l,xe,g=>s(19,c=g)),Ge(l,el,g=>s(20,h=g)),Ge(l,Ct,g=>s(21,j=g)),Ge(l,Dt,g=>s(22,E=g)),Ge(l,Et,g=>s(23,I=g)),Ge(l,$t,g=>s(24,T=g));let p=null,M=!1,R=!1,Q=!1,J=null,U=null,B="",O="",G="",W="",V=null,N=!1,se=!1,ke=null;const z=[{value:"member",label:"Member",description:"Standard member privileges"},{value:"officer",label:"Officer",description:"Can approve submissions and access officer tools"},{value:"competition_director",label:"Competition Director",description:"Can manage competition entries and see brewer names"},{value:"vice_president",label:"Vice President",description:"Can manage officers and access all tools"},{value:"president",label:"President",description:"Full administrative access"}];async function L(g){s(1,p=g),s(2,M=!0),s(12,N=!0),s(11,V=null);try{s(11,V=await Ye.getMemberDetails(g.id))}catch(ee){console.error("Failed to load member details:",ee)}finally{s(12,N=!1)}}function he(g){o&&(s(5,J=g),s(7,B=g.role),s(3,R=!0))}function pe(g){o&&(s(6,U=g),s(8,O=g.name||""),s(9,G=g.phone||""),s(10,W=g.email||""),s(4,Q=!0))}async function me(){if(!(!J||!B))try{await Ye.updateMemberRole(J.id,B),s(3,R=!1),s(5,J=null),s(7,B=""),console.log("‚úÖ Role updated successfully")}catch(g){console.error("‚ùå Failed to update role:",g)}}async function fe(){if(!U||se)return;if(!O.trim()){alert("Name cannot be empty");return}if(W&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(W)){alert("Please enter a valid email address");return}s(13,se=!0);try{const ee={name:O.trim(),phone:G.trim()||null,email:W.trim()||null},{data:ie,error:ce}=await dt.from("members").update(ee).eq("id",U.id).select();if(ce)throw ce;console.log("‚úÖ Member updated successfully"),s(4,Q=!1),s(6,U=null),s(8,O=""),s(9,G=""),s(10,W=""),await Ye.loadMembers(!0)}catch(ee){console.error("‚ùå Failed to update member:",ee),alert("Failed to update member. Please try again.")}finally{s(13,se=!1)}}async function X(){try{const g=await Ye.exportMembersData(),ee=[["Name","Email","Role","Total Points","Monthly Points","Join Date","Last Activity","Total Submissions"],...g.map(q=>[q.name,q.email,q.role,q.totalPoints,q.monthlyPoints,q.joinDate,q.lastActivity,q.totalSubmissions])].map(q=>q.join(",")).join(`
`),ie=new Blob([ee],{type:"text/csv"}),ce=window.URL.createObjectURL(ie),te=document.createElement("a");te.href=ce,te.download=`jax-members-roster-${new Date().toISOString().split("T")[0]}.csv`,te.click(),window.URL.revokeObjectURL(ce)}catch(g){console.error("Failed to export data:",g)}}Kt(async()=>{if(ke=hl(),!a){xt("/");return}await Ye.loadMembers()}),Qt(()=>{ke&&ke()});function re(g){It.call(this,l,g)}function De(g){It.call(this,l,g)}function K(g){It.call(this,l,g)}const ae=()=>Ye.refresh();function we(){j=this.value,Ct.set(j)}function Ve(){E=kt(this),Dt.set(E)}function oe(){I=kt(this),Et.set(I)}const ne=()=>Ye.resetFilters(),_e=()=>Ye.resetFilters(),$=g=>L(g),H=g=>pe(g),x=g=>he(g),S=g=>L(g),Ne=g=>pe(g),Ee=g=>he(g),k=()=>{s(2,M=!1),s(1,p=null),s(11,V=null)},Y=()=>{s(2,M=!1),s(1,p=null),s(11,V=null)},Ie=()=>{s(4,Q=!1),s(6,U=null),s(8,O=""),s(9,G=""),s(10,W="")};function be(){O=this.value,s(8,O)}function y(){W=this.value,s(10,W)}function A(){G=this.value,s(9,G)}const je=()=>{s(4,Q=!1),s(6,U=null),s(8,O=""),s(9,G=""),s(10,W="")},Te=()=>{s(4,Q=!1),s(6,U=null),s(8,O=""),s(9,G=""),s(10,W="")},ue=()=>{s(3,R=!1),s(5,J=null),s(7,B="")};function Me(){B=kt(this),s(7,B),s(16,m),s(0,d)}const Ae=g=>g.value===B,ge=()=>{s(3,R=!1),s(5,J=null),s(7,B="")},w=()=>{s(3,R=!1),s(5,J=null),s(7,B="")};return l.$$.update=()=>{l.$$.dirty[0]&1&&s(14,a=(d==null?void 0:d.is_officer)||!1),l.$$.dirty[1]&1&&s(15,o=f),l.$$.dirty[0]&1&&s(16,m=z.filter(g=>(d==null?void 0:d.role)==="president"?!0:(d==null?void 0:d.role)==="vice_president"?g.value!=="president":!1))},[d,p,M,R,Q,J,U,B,O,G,W,V,N,se,a,o,m,_,b,c,h,j,E,I,T,L,he,pe,me,fe,X,f,re,De,K,ae,we,Ve,oe,ne,_e,$,H,x,S,Ne,Ee,k,Y,Ie,be,y,A,je,Te,ue,Me,Ae,ge,w]}class Il extends Wt{constructor(e){super(),Xt(this,e,pl,_l,Yt,{},null,[-1,-1,-1])}}export{Il as component};
