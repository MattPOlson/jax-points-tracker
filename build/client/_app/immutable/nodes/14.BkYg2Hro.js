import{s as Xe,k as De,C as Ze,D as xe,d as r,i as Z,g as S,G as qe,j as V,n as Ve,a as G,b as s,q as v,c,e as w,f as q,h as d,t as O,E as x,M as Ie,F as ze,r as et,v as le,w as Se}from"../chunks/Clc9C5PT.js";import{S as tt,i as st,d as Pe,t as ye,a as we,m as Ae,b as je,e as Ne,g as lt,c as nt}from"../chunks/D83E1sq8.js";import{e as Re}from"../chunks/CERxzA5o.js";import{p as at}from"../chunks/DYjnv9o3.js";import"../chunks/CCM_4jRA.js";import{u as ot}from"../chunks/BZKsMI7B.js";import{a as Je,l as it,m as rt,b as ct}from"../chunks/CxE3R1b6.js";import{f as Oe}from"../chunks/Bams7pfF.js";import{B as dt}from"../chunks/aYJ4uLIK.js";import{C as ut,H as vt}from"../chunks/Pa8TRaQW.js";import{L as ft}from"../chunks/Ciw1kpL_.js";import{E as _t}from"../chunks/CkDLxbqM.js";function Ge(n,e,t){const l=n.slice();return l[22]=e[t],l}function Ye(n,e,t){const l=n.slice();return l[22]=e[t],l}function ht(n){let e,t,l,a,i,h,m=n[4].length+"",C,g,_=n[4].length===1?"submission":"submissions",D,k,B=n[0]?"total":"pending",L,E,I,P;function p(f,u){if(!f[9]&&f[2]&&f[2].length>0)return bt;if(!f[9]&&f[1])return gt}let b=p(n),N=b&&b(n);l=new dt({props:{variant:n[0]?"primary":"secondary",$$slots:{default:[yt]},$$scope:{ctx:n}}}),l.$on("click",n[10]);function M(f,u){return f[4].length>0?Ct:wt}let F=M(n),U=F(n);return{c(){N&&N.c(),e=V(),t=d("div"),Ne(l.$$.fragment),a=V(),i=d("div"),h=d("span"),C=O(m),g=V(),D=O(_),k=V(),L=O(B),E=V(),U.c(),I=qe(),this.h()},l(f){N&&N.l(f),e=S(f),t=c(f,"DIV",{class:!0});var u=w(t);je(l.$$.fragment,u),a=S(u),i=c(u,"DIV",{class:!0});var R=w(i);h=c(R,"SPAN",{class:!0});var T=w(h);C=q(T,m),g=S(T),D=q(T,_),k=S(T),L=q(T,B),T.forEach(r),R.forEach(r),u.forEach(r),E=S(f),U.l(f),I=qe(),this.h()},h(){v(h,"class","count-display svelte-iwynd3"),v(i,"class","view-info"),v(t,"class","controls-section svelte-iwynd3")},m(f,u){N&&N.m(f,u),Z(f,e,u),Z(f,t,u),Ae(l,t,null),s(t,a),s(t,i),s(i,h),s(h,C),s(h,g),s(h,D),s(h,k),s(h,L),Z(f,E,u),U.m(f,u),Z(f,I,u),P=!0},p(f,u){b===(b=p(f))&&N?N.p(f,u):(N&&N.d(1),N=b&&b(f),N&&(N.c(),N.m(e.parentNode,e)));const R={};u&1&&(R.variant=f[0]?"primary":"secondary"),u&134217729&&(R.$$scope={dirty:u,ctx:f}),l.$set(R),(!P||u&16)&&m!==(m=f[4].length+"")&&G(C,m),(!P||u&16)&&_!==(_=f[4].length===1?"submission":"submissions")&&G(D,_),(!P||u&1)&&B!==(B=f[0]?"total":"pending")&&G(L,B),F===(F=M(f))&&U?U.p(f,u):(U.d(1),U=F(f),U&&(U.c(),U.m(I.parentNode,I)))},i(f){P||(we(l.$$.fragment,f),P=!0)},o(f){ye(l.$$.fragment,f),P=!1},d(f){f&&(r(e),r(t),r(E),r(I)),N&&N.d(f),Pe(l),U.d(f)}}}function pt(n){let e,t;return e=new _t({props:{icon:"🔒",title:"Authentication Required",message:"Please log in to view your submissions.",actionLabel:"Sign In",actionHref:"/login"}}),{c(){Ne(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ae(e,l,a),t=!0},p:Ve,i(l){t||(we(e.$$.fragment,l),t=!0)},o(l){ye(e.$$.fragment,l),t=!1},d(l){Pe(e,l)}}}function mt(n){let e,t;return e=new ft({props:{message:"Loading your submissions..."}}),{c(){Ne(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ae(e,l,a),t=!0},p:Ve,i(l){t||(we(e.$$.fragment,l),t=!0)},o(l){ye(e.$$.fragment,l),t=!1},d(l){Pe(e,l)}}}function gt(n){var u,R;let e,t,l,a=(((u=n[2])==null?void 0:u.length)||0)+"",i,h,m,C,g=(n[3]||"none")+"",_,D,k,B,L,E,I,P,p=(n[1]||"none")+"",b,N,M,F,U=JSON.stringify(((R=n[2])==null?void 0:R.slice(0,2))||[],null,2)+"",f;return{c(){e=d("div"),t=d("div"),l=O("Store All Length: "),i=O(a),h=V(),m=d("div"),C=O("Store Message: "),_=O(g),D=V(),k=d("div"),B=O("Loading: "),L=O(n[9]),E=V(),I=d("div"),P=O("Current User ID: "),b=O(p),N=V(),M=d("div"),F=O("Data: "),f=O(U),this.h()},l(T){e=c(T,"DIV",{class:!0,style:!0});var $=w(e);t=c($,"DIV",{});var J=w(t);l=q(J,"Store All Length: "),i=q(J,a),J.forEach(r),h=S($),m=c($,"DIV",{});var A=w(m);C=q(A,"Store Message: "),_=q(A,g),A.forEach(r),D=S($),k=c($,"DIV",{});var z=w(k);B=q(z,"Loading: "),L=q(z,n[9]),z.forEach(r),E=S($),I=c($,"DIV",{});var H=w(I);P=q(H,"Current User ID: "),b=q(H,p),H.forEach(r),N=S($),M=c($,"DIV",{});var o=w(M);F=q(o,"Data: "),f=q(o,U),o.forEach(r),$.forEach(r),this.h()},h(){v(e,"class","debug-info"),Ie(e,"background","#f0f0f0"),Ie(e,"padding","1rem"),Ie(e,"margin","1rem 0"),Ie(e,"font-family","monospace"),Ie(e,"text-align","left")},m(T,$){Z(T,e,$),s(e,t),s(t,l),s(t,i),s(e,h),s(e,m),s(m,C),s(m,_),s(e,D),s(e,k),s(k,B),s(k,L),s(e,E),s(e,I),s(I,P),s(I,b),s(e,N),s(e,M),s(M,F),s(M,f)},p(T,$){var J,A;$&4&&a!==(a=(((J=T[2])==null?void 0:J.length)||0)+"")&&G(i,a),$&8&&g!==(g=(T[3]||"none")+"")&&G(_,g),$&512&&G(L,T[9]),$&2&&p!==(p=(T[1]||"none")+"")&&G(b,p),$&4&&U!==(U=JSON.stringify(((A=T[2])==null?void 0:A.slice(0,2))||[],null,2)+"")&&G(f,U)},d(T){T&&r(e)}}}function bt(n){var _e,Ce,he,ke,pe;let e,t,l,a,i="✅",h,m,C,g=(((_e=n[8])==null?void 0:_e.approved)||0)+"",_,D,k,B="Approved",L,E,I,P="⏳",p,b,N,M=(((Ce=n[8])==null?void 0:Ce.pending)||0)+"",F,U,f,u="Pending",R,T,$,J="❌",A,z,H,o=(((he=n[8])==null?void 0:he.rejected)||0)+"",y,j,Y,ne="Rejected",K,ee,te,se="🏆",W,Q,X,ce=(((pe=(ke=n[8])==null?void 0:ke.totalPoints)==null?void 0:pe.toLocaleString())||0)+"",fe,ve,de,ie="Total Points";return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),a.textContent=i,h=V(),m=d("div"),C=d("div"),_=O(g),D=V(),k=d("div"),k.textContent=B,L=V(),E=d("div"),I=d("div"),I.textContent=P,p=V(),b=d("div"),N=d("div"),F=O(M),U=V(),f=d("div"),f.textContent=u,R=V(),T=d("div"),$=d("div"),$.textContent=J,A=V(),z=d("div"),H=d("div"),y=O(o),j=V(),Y=d("div"),Y.textContent=ne,K=V(),ee=d("div"),te=d("div"),te.textContent=se,W=V(),Q=d("div"),X=d("div"),fe=O(ce),ve=V(),de=d("div"),de.textContent=ie,this.h()},l(ae){e=c(ae,"DIV",{class:!0});var ue=w(e);t=c(ue,"DIV",{class:!0});var re=w(t);l=c(re,"DIV",{class:!0});var me=w(l);a=c(me,"DIV",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-1vwwmbk"&&(a.textContent=i),h=S(me),m=c(me,"DIV",{class:!0});var ge=w(m);C=c(ge,"DIV",{class:!0});var Ee=w(C);_=q(Ee,g),Ee.forEach(r),D=S(ge),k=c(ge,"DIV",{class:!0,"data-svelte-h":!0}),x(k)!=="svelte-1fy62d5"&&(k.textContent=B),ge.forEach(r),me.forEach(r),L=S(re),E=c(re,"DIV",{class:!0});var be=w(E);I=c(be,"DIV",{class:!0,"data-svelte-h":!0}),x(I)!=="svelte-jdd5wu"&&(I.textContent=P),p=S(be),b=c(be,"DIV",{class:!0});var Te=w(b);N=c(Te,"DIV",{class:!0});var Be=w(N);F=q(Be,M),Be.forEach(r),U=S(Te),f=c(Te,"DIV",{class:!0,"data-svelte-h":!0}),x(f)!=="svelte-1o4fkd1"&&(f.textContent=u),Te.forEach(r),be.forEach(r),R=S(re),T=c(re,"DIV",{class:!0});var $e=w(T);$=c($e,"DIV",{class:!0,"data-svelte-h":!0}),x($)!=="svelte-z5l57j"&&($.textContent=J),A=S($e),z=c($e,"DIV",{class:!0});var He=w(z);H=c(He,"DIV",{class:!0});var Ue=w(H);y=q(Ue,o),Ue.forEach(r),j=S(He),Y=c(He,"DIV",{class:!0,"data-svelte-h":!0}),x(Y)!=="svelte-1eic7q8"&&(Y.textContent=ne),He.forEach(r),$e.forEach(r),K=S(re),ee=c(re,"DIV",{class:!0});var Le=w(ee);te=c(Le,"DIV",{class:!0,"data-svelte-h":!0}),x(te)!=="svelte-cwrisn"&&(te.textContent=se),W=S(Le),Q=c(Le,"DIV",{class:!0});var Me=w(Q);X=c(Me,"DIV",{class:!0});var Fe=w(X);fe=q(Fe,ce),Fe.forEach(r),ve=S(Me),de=c(Me,"DIV",{class:!0,"data-svelte-h":!0}),x(de)!=="svelte-tth6u3"&&(de.textContent=ie),Me.forEach(r),Le.forEach(r),re.forEach(r),ue.forEach(r),this.h()},h(){v(a,"class","stat-icon svelte-iwynd3"),v(C,"class","stat-number svelte-iwynd3"),v(k,"class","stat-label svelte-iwynd3"),v(m,"class","stat-content"),v(l,"class","stat-card approved svelte-iwynd3"),v(I,"class","stat-icon svelte-iwynd3"),v(N,"class","stat-number svelte-iwynd3"),v(f,"class","stat-label svelte-iwynd3"),v(b,"class","stat-content"),v(E,"class","stat-card pending svelte-iwynd3"),v($,"class","stat-icon svelte-iwynd3"),v(H,"class","stat-number svelte-iwynd3"),v(Y,"class","stat-label svelte-iwynd3"),v(z,"class","stat-content"),v(T,"class","stat-card rejected svelte-iwynd3"),v(te,"class","stat-icon svelte-iwynd3"),v(X,"class","stat-number svelte-iwynd3"),v(de,"class","stat-label svelte-iwynd3"),v(Q,"class","stat-content"),v(ee,"class","stat-card points svelte-iwynd3"),v(t,"class","stats-grid svelte-iwynd3"),v(e,"class","stats-section svelte-iwynd3")},m(ae,ue){Z(ae,e,ue),s(e,t),s(t,l),s(l,a),s(l,h),s(l,m),s(m,C),s(C,_),s(m,D),s(m,k),s(t,L),s(t,E),s(E,I),s(E,p),s(E,b),s(b,N),s(N,F),s(b,U),s(b,f),s(t,R),s(t,T),s(T,$),s(T,A),s(T,z),s(z,H),s(H,y),s(z,j),s(z,Y),s(t,K),s(t,ee),s(ee,te),s(ee,W),s(ee,Q),s(Q,X),s(X,fe),s(Q,ve),s(Q,de)},p(ae,ue){var re,me,ge,Ee,be;ue&256&&g!==(g=(((re=ae[8])==null?void 0:re.approved)||0)+"")&&G(_,g),ue&256&&M!==(M=(((me=ae[8])==null?void 0:me.pending)||0)+"")&&G(F,M),ue&256&&o!==(o=(((ge=ae[8])==null?void 0:ge.rejected)||0)+"")&&G(y,o),ue&256&&ce!==(ce=(((be=(Ee=ae[8])==null?void 0:Ee.totalPoints)==null?void 0:be.toLocaleString())||0)+"")&&G(fe,ce)},d(ae){ae&&r(e)}}}function yt(n){let e=n[0]?"📋 Show All":"⏳ Pending Only",t;return{c(){t=O(e)},l(l){t=q(l,e)},m(l,a){Z(l,t,a)},p(l,a){a&1&&e!==(e=l[0]?"📋 Show All":"⏳ Pending Only")&&G(t,e)},d(l){l&&r(t)}}}function wt(n){let e,t,l,a,i,h,m,C;function g(p,b){return p[0]?Et:kt}let _=g(n),D=_(n);function k(p,b){return p[0]?It:Dt}let B=k(n),L=B(n);function E(p,b){return!p[0]&&p[2]&&p[2].length>0?Vt:St}let I=E(n),P=I(n);return{c(){e=d("div"),t=d("div"),D.c(),l=V(),a=d("h3"),L.c(),i=V(),h=d("p"),m=O(n[5]),C=V(),P.c(),this.h()},l(p){e=c(p,"DIV",{class:!0});var b=w(e);t=c(b,"DIV",{class:!0});var N=w(t);D.l(N),N.forEach(r),l=S(b),a=c(b,"H3",{class:!0});var M=w(a);L.l(M),M.forEach(r),i=S(b),h=c(b,"P",{class:!0});var F=w(h);m=q(F,n[5]),F.forEach(r),C=S(b),P.l(b),b.forEach(r),this.h()},h(){v(t,"class","empty-icon svelte-iwynd3"),v(a,"class","svelte-iwynd3"),v(h,"class","svelte-iwynd3"),v(e,"class","empty-state svelte-iwynd3")},m(p,b){Z(p,e,b),s(e,t),D.m(t,null),s(e,l),s(e,a),L.m(a,null),s(e,i),s(e,h),s(h,m),s(e,C),P.m(e,null)},p(p,b){_!==(_=g(p))&&(D.d(1),D=_(p),D&&(D.c(),D.m(t,null))),B!==(B=k(p))&&(L.d(1),L=B(p),L&&(L.c(),L.m(a,null))),b&32&&G(m,p[5]),I===(I=E(p))&&P?P.p(p,b):(P.d(1),P=I(p),P&&(P.c(),P.m(e,null)))},d(p){p&&r(e),D.d(),L.d(),P.d()}}}function Ct(n){let e,t,l,a,i,h,m="Category",C,g,_="Description",D,k,B="Points",L,E,I="Event Date",P,p,b="Status",N,M,F="Reason",U,f,u,R,T,$,J=Re(n[4]),A=[];for(let o=0;o<J.length;o+=1)A[o]=Ke(Ye(n,J,o));let z=Re(n[4]),H=[];for(let o=0;o<z.length;o+=1)H[o]=We(Ge(n,z,o));return{c(){e=d("div"),t=d("div"),l=d("table"),a=d("thead"),i=d("tr"),h=d("th"),h.textContent=m,C=V(),g=d("th"),g.textContent=_,D=V(),k=d("th"),k.textContent=B,L=V(),E=d("th"),E.textContent=I,P=V(),p=d("th"),p.textContent=b,N=V(),M=d("th"),M.textContent=F,U=V(),f=d("tbody");for(let o=0;o<A.length;o+=1)A[o].c();u=V(),R=d("div");for(let o=0;o<H.length;o+=1)H[o].c();this.h()},l(o){e=c(o,"DIV",{class:!0});var y=w(e);t=c(y,"DIV",{class:!0});var j=w(t);l=c(j,"TABLE",{class:!0});var Y=w(l);a=c(Y,"THEAD",{});var ne=w(a);i=c(ne,"TR",{});var K=w(i);h=c(K,"TH",{class:!0,"data-svelte-h":!0}),x(h)!=="svelte-1xkofps"&&(h.textContent=m),C=S(K),g=c(K,"TH",{class:!0,"data-svelte-h":!0}),x(g)!=="svelte-103rnjg"&&(g.textContent=_),D=S(K),k=c(K,"TH",{class:!0,"data-svelte-h":!0}),x(k)!=="svelte-1f5az52"&&(k.textContent=B),L=S(K),E=c(K,"TH",{class:!0,"data-svelte-h":!0}),x(E)!=="svelte-1uq2j65"&&(E.textContent=I),P=S(K),p=c(K,"TH",{class:!0,"data-svelte-h":!0}),x(p)!=="svelte-bi34jg"&&(p.textContent=b),N=S(K),M=c(K,"TH",{class:!0,"data-svelte-h":!0}),x(M)!=="svelte-whh8g2"&&(M.textContent=F),K.forEach(r),ne.forEach(r),U=S(Y),f=c(Y,"TBODY",{});var ee=w(f);for(let se=0;se<A.length;se+=1)A[se].l(ee);ee.forEach(r),Y.forEach(r),j.forEach(r),u=S(y),R=c(y,"DIV",{class:!0});var te=w(R);for(let se=0;se<H.length;se+=1)H[se].l(te);te.forEach(r),y.forEach(r),this.h()},h(){v(h,"class","sortable svelte-iwynd3"),le(h,"sort-asc",n[6]==="category"&&n[7]==="asc"),le(h,"sort-desc",n[6]==="category"&&n[7]==="desc"),v(g,"class","sortable svelte-iwynd3"),le(g,"sort-asc",n[6]==="description"&&n[7]==="asc"),le(g,"sort-desc",n[6]==="description"&&n[7]==="desc"),v(k,"class","sortable svelte-iwynd3"),le(k,"sort-asc",n[6]==="points"&&n[7]==="asc"),le(k,"sort-desc",n[6]==="points"&&n[7]==="desc"),v(E,"class","sortable svelte-iwynd3"),le(E,"sort-asc",n[6]==="event_date"&&n[7]==="asc"),le(E,"sort-desc",n[6]==="event_date"&&n[7]==="desc"),v(p,"class","svelte-iwynd3"),v(M,"class","svelte-iwynd3"),v(l,"class","desktop-table svelte-iwynd3"),v(t,"class","table-wrapper svelte-iwynd3"),v(R,"class","mobile-cards svelte-iwynd3"),v(e,"class","submissions-container svelte-iwynd3")},m(o,y){Z(o,e,y),s(e,t),s(t,l),s(l,a),s(a,i),s(i,h),s(i,C),s(i,g),s(i,D),s(i,k),s(i,L),s(i,E),s(i,P),s(i,p),s(i,N),s(i,M),s(l,U),s(l,f);for(let j=0;j<A.length;j+=1)A[j]&&A[j].m(f,null);s(e,u),s(e,R);for(let j=0;j<H.length;j+=1)H[j]&&H[j].m(R,null);T||($=[Se(h,"click",n[15]),Se(g,"click",n[16]),Se(k,"click",n[17]),Se(E,"click",n[18])],T=!0)},p(o,y){if(y&192&&le(h,"sort-asc",o[6]==="category"&&o[7]==="asc"),y&192&&le(h,"sort-desc",o[6]==="category"&&o[7]==="desc"),y&192&&le(g,"sort-asc",o[6]==="description"&&o[7]==="asc"),y&192&&le(g,"sort-desc",o[6]==="description"&&o[7]==="desc"),y&192&&le(k,"sort-asc",o[6]==="points"&&o[7]==="asc"),y&192&&le(k,"sort-desc",o[6]==="points"&&o[7]==="desc"),y&192&&le(E,"sort-asc",o[6]==="event_date"&&o[7]==="asc"),y&192&&le(E,"sort-desc",o[6]==="event_date"&&o[7]==="desc"),y&16){J=Re(o[4]);let j;for(j=0;j<J.length;j+=1){const Y=Ye(o,J,j);A[j]?A[j].p(Y,y):(A[j]=Ke(Y),A[j].c(),A[j].m(f,null))}for(;j<A.length;j+=1)A[j].d(1);A.length=J.length}if(y&16){z=Re(o[4]);let j;for(j=0;j<z.length;j+=1){const Y=Ge(o,z,j);H[j]?H[j].p(Y,y):(H[j]=We(Y),H[j].c(),H[j].m(R,null))}for(;j<H.length;j+=1)H[j].d(1);H.length=z.length}},d(o){o&&r(e),ze(A,o),ze(H,o),T=!1,et($)}}}function kt(n){let e;return{c(){e=O("⏳")},l(t){e=q(t,"⏳")},m(t,l){Z(t,e,l)},d(t){t&&r(e)}}}function Et(n){let e;return{c(){e=O("📋")},l(t){e=q(t,"📋")},m(t,l){Z(t,e,l)},d(t){t&&r(e)}}}function Dt(n){let e;return{c(){e=O("No Pending Submissions")},l(t){e=q(t,"No Pending Submissions")},m(t,l){Z(t,e,l)},d(t){t&&r(e)}}}function It(n){let e;return{c(){e=O("No Submissions Found")},l(t){e=q(t,"No Submissions Found")},m(t,l){Z(t,e,l)},d(t){t&&r(e)}}}function St(n){let e,t="Submit Points";return{c(){e=d("a"),e.textContent=t,this.h()},l(l){e=c(l,"A",{href:!0,class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1h3e8sw"&&(e.textContent=t),this.h()},h(){v(e,"href","/submit"),v(e,"class","submit-button svelte-iwynd3")},m(l,a){Z(l,e,a)},p:Ve,d(l){l&&r(e)}}}function Vt(n){let e,t="View All Submissions",l,a;return{c(){e=d("button"),e.textContent=t,this.h()},l(i){e=c(i,"BUTTON",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-12i0hvs"&&(e.textContent=t),this.h()},h(){v(e,"class","toggle-button svelte-iwynd3")},m(i,h){Z(i,e,h),l||(a=Se(e,"click",n[10]),l=!0)},p:Ve,d(i){i&&r(e),l=!1,a()}}}function Pt(n){let e,t="—";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-55qnxv"&&(e.textContent=t),this.h()},h(){v(e,"class","no-reason svelte-iwynd3")},m(l,a){Z(l,e,a)},p:Ve,d(l){l&&r(e)}}}function At(n){let e,t=n[22].rejection_reason+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=c(a,"SPAN",{class:!0});var i=w(e);l=q(i,t),i.forEach(r),this.h()},h(){v(e,"class","rejection-reason svelte-iwynd3")},m(a,i){Z(a,e,i),s(e,l)},p(a,i){i&16&&t!==(t=a[22].rejection_reason+"")&&G(l,t)},d(a){a&&r(e)}}}function Ke(n){let e,t,l=n[22].category+"",a,i,h,m=n[22].description+"",C,g,_,D=n[22].points+"",k,B,L,E=Oe(n[22].event_date)+"",I,P,p,b,N,M=oe(n[22]).icon+"",F,U,f=oe(n[22]).text+"",u,R,T,$,J;function A(o,y){return o[22].rejection_reason?At:Pt}let z=A(n),H=z(n);return{c(){e=d("tr"),t=d("td"),a=O(l),i=V(),h=d("td"),C=O(m),g=V(),_=d("td"),k=O(D),B=V(),L=d("td"),I=O(E),P=V(),p=d("td"),b=d("span"),N=d("span"),F=O(M),U=V(),u=O(f),T=V(),$=d("td"),H.c(),J=V(),this.h()},l(o){e=c(o,"TR",{class:!0});var y=w(e);t=c(y,"TD",{class:!0});var j=w(t);a=q(j,l),j.forEach(r),i=S(y),h=c(y,"TD",{class:!0});var Y=w(h);C=q(Y,m),Y.forEach(r),g=S(y),_=c(y,"TD",{class:!0});var ne=w(_);k=q(ne,D),ne.forEach(r),B=S(y),L=c(y,"TD",{class:!0});var K=w(L);I=q(K,E),K.forEach(r),P=S(y),p=c(y,"TD",{class:!0});var ee=w(p);b=c(ee,"SPAN",{class:!0});var te=w(b);N=c(te,"SPAN",{class:!0});var se=w(N);F=q(se,M),se.forEach(r),U=S(te),u=q(te,f),te.forEach(r),ee.forEach(r),T=S(y),$=c(y,"TD",{class:!0});var W=w($);H.l(W),W.forEach(r),J=S(y),y.forEach(r),this.h()},h(){v(t,"class","category-cell svelte-iwynd3"),v(h,"class","description-cell svelte-iwynd3"),v(_,"class","points-cell svelte-iwynd3"),v(L,"class","date-cell svelte-iwynd3"),v(N,"class","status-icon"),v(b,"class",R="status-badge "+oe(n[22]).class+" svelte-iwynd3"),v(p,"class","status-cell svelte-iwynd3"),v($,"class","reason-cell svelte-iwynd3"),v(e,"class","submission-row svelte-iwynd3")},m(o,y){Z(o,e,y),s(e,t),s(t,a),s(e,i),s(e,h),s(h,C),s(e,g),s(e,_),s(_,k),s(e,B),s(e,L),s(L,I),s(e,P),s(e,p),s(p,b),s(b,N),s(N,F),s(b,U),s(b,u),s(e,T),s(e,$),H.m($,null),s(e,J)},p(o,y){y&16&&l!==(l=o[22].category+"")&&G(a,l),y&16&&m!==(m=o[22].description+"")&&G(C,m),y&16&&D!==(D=o[22].points+"")&&G(k,D),y&16&&E!==(E=Oe(o[22].event_date)+"")&&G(I,E),y&16&&M!==(M=oe(o[22]).icon+"")&&G(F,M),y&16&&f!==(f=oe(o[22]).text+"")&&G(u,f),y&16&&R!==(R="status-badge "+oe(o[22]).class+" svelte-iwynd3")&&v(b,"class",R),z===(z=A(o))&&H?H.p(o,y):(H.d(1),H=z(o),H&&(H.c(),H.m($,null)))},d(o){o&&r(e),H.d()}}}function Qe(n){let e,t,l="Reason:",a,i,h=n[22].rejection_reason+"",m;return{c(){e=d("div"),t=d("span"),t.textContent=l,a=V(),i=d("span"),m=O(h),this.h()},l(C){e=c(C,"DIV",{class:!0});var g=w(e);t=c(g,"SPAN",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1ynsys5"&&(t.textContent=l),a=S(g),i=c(g,"SPAN",{class:!0});var _=w(i);m=q(_,h),_.forEach(r),g.forEach(r),this.h()},h(){v(t,"class","label svelte-iwynd3"),v(i,"class","value rejection-text svelte-iwynd3"),v(e,"class","card-row rejection-row svelte-iwynd3")},m(C,g){Z(C,e,g),s(e,t),s(e,a),s(e,i),s(i,m)},p(C,g){g&16&&h!==(h=C[22].rejection_reason+"")&&G(m,h)},d(C){C&&r(e)}}}function We(n){let e,t,l,a=n[22].category+"",i,h,m,C,g=oe(n[22]).icon+"",_,D,k=oe(n[22]).text+"",B,L,E,I,P,p,b="Description:",N,M,F=n[22].description+"",U,f,u,R,T="Points:",$,J,A=n[22].points+"",z,H,o,y,j="Event Date:",Y,ne,K=Oe(n[22].event_date)+"",ee,te,se,W=n[22].rejection_reason&&Qe(n);return{c(){e=d("div"),t=d("div"),l=d("div"),i=O(a),h=V(),m=d("span"),C=d("span"),_=O(g),D=V(),B=O(k),E=V(),I=d("div"),P=d("div"),p=d("span"),p.textContent=b,N=V(),M=d("span"),U=O(F),f=V(),u=d("div"),R=d("span"),R.textContent=T,$=V(),J=d("span"),z=O(A),H=V(),o=d("div"),y=d("span"),y.textContent=j,Y=V(),ne=d("span"),ee=O(K),te=V(),W&&W.c(),se=V(),this.h()},l(Q){e=c(Q,"DIV",{class:!0});var X=w(e);t=c(X,"DIV",{class:!0});var ce=w(t);l=c(ce,"DIV",{class:!0});var fe=w(l);i=q(fe,a),fe.forEach(r),h=S(ce),m=c(ce,"SPAN",{class:!0});var ve=w(m);C=c(ve,"SPAN",{class:!0});var de=w(C);_=q(de,g),de.forEach(r),D=S(ve),B=q(ve,k),ve.forEach(r),ce.forEach(r),E=S(X),I=c(X,"DIV",{class:!0});var ie=w(I);P=c(ie,"DIV",{class:!0});var _e=w(P);p=c(_e,"SPAN",{class:!0,"data-svelte-h":!0}),x(p)!=="svelte-18hxrur"&&(p.textContent=b),N=S(_e),M=c(_e,"SPAN",{class:!0});var Ce=w(M);U=q(Ce,F),Ce.forEach(r),_e.forEach(r),f=S(ie),u=c(ie,"DIV",{class:!0});var he=w(u);R=c(he,"SPAN",{class:!0,"data-svelte-h":!0}),x(R)!=="svelte-11v1tm"&&(R.textContent=T),$=S(he),J=c(he,"SPAN",{class:!0});var ke=w(J);z=q(ke,A),ke.forEach(r),he.forEach(r),H=S(ie),o=c(ie,"DIV",{class:!0});var pe=w(o);y=c(pe,"SPAN",{class:!0,"data-svelte-h":!0}),x(y)!=="svelte-1c8g29x"&&(y.textContent=j),Y=S(pe),ne=c(pe,"SPAN",{class:!0});var ae=w(ne);ee=q(ae,K),ae.forEach(r),pe.forEach(r),te=S(ie),W&&W.l(ie),ie.forEach(r),se=S(X),X.forEach(r),this.h()},h(){v(l,"class","category-badge svelte-iwynd3"),v(C,"class","status-icon"),v(m,"class",L="status-badge "+oe(n[22]).class+" svelte-iwynd3"),v(t,"class","card-header svelte-iwynd3"),v(p,"class","label svelte-iwynd3"),v(M,"class","value svelte-iwynd3"),v(P,"class","card-row svelte-iwynd3"),v(R,"class","label svelte-iwynd3"),v(J,"class","value points-value svelte-iwynd3"),v(u,"class","card-row svelte-iwynd3"),v(y,"class","label svelte-iwynd3"),v(ne,"class","value svelte-iwynd3"),v(o,"class","card-row svelte-iwynd3"),v(I,"class","card-body svelte-iwynd3"),v(e,"class","mobile-card svelte-iwynd3")},m(Q,X){Z(Q,e,X),s(e,t),s(t,l),s(l,i),s(t,h),s(t,m),s(m,C),s(C,_),s(m,D),s(m,B),s(e,E),s(e,I),s(I,P),s(P,p),s(P,N),s(P,M),s(M,U),s(I,f),s(I,u),s(u,R),s(u,$),s(u,J),s(J,z),s(I,H),s(I,o),s(o,y),s(o,Y),s(o,ne),s(ne,ee),s(I,te),W&&W.m(I,null),s(e,se)},p(Q,X){X&16&&a!==(a=Q[22].category+"")&&G(i,a),X&16&&g!==(g=oe(Q[22]).icon+"")&&G(_,g),X&16&&k!==(k=oe(Q[22]).text+"")&&G(B,k),X&16&&L!==(L="status-badge "+oe(Q[22]).class+" svelte-iwynd3")&&v(m,"class",L),X&16&&F!==(F=Q[22].description+"")&&G(U,F),X&16&&A!==(A=Q[22].points+"")&&G(z,A),X&16&&K!==(K=Oe(Q[22].event_date)+"")&&G(ee,K),Q[22].rejection_reason?W?W.p(Q,X):(W=Qe(Q),W.c(),W.m(I,null)):W&&(W.d(1),W=null)},d(Q){Q&&r(e),W&&W.d()}}}function jt(n){let e,t,l,a,i,h;e=new vt({props:{title:"My Submissions",subtitle:"Track your brewing achievements and points",icon:"📋",center:!0}});const m=[mt,pt,ht],C=[];function g(_,D){return _[9]?0:_[1]?2:1}return l=g(n),a=C[l]=m[l](n),{c(){Ne(e.$$.fragment),t=V(),a.c(),i=qe()},l(_){je(e.$$.fragment,_),t=S(_),a.l(_),i=qe()},m(_,D){Ae(e,_,D),Z(_,t,D),C[l].m(_,D),Z(_,i,D),h=!0},p(_,D){let k=l;l=g(_),l===k?C[l].p(_,D):(lt(),ye(C[k],1,1,()=>{C[k]=null}),nt(),a=C[l],a?a.p(_,D):(a=C[l]=m[l](_),a.c()),we(a,1),a.m(i.parentNode,i))},i(_){h||(we(e.$$.fragment,_),we(a),h=!0)},o(_){ye(e.$$.fragment,_),ye(a),h=!1},d(_){_&&(r(t),r(i)),Pe(e,_),C[l].d(_)}}}function Nt(n){let e,t;return e=new ut({props:{size:"lg",$$slots:{default:[jt]},$$scope:{ctx:n}}}),{c(){Ne(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ae(e,l,a),t=!0},p(l,[a]){const i={};a&134218751&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(we(e.$$.fragment,l),t=!0)},o(l){ye(e.$$.fragment,l),t=!1},d(l){Pe(e,l)}}}function Tt(){return()=>{}}function oe(n){return n.approved===!0?{text:"Approved",icon:"✅",class:"status-approved"}:n.rejection_reason?{text:"Rejected",icon:"❌",class:"status-rejected"}:{text:"Pending",icon:"⏳",class:"status-pending"}}function $t(n,e,t){let l,a,i,h,m,C;De(n,at,u=>t(13,a=u)),De(n,Je,u=>t(2,i=u)),De(n,rt,u=>t(3,h=u)),De(n,ot,u=>t(14,m=u)),De(n,ct,u=>t(9,C=u));let g=[],_="",D=!1,k="event_date",B="desc",L=null,E,I=[];async function P(u=!1){if(!E){t(5,_="Please log in to view your submissions."),Je.set([]);return}await it(E,k,B,u),t(5,_=h)}function p(){t(0,D=!D),console.log("[submissions] toggleView clicked → showAll =",D)}function b(u){k===u?t(7,B=B==="asc"?"desc":"asc"):(t(6,k=u),t(7,B="asc")),console.log(`[submissions] sortTable: sortColumn = ${k}, sortDirection = ${B}`),P(!0)}function N(){const u=i||[];console.log("Stats calculation - allSubs:",u.length,u);const R=u.filter(A=>A.approved===!0).length,T=u.filter(A=>A.rejection_reason).length,$=u.filter(A=>A.approved===!1&&!A.rejection_reason).length,J=u.filter(A=>A.approved===!0).reduce((A,z)=>A+(z.points||0),0);return console.log("Stats result:",{approved:R,rejected:T,pending:$,totalPoints:J}),{approved:R,rejected:T,pending:$,totalPoints:J}}Ze(()=>{console.log("[submissions] onMount → initial loadAllSubmissions"),P(!0);const u=Tt();I.push(u)}),xe(()=>{I.forEach(u=>u())});const M=()=>b("category"),F=()=>b("description"),U=()=>b("points"),f=()=>b("event_date");return n.$$.update=()=>{if(n.$$.dirty&16384&&t(1,E=m==null?void 0:m.id),n.$$.dirty&4098&&E&&E!==L&&(t(12,L=E),P(!0)),n.$$.dirty&13){const u=i;if(h)t(4,g=u??[]),t(5,_=h);else if(!u)t(4,g=[]),t(5,_="No submissions found.");else if(D)t(4,g=u),t(5,_=u.length>0?"":"No submissions found.");else{const R=u.filter(T=>T.approved===!1&&T.rejection_reason===null);t(4,g=R),t(5,_=R.length>0?"":"No pending submissions found.")}}n.$$.dirty&4&&t(8,l=i&&i.length>0?N():{approved:0,rejected:0,pending:0,totalPoints:0}),n.$$.dirty&8194&&a.url.pathname==="/my-submissions"&&E&&(console.log("[submissions] $page.url.pathname triggered reload"),P(!0))},[D,E,i,h,g,_,k,B,l,C,p,b,L,a,m,M,F,U,f]}class Yt extends tt{constructor(e){super(),st(this,e,$t,Nt,Xe,{})}}export{Yt as component};
