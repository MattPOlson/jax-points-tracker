import{s as Rt,n as vt,d as i,i as be,b as l,q as u,c as n,e as v,v as Q,g as y,h as a,j as P,k as Pt,w as zt,x as Vt,F as rt,I as ut,y as pt,r as mt,a as se,B as ee,A as Ze,p as me,C as ct,f as J,z as Tt,t as G,K as _t,G as _e}from"../chunks/DOvoZ9Ia.js";import{e as et}from"../chunks/DJwZhPfI.js";import{S as jt,i as Bt}from"../chunks/DZMW2zPD.js";import{g as ft}from"../chunks/F2-QbuOs.js";import{p as Mt}from"../chunks/BwSWz2JU.js";import{u as Ht}from"../chunks/DP1yl1qp.js";import{s as Ye}from"../chunks/CCM_4jRA.js";function wt(e,t,s){const o=e.slice();return o[37]=t[s],o[38]=t,o[39]=s,o}function St(e,t,s){const o=e.slice();return o[37]=t[s],o[40]=t,o[41]=s,o}function Nt(e,t,s){const o=e.slice();return o[42]=t[s],o}function Ut(e){let t,s,o=e[3].name+"",w,T,b,p,d,m="Status",C,F,E,f=e[3].results_published?"Results Published":"Judging In Progress",V,_,L,Y,j,fe="Total Entries",de,ae,he=e[9].total+"",Ce,De,x,B,Le="Results Entered",Ee,N,W=e[9].completed+"",oe,ve,Ne=e[9].total+"",z,Re,Z=e[9].percentage+"",re,pe,r,c,g,M="Unsaved Changes",A,$,H=e[8].size+"",ie,ne,Ie,k,D,U,I,q,Je="All Categories",He,X,Te,ge="All Status",ke,te="Results Pending",we,Oe="Results Complete",S,K,Ue=e[7]?"Saving...":`Save All Results ${e[8].size>0?`(${e[8].size})`:""}`,je,qe,We,Ae,Fe=e[3].results_published?"Results Published":"Publish Results",Ge,Se,R,ue,Be="Back",ze,ye,Ke,tt,Qe=et(e[5]),ce=[];for(let h=0;h<Qe.length;h+=1)ce[h]=It(Nt(e,Qe,h));function $e(h,O){return h[4].length===0?Jt:Ft}let Xe=$e(e),Pe=Xe(e);return{c(){t=a("div"),s=a("h2"),w=G(o),T=P(),b=a("div"),p=a("div"),d=a("span"),d.textContent=m,C=P(),F=a("span"),E=a("span"),V=G(f),L=P(),Y=a("div"),j=a("span"),j.textContent=fe,de=P(),ae=a("span"),Ce=G(he),De=P(),x=a("div"),B=a("span"),B.textContent=Le,Ee=P(),N=a("span"),oe=G(W),ve=G(" of "),z=G(Ne),Re=G(" ("),re=G(Z),pe=G("%)"),r=P(),c=a("div"),g=a("span"),g.textContent=M,A=P(),$=a("span"),ie=G(H),Ie=P(),k=a("div"),D=a("input"),U=P(),I=a("select"),q=a("option"),q.textContent=Je;for(let h=0;h<ce.length;h+=1)ce[h].c();He=P(),X=a("select"),Te=a("option"),Te.textContent=ge,ke=a("option"),ke.textContent=te,we=a("option"),we.textContent=Oe,S=P(),K=a("button"),je=G(Ue),We=P(),Ae=a("button"),Ge=G(Fe),R=P(),ue=a("button"),ue.textContent=Be,ze=P(),Pe.c(),ye=Tt(),this.h()},l(h){t=n(h,"DIV",{class:!0});var O=v(t);s=n(O,"H2",{class:!0});var le=v(s);w=J(le,o),le.forEach(i),T=y(O),b=n(O,"DIV",{class:!0});var Me=v(b);p=n(Me,"DIV",{class:!0});var lt=v(p);d=n(lt,"SPAN",{class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-4ayl72"&&(d.textContent=m),C=y(lt),F=n(lt,"SPAN",{class:!0});var bt=v(F);E=n(bt,"SPAN",{class:!0});var gt=v(E);V=J(gt,f),gt.forEach(i),bt.forEach(i),lt.forEach(i),L=y(Me),Y=n(Me,"DIV",{class:!0});var st=v(Y);j=n(st,"SPAN",{class:!0,"data-svelte-h":!0}),Q(j)!=="svelte-1ly6mm6"&&(j.textContent=fe),de=y(st),ae=n(st,"SPAN",{class:!0});var kt=v(ae);Ce=J(kt,he),kt.forEach(i),st.forEach(i),De=y(Me),x=n(Me,"DIV",{class:!0});var nt=v(x);B=n(nt,"SPAN",{class:!0,"data-svelte-h":!0}),Q(B)!=="svelte-k36mlp"&&(B.textContent=Le),Ee=y(nt),N=n(nt,"SPAN",{class:!0});var xe=v(N);oe=J(xe,W),ve=J(xe," of "),z=J(xe,Ne),Re=J(xe," ("),re=J(xe,Z),pe=J(xe,"%)"),xe.forEach(i),nt.forEach(i),r=y(Me),c=n(Me,"DIV",{class:!0});var at=v(c);g=n(at,"SPAN",{class:!0,"data-svelte-h":!0}),Q(g)!=="svelte-1f8luub"&&(g.textContent=M),A=y(at),$=n(at,"SPAN",{class:!0});var Ct=v($);ie=J(Ct,H),Ct.forEach(i),at.forEach(i),Me.forEach(i),O.forEach(i),Ie=y(h),k=n(h,"DIV",{class:!0});var Ve=v(k);D=n(Ve,"INPUT",{type:!0,class:!0,placeholder:!0}),U=y(Ve),I=n(Ve,"SELECT",{class:!0});var dt=v(I);q=n(dt,"OPTION",{"data-svelte-h":!0}),Q(q)!=="svelte-16sr5ty"&&(q.textContent=Je);for(let ht=0;ht<ce.length;ht+=1)ce[ht].l(dt);dt.forEach(i),He=y(Ve),X=n(Ve,"SELECT",{class:!0});var ot=v(X);Te=n(ot,"OPTION",{"data-svelte-h":!0}),Q(Te)!=="svelte-rskcdc"&&(Te.textContent=ge),ke=n(ot,"OPTION",{"data-svelte-h":!0}),Q(ke)!=="svelte-lfxbu2"&&(ke.textContent=te),we=n(ot,"OPTION",{"data-svelte-h":!0}),Q(we)!=="svelte-1agbgc4"&&(we.textContent=Oe),ot.forEach(i),S=y(Ve),K=n(Ve,"BUTTON",{class:!0});var Et=v(K);je=J(Et,Ue),Et.forEach(i),We=y(Ve),Ae=n(Ve,"BUTTON",{class:!0});var yt=v(Ae);Ge=J(yt,Fe),yt.forEach(i),R=y(Ve),ue=n(Ve,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(ue)!=="svelte-1avwh4"&&(ue.textContent=Be),Ve.forEach(i),ze=y(h),Pe.l(h),ye=Tt(),this.h()},h(){u(s,"class","svelte-h1okl1"),u(d,"class","info-label svelte-h1okl1"),u(E,"class",_="status-badge "+(e[3].results_published?"status-completed":"status-judging")+" svelte-h1okl1"),u(F,"class","info-value svelte-h1okl1"),u(p,"class","info-item svelte-h1okl1"),u(j,"class","info-label svelte-h1okl1"),u(ae,"class","info-value svelte-h1okl1"),u(Y,"class","info-item svelte-h1okl1"),u(B,"class","info-label svelte-h1okl1"),u(N,"class","info-value svelte-h1okl1"),u(x,"class","info-item svelte-h1okl1"),u(g,"class","info-label svelte-h1okl1"),u($,"class",ne="info-value "+(e[8].size>0?"status-pending":"status-complete")+" svelte-h1okl1"),u(c,"class","info-item svelte-h1okl1"),u(b,"class","info-grid svelte-h1okl1"),u(t,"class","competition-info svelte-h1okl1"),u(D,"type","text"),u(D,"class","search-input svelte-h1okl1"),u(D,"placeholder","Search by entry number, member, or beer name..."),q.__value="all",ee(q,q.__value),u(I,"class","filter-select svelte-h1okl1"),e[1]===void 0&&ct(()=>e[18].call(I)),Te.__value="all",ee(Te,Te.__value),ke.__value="pending",ee(ke,ke.__value),we.__value="complete",ee(we,we.__value),u(X,"class","filter-select svelte-h1okl1"),e[2]===void 0&&ct(()=>e[19].call(X)),u(K,"class","btn btn-success svelte-h1okl1"),K.disabled=qe=e[7]||e[8].size===0,u(Ae,"class","btn btn-primary svelte-h1okl1"),Ae.disabled=Se=e[7]||e[3].results_published,u(ue,"class","btn btn-secondary svelte-h1okl1"),u(k,"class","controls svelte-h1okl1")},m(h,O){be(h,t,O),l(t,s),l(s,w),l(t,T),l(t,b),l(b,p),l(p,d),l(p,C),l(p,F),l(F,E),l(E,V),l(b,L),l(b,Y),l(Y,j),l(Y,de),l(Y,ae),l(ae,Ce),l(b,De),l(b,x),l(x,B),l(x,Ee),l(x,N),l(N,oe),l(N,ve),l(N,z),l(N,Re),l(N,re),l(N,pe),l(b,r),l(b,c),l(c,g),l(c,A),l(c,$),l($,ie),be(h,Ie,O),be(h,k,O),l(k,D),ee(D,e[0]),l(k,U),l(k,I),l(I,q);for(let le=0;le<ce.length;le+=1)ce[le]&&ce[le].m(I,null);Ze(I,e[1],!0),l(k,He),l(k,X),l(X,Te),l(X,ke),l(X,we),Ze(X,e[2],!0),l(k,S),l(k,K),l(K,je),l(k,We),l(k,Ae),l(Ae,Ge),l(k,R),l(k,ue),be(h,ze,O),Pe.m(h,O),be(h,ye,O),Ke||(tt=[me(D,"input",e[17]),me(I,"change",e[18]),me(X,"change",e[19]),me(K,"click",e[12]),me(Ae,"click",e[13]),me(ue,"click",e[20])],Ke=!0)},p(h,O){if(O[0]&8&&o!==(o=h[3].name+"")&&se(w,o),O[0]&8&&f!==(f=h[3].results_published?"Results Published":"Judging In Progress")&&se(V,f),O[0]&8&&_!==(_="status-badge "+(h[3].results_published?"status-completed":"status-judging")+" svelte-h1okl1")&&u(E,"class",_),O[0]&512&&he!==(he=h[9].total+"")&&se(Ce,he),O[0]&512&&W!==(W=h[9].completed+"")&&se(oe,W),O[0]&512&&Ne!==(Ne=h[9].total+"")&&se(z,Ne),O[0]&512&&Z!==(Z=h[9].percentage+"")&&se(re,Z),O[0]&256&&H!==(H=h[8].size+"")&&se(ie,H),O[0]&256&&ne!==(ne="info-value "+(h[8].size>0?"status-pending":"status-complete")+" svelte-h1okl1")&&u($,"class",ne),O[0]&1&&D.value!==h[0]&&ee(D,h[0]),O[0]&32){Qe=et(h[5]);let le;for(le=0;le<Qe.length;le+=1){const Me=Nt(h,Qe,le);ce[le]?ce[le].p(Me,O):(ce[le]=It(Me),ce[le].c(),ce[le].m(I,null))}for(;le<ce.length;le+=1)ce[le].d(1);ce.length=Qe.length}O[0]&34&&Ze(I,h[1]),O[0]&4&&Ze(X,h[2]),O[0]&384&&Ue!==(Ue=h[7]?"Saving...":`Save All Results ${h[8].size>0?`(${h[8].size})`:""}`)&&se(je,Ue),O[0]&384&&qe!==(qe=h[7]||h[8].size===0)&&(K.disabled=qe),O[0]&8&&Fe!==(Fe=h[3].results_published?"Results Published":"Publish Results")&&se(Ge,Fe),O[0]&136&&Se!==(Se=h[7]||h[3].results_published)&&(Ae.disabled=Se),Xe===(Xe=$e(h))&&Pe?Pe.p(h,O):(Pe.d(1),Pe=Xe(h),Pe&&(Pe.c(),Pe.m(ye.parentNode,ye)))},d(h){h&&(i(t),i(Ie),i(k),i(ze),i(ye)),pt(ce,h),Pe.d(h),Ke=!1,mt(tt)}}}function qt(e){let t,s='<div class="spinner svelte-h1okl1"></div> <p>Loading competition entries...</p>';return{c(){t=a("div"),t.innerHTML=s,this.h()},l(o){t=n(o,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-ylvmdq"&&(t.innerHTML=s),this.h()},h(){u(t,"class","loading svelte-h1okl1")},m(o,w){be(o,t,w)},p:vt,d(o){o&&i(t)}}}function It(e){let t,s=e[42].label+"",o,w;return{c(){t=a("option"),o=G(s),this.h()},l(T){t=n(T,"OPTION",{});var b=v(t);o=J(b,s),b.forEach(i),this.h()},h(){t.__value=w=e[42].value,ee(t,t.__value)},m(T,b){be(T,t,b),l(t,o)},p(T,b){b[0]&32&&s!==(s=T[42].label+"")&&se(o,s),b[0]&32&&w!==(w=T[42].value)&&(t.__value=w,ee(t,t.__value))},d(T){T&&i(t)}}}function Ft(e){let t,s,o,w='<tr class="svelte-h1okl1"><th class="svelte-h1okl1">Entry #</th> <th class="svelte-h1okl1">Member</th> <th class="svelte-h1okl1">Beer Name</th> <th class="svelte-h1okl1">Category</th> <th class="svelte-h1okl1">Score</th> <th class="svelte-h1okl1">Placement</th> <th class="svelte-h1okl1">Status</th> <th class="svelte-h1okl1">Actions</th></tr>',T,b,p,d,m=et(e[4]),C=[];for(let f=0;f<m.length;f+=1)C[f]=At(St(e,m,f));let F=et(e[4]),E=[];for(let f=0;f<F.length;f+=1)E[f]=Lt(wt(e,F,f));return{c(){t=a("div"),s=a("table"),o=a("thead"),o.innerHTML=w,T=P(),b=a("tbody");for(let f=0;f<C.length;f+=1)C[f].c();p=P(),d=a("div");for(let f=0;f<E.length;f+=1)E[f].c();this.h()},l(f){t=n(f,"DIV",{class:!0});var V=v(t);s=n(V,"TABLE",{class:!0});var _=v(s);o=n(_,"THEAD",{"data-svelte-h":!0}),Q(o)!=="svelte-4e4wv9"&&(o.innerHTML=w),T=y(_),b=n(_,"TBODY",{});var L=v(b);for(let j=0;j<C.length;j+=1)C[j].l(L);L.forEach(i),_.forEach(i),V.forEach(i),p=y(f),d=n(f,"DIV",{class:!0});var Y=v(d);for(let j=0;j<E.length;j+=1)E[j].l(Y);Y.forEach(i),this.h()},h(){u(s,"class","svelte-h1okl1"),u(t,"class","results-table svelte-h1okl1"),u(d,"class","entry-cards svelte-h1okl1")},m(f,V){be(f,t,V),l(t,s),l(s,o),l(s,T),l(s,b);for(let _=0;_<C.length;_+=1)C[_]&&C[_].m(b,null);be(f,p,V),be(f,d,V);for(let _=0;_<E.length;_+=1)E[_]&&E[_].m(d,null)},p(f,V){if(V[0]&3472){m=et(f[4]);let _;for(_=0;_<m.length;_+=1){const L=St(f,m,_);C[_]?C[_].p(L,V):(C[_]=At(L),C[_].c(),C[_].m(b,null))}for(;_<C.length;_+=1)C[_].d(1);C.length=m.length}if(V[0]&3472){F=et(f[4]);let _;for(_=0;_<F.length;_+=1){const L=wt(f,F,_);E[_]?E[_].p(L,V):(E[_]=Lt(L),E[_].c(),E[_].m(d,null))}for(;_<E.length;_+=1)E[_].d(1);E.length=F.length}},d(f){f&&(i(t),i(p),i(d)),pt(C,f),pt(E,f)}}}function Jt(e){let t,s,o="No entries found",w,T;function b(m,C){return m[0]||m[1]!=="all"||m[2]!=="all"?Kt:Gt}let p=b(e),d=p(e);return{c(){t=a("div"),s=a("h3"),s.textContent=o,w=P(),T=a("p"),d.c(),this.h()},l(m){t=n(m,"DIV",{class:!0});var C=v(t);s=n(C,"H3",{"data-svelte-h":!0}),Q(s)!=="svelte-12l3juz"&&(s.textContent=o),w=y(C),T=n(C,"P",{});var F=v(T);d.l(F),F.forEach(i),C.forEach(i),this.h()},h(){u(t,"class","empty-state svelte-h1okl1")},m(m,C){be(m,t,C),l(t,s),l(t,w),l(t,T),d.m(T,null)},p(m,C){p!==(p=b(m))&&(d.d(1),d=p(m),d&&(d.c(),d.m(T,null)))},d(m){m&&i(t),d.d()}}}function Ot(e){let t,s="*";return{c(){t=a("span"),t.textContent=s,this.h()},l(o){t=n(o,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1wkczod"&&(t.textContent=s),this.h()},h(){u(t,"class","unsaved-indicator svelte-h1okl1")},m(o,w){be(o,t,w)},d(o){o&&i(t)}}}function At(e){let t,s,o,w=e[37].entry_number+"",T,b,p,d,m=e[37].member_name+"",C,F,E,f=e[37].member_email+"",V,_,L,Y=(e[37].beer_name||"-")+"",j,fe,de,ae,he=e[37].category_display+"",Ce,De,x,B,Le,Ee,N,W,oe="No Placement",ve,Ne="1st Place",z,Re="2nd Place",Z,re="3rd Place",pe,r="Honorable Mention",c,g,M,A=e[37].has_results&&e[37].score?"✅ Complete":"❌ Pending",$,H,ie,ne=e[8].has(e[37].id),Ie,k,D,U=e[7]?"Saving...":"Save",I,q,Je,He;function X(){e[21].call(B,e[40],e[41])}function Te(){return e[22](e[37])}function ge(){e[23].call(N,e[40],e[41])}function ke(){return e[24](e[37])}let te=ne&&Ot();function we(){return e[25](e[37])}return{c(){t=a("tr"),s=a("td"),o=a("span"),T=G(w),b=P(),p=a("td"),d=a("div"),C=G(m),F=P(),E=a("small"),V=G(f),_=P(),L=a("td"),j=G(Y),fe=P(),de=a("td"),ae=a("span"),Ce=G(he),De=P(),x=a("td"),B=a("input"),Le=P(),Ee=a("td"),N=a("select"),W=a("option"),W.textContent=oe,ve=a("option"),ve.textContent=Ne,z=a("option"),z.textContent=Re,Z=a("option"),Z.textContent=re,pe=a("option"),pe.textContent=r,c=P(),g=a("td"),M=a("span"),$=G(A),ie=P(),te&&te.c(),Ie=P(),k=a("td"),D=a("button"),I=G(U),q=P(),this.h()},l(Oe){t=n(Oe,"TR",{class:!0});var S=v(t);s=n(S,"TD",{class:!0});var K=v(s);o=n(K,"SPAN",{class:!0});var Ue=v(o);T=J(Ue,w),Ue.forEach(i),K.forEach(i),b=y(S),p=n(S,"TD",{class:!0});var je=v(p);d=n(je,"DIV",{});var qe=v(d);C=J(qe,m),qe.forEach(i),F=y(je),E=n(je,"SMALL",{});var We=v(E);V=J(We,f),We.forEach(i),je.forEach(i),_=y(S),L=n(S,"TD",{class:!0});var Ae=v(L);j=J(Ae,Y),Ae.forEach(i),fe=y(S),de=n(S,"TD",{class:!0});var Fe=v(de);ae=n(Fe,"SPAN",{class:!0});var Ge=v(ae);Ce=J(Ge,he),Ge.forEach(i),Fe.forEach(i),De=y(S),x=n(S,"TD",{class:!0});var Se=v(x);B=n(Se,"INPUT",{type:!0,class:!0,placeholder:!0,min:!0,max:!0}),Se.forEach(i),Le=y(S),Ee=n(S,"TD",{class:!0});var R=v(Ee);N=n(R,"SELECT",{class:!0});var ue=v(N);W=n(ue,"OPTION",{"data-svelte-h":!0}),Q(W)!=="svelte-1iye3wy"&&(W.textContent=oe),ve=n(ue,"OPTION",{"data-svelte-h":!0}),Q(ve)!=="svelte-kdlfio"&&(ve.textContent=Ne),z=n(ue,"OPTION",{"data-svelte-h":!0}),Q(z)!=="svelte-144flmx"&&(z.textContent=Re),Z=n(ue,"OPTION",{"data-svelte-h":!0}),Q(Z)!=="svelte-2ew3df"&&(Z.textContent=re),pe=n(ue,"OPTION",{"data-svelte-h":!0}),Q(pe)!=="svelte-gsof6j"&&(pe.textContent=r),ue.forEach(i),R.forEach(i),c=y(S),g=n(S,"TD",{class:!0});var Be=v(g);M=n(Be,"SPAN",{class:!0});var ze=v(M);$=J(ze,A),ze.forEach(i),ie=y(Be),te&&te.l(Be),Be.forEach(i),Ie=y(S),k=n(S,"TD",{class:!0});var ye=v(k);D=n(ye,"BUTTON",{class:!0,style:!0});var Ke=v(D);I=J(Ke,U),Ke.forEach(i),ye.forEach(i),q=y(S),S.forEach(i),this.h()},h(){u(o,"class","entry-number svelte-h1okl1"),u(s,"class","svelte-h1okl1"),u(p,"class","svelte-h1okl1"),u(L,"class","svelte-h1okl1"),u(ae,"class","category-badge svelte-h1okl1"),u(de,"class","svelte-h1okl1"),u(B,"type","number"),u(B,"class","score-input svelte-h1okl1"),u(B,"placeholder","0-50"),u(B,"min","0"),u(B,"max","50"),u(x,"class","svelte-h1okl1"),W.__value="",ee(W,W.__value),ve.__value="1",ee(ve,ve.__value),z.__value="2",ee(z,z.__value),Z.__value="3",ee(Z,Z.__value),pe.__value="HM",ee(pe,pe.__value),u(N,"class","placement-select svelte-h1okl1"),e[37].placement===void 0&&ct(ge),u(Ee,"class","svelte-h1okl1"),u(M,"class",H=_t(e[37].has_results&&e[37].score?"status-complete":"status-pending")+" svelte-h1okl1"),u(g,"class","svelte-h1okl1"),u(D,"class","btn btn-primary svelte-h1okl1"),_e(D,"padding","0.4rem 0.8rem"),_e(D,"font-size","0.85rem"),D.disabled=e[7],u(k,"class","svelte-h1okl1"),u(t,"class","svelte-h1okl1")},m(Oe,S){be(Oe,t,S),l(t,s),l(s,o),l(o,T),l(t,b),l(t,p),l(p,d),l(d,C),l(p,F),l(p,E),l(E,V),l(t,_),l(t,L),l(L,j),l(t,fe),l(t,de),l(de,ae),l(ae,Ce),l(t,De),l(t,x),l(x,B),ee(B,e[37].score),l(t,Le),l(t,Ee),l(Ee,N),l(N,W),l(N,ve),l(N,z),l(N,Z),l(N,pe),Ze(N,e[37].placement,!0),l(t,c),l(t,g),l(g,M),l(M,$),l(g,ie),te&&te.m(g,null),l(t,Ie),l(t,k),l(k,D),l(D,I),l(t,q),Je||(He=[me(B,"input",X),me(B,"input",Te),me(N,"change",ge),me(N,"change",ke),me(D,"click",we)],Je=!0)},p(Oe,S){e=Oe,S[0]&16&&w!==(w=e[37].entry_number+"")&&se(T,w),S[0]&16&&m!==(m=e[37].member_name+"")&&se(C,m),S[0]&16&&f!==(f=e[37].member_email+"")&&se(V,f),S[0]&16&&Y!==(Y=(e[37].beer_name||"-")+"")&&se(j,Y),S[0]&16&&he!==(he=e[37].category_display+"")&&se(Ce,he),S[0]&16&&ut(B.value)!==e[37].score&&ee(B,e[37].score),S[0]&16&&Ze(N,e[37].placement),S[0]&16&&A!==(A=e[37].has_results&&e[37].score?"✅ Complete":"❌ Pending")&&se($,A),S[0]&16&&H!==(H=_t(e[37].has_results&&e[37].score?"status-complete":"status-pending")+" svelte-h1okl1")&&u(M,"class",H),S[0]&272&&(ne=e[8].has(e[37].id)),ne?te||(te=Ot(),te.c(),te.m(g,null)):te&&(te.d(1),te=null),S[0]&128&&U!==(U=e[7]?"Saving...":"Save")&&se(I,U),S[0]&128&&(D.disabled=e[7])},d(Oe){Oe&&i(t),te&&te.d(),Je=!1,mt(He)}}}function Dt(e){let t,s="*";return{c(){t=a("span"),t.textContent=s,this.h()},l(o){t=n(o,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1wkczod"&&(t.textContent=s),this.h()},h(){u(t,"class","unsaved-indicator svelte-h1okl1")},m(o,w){be(o,t,w)},d(o){o&&i(t)}}}function Lt(e){let t,s,o,w,T=e[37].entry_number+"",b,p,d,m=e[37].has_results&&e[37].score?"✅ Complete":"❌ Pending",C,F,E=e[8].has(e[37].id),f,V,_,L,Y,j=e[37].member_name+"",fe,de,ae,he=(e[37].beer_name||"No beer name")+"",Ce,De,x,B=e[37].category_display+"",Le,Ee,N,W,oe,ve="Score (0-50)",Ne,z,Re,Z,re,pe="Placement",r,c,g,M="No Placement",A,$="1st Place",H,ie="2nd Place",ne,Ie="3rd Place",k,D="Honorable Mention",U,I,q,Je="Judge Notes",He,X,Te,ge,ke=e[7]?"Saving Results...":"Save Results",te,we,Oe,S,K=E&&Dt();function Ue(){e[26].call(z,e[38],e[39])}function je(){return e[27](e[37])}function qe(){e[28].call(c,e[38],e[39])}function We(){return e[29](e[37])}function Ae(){e[30].call(X,e[38],e[39])}function Fe(){return e[31](e[37])}function Ge(){return e[32](e[37])}return{c(){t=a("div"),s=a("div"),o=a("span"),w=G("Entry #"),b=G(T),p=P(),d=a("span"),C=G(m),F=P(),K&&K.c(),V=P(),_=a("div"),L=a("div"),Y=a("strong"),fe=G(j),de=P(),ae=a("div"),Ce=G(he),De=P(),x=a("span"),Le=G(B),Ee=P(),N=a("div"),W=a("div"),oe=a("label"),oe.textContent=ve,Ne=P(),z=a("input"),Re=P(),Z=a("div"),re=a("label"),re.textContent=pe,r=P(),c=a("select"),g=a("option"),g.textContent=M,A=a("option"),A.textContent=$,H=a("option"),H.textContent=ie,ne=a("option"),ne.textContent=Ie,k=a("option"),k.textContent=D,U=P(),I=a("div"),q=a("label"),q.textContent=Je,He=P(),X=a("textarea"),Te=P(),ge=a("button"),te=G(ke),we=P(),this.h()},l(Se){t=n(Se,"DIV",{class:!0});var R=v(t);s=n(R,"DIV",{class:!0});var ue=v(s);o=n(ue,"SPAN",{class:!0});var Be=v(o);w=J(Be,"Entry #"),b=J(Be,T),Be.forEach(i),p=y(ue),d=n(ue,"SPAN",{class:!0});var ze=v(d);C=J(ze,m),F=y(ze),K&&K.l(ze),ze.forEach(i),ue.forEach(i),V=y(R),_=n(R,"DIV",{style:!0});var ye=v(_);L=n(ye,"DIV",{});var Ke=v(L);Y=n(Ke,"STRONG",{});var tt=v(Y);fe=J(tt,j),tt.forEach(i),Ke.forEach(i),de=y(ye),ae=n(ye,"DIV",{});var Qe=v(ae);Ce=J(Qe,he),Qe.forEach(i),De=y(ye),x=n(ye,"SPAN",{class:!0});var ce=v(x);Le=J(ce,B),ce.forEach(i),ye.forEach(i),Ee=y(R),N=n(R,"DIV",{class:!0});var $e=v(N);W=n($e,"DIV",{});var Xe=v(W);oe=n(Xe,"LABEL",{style:!0,"data-svelte-h":!0}),Q(oe)!=="svelte-1onvleo"&&(oe.textContent=ve),Ne=y(Xe),z=n(Xe,"INPUT",{type:!0,class:!0,placeholder:!0,min:!0,max:!0,style:!0}),Xe.forEach(i),Re=y($e),Z=n($e,"DIV",{});var Pe=v(Z);re=n(Pe,"LABEL",{style:!0,"data-svelte-h":!0}),Q(re)!=="svelte-pbus9m"&&(re.textContent=pe),r=y(Pe),c=n(Pe,"SELECT",{class:!0,style:!0});var h=v(c);g=n(h,"OPTION",{"data-svelte-h":!0}),Q(g)!=="svelte-1iye3wy"&&(g.textContent=M),A=n(h,"OPTION",{"data-svelte-h":!0}),Q(A)!=="svelte-kdlfio"&&(A.textContent=$),H=n(h,"OPTION",{"data-svelte-h":!0}),Q(H)!=="svelte-144flmx"&&(H.textContent=ie),ne=n(h,"OPTION",{"data-svelte-h":!0}),Q(ne)!=="svelte-2ew3df"&&(ne.textContent=Ie),k=n(h,"OPTION",{"data-svelte-h":!0}),Q(k)!=="svelte-gsof6j"&&(k.textContent=D),h.forEach(i),Pe.forEach(i),$e.forEach(i),U=y(R),I=n(R,"DIV",{style:!0});var O=v(I);q=n(O,"LABEL",{style:!0,"data-svelte-h":!0}),Q(q)!=="svelte-za5z0z"&&(q.textContent=Je),He=y(O),X=n(O,"TEXTAREA",{class:!0,placeholder:!0}),v(X).forEach(i),O.forEach(i),Te=y(R),ge=n(R,"BUTTON",{class:!0,style:!0});var le=v(ge);te=J(le,ke),le.forEach(i),we=y(R),R.forEach(i),this.h()},h(){u(o,"class","entry-number svelte-h1okl1"),u(d,"class",f=_t(e[37].has_results&&e[37].score?"status-complete":"status-pending")+" svelte-h1okl1"),u(s,"class","entry-header svelte-h1okl1"),u(x,"class","category-badge svelte-h1okl1"),_e(_,"margin-bottom","1rem"),_e(oe,"display","block"),_e(oe,"font-size","0.875rem"),_e(oe,"margin-bottom","0.25rem"),_e(oe,"color","#666"),u(z,"type","number"),u(z,"class","score-input svelte-h1okl1"),u(z,"placeholder","Enter score"),u(z,"min","0"),u(z,"max","50"),_e(z,"width","100%"),_e(re,"display","block"),_e(re,"font-size","0.875rem"),_e(re,"margin-bottom","0.25rem"),_e(re,"color","#666"),g.__value="",ee(g,g.__value),A.__value="1",ee(A,A.__value),H.__value="2",ee(H,H.__value),ne.__value="3",ee(ne,ne.__value),k.__value="HM",ee(k,k.__value),u(c,"class","placement-select svelte-h1okl1"),_e(c,"width","100%"),e[37].placement===void 0&&ct(qe),u(N,"class","results-inputs svelte-h1okl1"),_e(q,"display","block"),_e(q,"font-size","0.875rem"),_e(q,"margin-bottom","0.25rem"),_e(q,"color","#666"),u(X,"class","notes-input svelte-h1okl1"),u(X,"placeholder","Optional judging notes..."),_e(I,"margin-top","1rem"),u(ge,"class","btn btn-primary svelte-h1okl1"),_e(ge,"margin-top","1rem"),_e(ge,"width","100%"),ge.disabled=e[7],u(t,"class","entry-card svelte-h1okl1")},m(Se,R){be(Se,t,R),l(t,s),l(s,o),l(o,w),l(o,b),l(s,p),l(s,d),l(d,C),l(d,F),K&&K.m(d,null),l(t,V),l(t,_),l(_,L),l(L,Y),l(Y,fe),l(_,de),l(_,ae),l(ae,Ce),l(_,De),l(_,x),l(x,Le),l(t,Ee),l(t,N),l(N,W),l(W,oe),l(W,Ne),l(W,z),ee(z,e[37].score),l(N,Re),l(N,Z),l(Z,re),l(Z,r),l(Z,c),l(c,g),l(c,A),l(c,H),l(c,ne),l(c,k),Ze(c,e[37].placement,!0),l(t,U),l(t,I),l(I,q),l(I,He),l(I,X),ee(X,e[37].judge_notes),l(t,Te),l(t,ge),l(ge,te),l(t,we),Oe||(S=[me(z,"input",Ue),me(z,"input",je),me(c,"change",qe),me(c,"change",We),me(X,"input",Ae),me(X,"input",Fe),me(ge,"click",Ge)],Oe=!0)},p(Se,R){e=Se,R[0]&16&&T!==(T=e[37].entry_number+"")&&se(b,T),R[0]&16&&m!==(m=e[37].has_results&&e[37].score?"✅ Complete":"❌ Pending")&&se(C,m),R[0]&272&&(E=e[8].has(e[37].id)),E?K||(K=Dt(),K.c(),K.m(d,null)):K&&(K.d(1),K=null),R[0]&16&&f!==(f=_t(e[37].has_results&&e[37].score?"status-complete":"status-pending")+" svelte-h1okl1")&&u(d,"class",f),R[0]&16&&j!==(j=e[37].member_name+"")&&se(fe,j),R[0]&16&&he!==(he=(e[37].beer_name||"No beer name")+"")&&se(Ce,he),R[0]&16&&B!==(B=e[37].category_display+"")&&se(Le,B),R[0]&16&&ut(z.value)!==e[37].score&&ee(z,e[37].score),R[0]&16&&Ze(c,e[37].placement),R[0]&16&&ee(X,e[37].judge_notes),R[0]&128&&ke!==(ke=e[7]?"Saving Results...":"Save Results")&&se(te,ke),R[0]&128&&(ge.disabled=e[7])},d(Se){Se&&i(t),K&&K.d(),Oe=!1,mt(S)}}}function Gt(e){let t;return{c(){t=G("No entries have been submitted yet")},l(s){t=J(s,"No entries have been submitted yet")},m(s,o){be(s,t,o)},d(s){s&&i(t)}}}function Kt(e){let t;return{c(){t=G("Try adjusting your search or filters")},l(s){t=J(s,"Try adjusting your search or filters")},m(s,o){be(s,t,o)},d(s){s&&i(t)}}}function Qt(e){let t,s,o='<h1 class="svelte-h1okl1">Enter Results</h1> <p class="subtitle svelte-h1okl1">Record judging scores and placements</p>',w;function T(d,m){if(d[6])return qt;if(d[3])return Ut}let b=T(e),p=b&&b(e);return{c(){t=a("div"),s=a("div"),s.innerHTML=o,w=P(),p&&p.c(),this.h()},l(d){t=n(d,"DIV",{class:!0});var m=v(t);s=n(m,"DIV",{class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-a8m6p5"&&(s.innerHTML=o),w=y(m),p&&p.l(m),m.forEach(i),this.h()},h(){u(s,"class","hero svelte-h1okl1"),u(t,"class","container svelte-h1okl1")},m(d,m){be(d,t,m),l(t,s),l(t,w),p&&p.m(t,null)},p(d,m){b===(b=T(d))&&p?p.p(d,m):(p&&p.d(1),p=b&&b(d),p&&(p.c(),p.m(t,null)))},i:vt,o:vt,d(d){d&&i(t),p&&p.d()}}}function it(e,t="info"){const s=document.createElement("div");s.textContent=e,s.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 6px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      background: ${t==="success"?"#059669":t==="error"?"#dc2626":"#6b7280"};
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `,document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s)},3e3)}function Xt(e,t,s){let o,w,T,b;Pt(e,Mt,r=>s(15,T=r)),Pt(e,Ht,r=>s(16,b=r));let p=null,d=[],m=[],C=[],F=!0,E=!1,f="",V="all",_="all",L=new Set;zt(()=>{Y()}),Vt(()=>{});async function Y(){s(6,F=!0);try{const{data:r,error:c}=await Ye.from("competitions").select("*").eq("id",o).single();if(c)throw c;s(3,p=r);const{data:g,error:M}=await Ye.from("competition_entries").select("*").eq("competition_id",o).order("entry_number");if(M)throw M;if(!g||g.length===0){s(14,d=[]),s(4,m=[]),s(6,F=!1);return}const A=[...new Set(g.map(k=>k.member_id))],{data:$}=await Ye.from("members").select("id, name, email").in("id",A),H=[...new Set(g.map(k=>k.bjcp_category_id).filter(Boolean))],{data:ie}=await Ye.from("bjcp_categories").select("id, category_name, category_number, subcategory_letter, subcategory_name").in("id",H),{data:ne,error:Ie}=await Ye.from("competition_results").select("*").eq("competition_id",o);Ie&&console.warn("No existing results found:",Ie),s(14,d=g.map(k=>{const D=$==null?void 0:$.find(q=>q.id===k.member_id),U=ie==null?void 0:ie.find(q=>q.id===k.bjcp_category_id),I=ne==null?void 0:ne.find(q=>q.entry_id===k.id);return{...k,member_name:(D==null?void 0:D.name)||"Unknown",member_email:(D==null?void 0:D.email)||"",category_name:(U==null?void 0:U.category_name)||"Unknown Category",category_number:(U==null?void 0:U.category_number)||"",subcategory_letter:(U==null?void 0:U.subcategory_letter)||"",subcategory_name:(U==null?void 0:U.subcategory_name)||"",category_display:U?`${U.category_number}${U.subcategory_letter||""} - ${U.category_name}`:"Unknown Category",score:(I==null?void 0:I.score)||"",placement:(I==null?void 0:I.placement)||"",judge_notes:(I==null?void 0:I.judge_notes)||"",has_results:!!I}})),s(5,C=[...new Set(d.map(k=>({value:`${k.category_number}${k.subcategory_letter}`,label:k.category_display}))).values()].sort((k,D)=>k.value.localeCompare(D.value))),j()}catch(r){console.error("Error loading data:",r),alert("Failed to load competition entries"),ft("/officers/manage-competitions")}finally{s(6,F=!1)}}function j(){let r=[...d];if(f.trim()){const c=f.toLowerCase();r=r.filter(g=>{var M,A,$,H,ie;return((M=g.entry_number)==null?void 0:M.toLowerCase().includes(c))||((A=g.beer_name)==null?void 0:A.toLowerCase().includes(c))||(($=g.member_name)==null?void 0:$.toLowerCase().includes(c))||((H=g.member_email)==null?void 0:H.toLowerCase().includes(c))||((ie=g.category_display)==null?void 0:ie.toLowerCase().includes(c))})}V!=="all"&&(r=r.filter(c=>`${c.category_number}${c.subcategory_letter}`===V)),_!=="all"&&(_==="complete"?r=r.filter(c=>c.has_results&&c.score):_==="pending"&&(r=r.filter(c=>!c.has_results||!c.score))),s(4,m=r)}function fe(r,c,g){const M=d.find(A=>A.id===r);M&&(M[c]=g,L.add(r),s(8,L),M.has_results=M.score&&M.score>0,j())}async function de(r,c=!1){const g=d.find(A=>A.id===r);if(!g)throw new Error(`Entry with ID ${r} not found`);const M=c;M||s(7,E=!0);try{const A={competition_id:o,entry_id:r,score:g.score||null,placement:g.placement||null,judge_notes:g.judge_notes||null,updated_at:new Date().toISOString()},{data:$}=await Ye.from("competition_results").select("id").eq("competition_id",o).eq("entry_id",r).single();let H;if($?H=(await Ye.from("competition_results").update(A).eq("id",$.id)).error:H=(await Ye.from("competition_results").insert([A])).error,H)throw H;L.delete(r),s(8,L),g.has_results=!0,c||it("Results saved successfully","success")}catch(A){throw console.error("Error saving results:",A),c||alert("Failed to save results"),A}finally{M||s(7,E=!1)}}async function ae(){if(L.size===0){alert("No unsaved changes to save");return}try{s(7,E=!0);let r=0,c=0;for(const g of Array.from(L))try{await de(g,!0),r++}catch(M){console.error(`Error saving entry ${g}:`,M),c++}c===0?it(`All ${r} results saved successfully`,"success"):it(`${r} results saved, ${c} failed`,c>r?"error":"success")}catch(r){console.error("Error saving all results:",r),alert("Failed to save all results")}finally{s(7,E=!1)}}async function he(){if(confirm("Are you sure you want to publish these results? This will make them visible to all members."))try{s(7,E=!0);const{error:r}=await Ye.from("competitions").update({results_published:!0,updated_at:new Date().toISOString()}).eq("id",o);if(r)throw r;s(3,p.results_published=!0,p),it("Results published successfully","success")}catch(r){console.error("Error publishing results:",r),alert("Failed to publish results")}finally{s(7,E=!1)}}function Ce(){f=this.value,s(0,f)}function De(){V=rt(this),s(1,V),s(5,C)}function x(){_=rt(this),s(2,_)}const B=()=>ft("/officers/manage-competitions");function Le(r,c){r[c].score=ut(this.value),s(4,m)}const Ee=r=>fe(r.id,"score",r.score);function N(r,c){r[c].placement=rt(this),s(4,m)}const W=r=>fe(r.id,"placement",r.placement),oe=r=>de(r.id);function ve(r,c){r[c].score=ut(this.value),s(4,m)}const Ne=r=>fe(r.id,"score",r.score);function z(r,c){r[c].placement=rt(this),s(4,m)}const Re=r=>fe(r.id,"placement",r.placement);function Z(r,c){r[c].judge_notes=this.value,s(4,m)}const re=r=>fe(r.id,"judge_notes",r.judge_notes),pe=r=>de(r.id);return e.$$.update=()=>{e.$$.dirty[0]&65536&&b&&!b.is_officer&&ft("/"),e.$$.dirty[0]&32768&&(o=T.params.id),e.$$.dirty[0]&16384&&s(9,w={total:d.length,completed:d.filter(r=>r.has_results&&r.score).length,get percentage(){return this.total>0?Math.round(this.completed/this.total*100):0}}),e.$$.dirty[0]&7&&j()},[f,V,_,p,m,C,F,E,L,w,fe,de,ae,he,d,T,b,Ce,De,x,B,Le,Ee,N,W,oe,ve,Ne,z,Re,Z,re,pe]}class ll extends jt{constructor(t){super(),Bt(this,t,Xt,Qt,Rt,{},null,[-1,-1])}}export{ll as component};
