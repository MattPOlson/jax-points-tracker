import{s as js,n as Qt,d as n,i as F,q as g,c as i,e as f,h as c,k as vs,w as Ss,v as ot,r as Ts,a as L,b as e,p as qt,g as D,f as E,j,t as k,y as ee,G as Q}from"../chunks/DOvoZ9Ia.js";import{e as yt}from"../chunks/DJwZhPfI.js";import{S as ws,i as Ps}from"../chunks/DZMW2zPD.js";import{g as Fe}from"../chunks/F2-QbuOs.js";import{p as Is}from"../chunks/BwSWz2JU.js";import{u as Vs}from"../chunks/DP1yl1qp.js";import{s as St}from"../chunks/CCM_4jRA.js";function fs(a,t,l){const s=a.slice();s[26]=t[l];const o=s[10](s[26].id);return s[37]=o,s}function _s(a,t,l){const s=a.slice();return s[40]=t[l],s}function gs(a,t,l){const s=a.slice();s[33]=t[l];const o=s[9](s[33].id);return s[34]=o,s}function ps(a,t,l){const s=a.slice();s[29]=t[l];const o=s[8](s[29].judge_id);return s[30]=o,s}function ms(a,t,l){const s=a.slice();return s[26]=t[l],s}function As(a){let t,l,s="Judging Dashboard",o,h,u=a[0].name+"",v,d,r,_,S,w="Status",N,I,m=a[0].results_published?"Results Published":"Judging In Progress",b,P,p,V,z="Judging Date",Y,B,tt=Kt(a[0].judging_date)+"",at,ct,K,nt,rt="Last Updated",C,T,H=Kt(a[0].updated_at)+"",A,U,O,M,$,et=a[7].totalEntries+"",lt,X,y,J="Total Entries",x,it,Z,q=a[7].totalJudges+"",st,G,dt,ft="Assigned Judges",ht,ut,mt,gt=a[7].completedSessions+"",Ct,Mt,bt,Ye="Completed Sessions",Ce,Tt,De,Xt=a[7].totalEntries*a[7].totalJudges+"",se,je,Se,Et,Ut,Zt=a[7].averageScore+"",le,Te,Lt,Ge="Average Score",we,Ot,We="Across all judged entries",Pe,wt,zt,$t=a[7].completionPercentage+"",ae,Ie,Ve,Bt,Ke="Completion Rate",ne,_t,pt,Pt,Ae,re,Ne,It,He,oe,Re,Vt,Je,ie,Me,At,Le,ce,Oe,Dt,xt=a[6]?"‚è≥ Processing...":"üìä Finalize Results",de,ue,ze,jt,te=a[0].results_published?"‚úÖ Published":"üì¢ Publish Results",he,ve,Be,Nt,Qe="‚¨ÖÔ∏è Back",fe,Ht,qe,Xe;function Ze(R,W){if(R[4]==="overview")return Ms;if(R[4]==="judges")return Js;if(R[4]==="entries")return Rs;if(R[4]==="rankings")return Hs}let Ft=Ze(a),vt=Ft&&Ft(a);return{c(){t=c("div"),l=c("h1"),l.textContent=s,o=j(),h=c("p"),v=k(u),d=j(),r=c("div"),_=c("div"),S=c("span"),S.textContent=w,N=j(),I=c("span"),b=k(m),P=j(),p=c("div"),V=c("span"),V.textContent=z,Y=j(),B=c("span"),at=k(tt),ct=j(),K=c("div"),nt=c("span"),nt.textContent=rt,C=j(),T=c("span"),A=k(H),U=j(),O=c("div"),M=c("div"),$=c("h3"),lt=k(et),X=j(),y=c("p"),y.textContent=J,x=j(),it=c("div"),Z=c("h3"),st=k(q),G=j(),dt=c("p"),dt.textContent=ft,ht=j(),ut=c("div"),mt=c("h3"),Ct=k(gt),Mt=j(),bt=c("p"),bt.textContent=Ye,Ce=j(),Tt=c("p"),De=k("Out of "),se=k(Xt),je=k(" possible"),Se=j(),Et=c("div"),Ut=c("h3"),le=k(Zt),Te=j(),Lt=c("p"),Lt.textContent=Ge,we=j(),Ot=c("p"),Ot.textContent=We,Pe=j(),wt=c("div"),zt=c("h3"),ae=k($t),Ie=k("%"),Ve=j(),Bt=c("p"),Bt.textContent=Ke,ne=j(),_t=c("div"),pt=c("div"),Pt=c("button"),Ae=k("üìä Overview"),Ne=j(),It=c("button"),He=k("üë©‚Äç‚öñÔ∏è Judges"),Re=j(),Vt=c("button"),Je=k("üç∫ Entries"),Me=j(),At=c("button"),Le=k("üèÜ Rankings"),Oe=j(),Dt=c("button"),de=k(xt),ze=j(),jt=c("button"),he=k(te),Be=j(),Nt=c("button"),Nt.textContent=Qe,fe=j(),Ht=c("div"),vt&&vt.c(),this.h()},l(R){t=i(R,"DIV",{class:!0});var W=f(t);l=i(W,"H1",{class:!0,"data-svelte-h":!0}),ot(l)!=="svelte-pcriwm"&&(l.textContent=s),o=D(W),h=i(W,"P",{});var $e=f(h);v=E($e,u),$e.forEach(n),d=D(W),r=i(W,"DIV",{class:!0});var Yt=f(r);_=i(Yt,"DIV",{class:!0});var _e=f(_);S=i(_e,"SPAN",{class:!0,"data-svelte-h":!0}),ot(S)!=="svelte-4ayl72"&&(S.textContent=w),N=D(_e),I=i(_e,"SPAN",{class:!0});var xe=f(I);b=E(xe,m),xe.forEach(n),_e.forEach(n),P=D(Yt),p=i(Yt,"DIV",{class:!0});var ge=f(p);V=i(ge,"SPAN",{class:!0,"data-svelte-h":!0}),ot(V)!=="svelte-1a7342s"&&(V.textContent=z),Y=D(ge),B=i(ge,"SPAN",{class:!0});var ts=f(B);at=E(ts,tt),ts.forEach(n),ge.forEach(n),ct=D(Yt),K=i(Yt,"DIV",{class:!0});var pe=f(K);nt=i(pe,"SPAN",{class:!0,"data-svelte-h":!0}),ot(nt)!=="svelte-56clw9"&&(nt.textContent=rt),C=D(pe),T=i(pe,"SPAN",{class:!0});var es=f(T);A=E(es,H),es.forEach(n),pe.forEach(n),Yt.forEach(n),W.forEach(n),U=D(R),O=i(R,"DIV",{class:!0});var kt=f(O);M=i(kt,"DIV",{class:!0});var me=f(M);$=i(me,"H3",{class:!0});var ss=f($);lt=E(ss,et),ss.forEach(n),X=D(me),y=i(me,"P",{class:!0,"data-svelte-h":!0}),ot(y)!=="svelte-t39ley"&&(y.textContent=J),me.forEach(n),x=D(kt),it=i(kt,"DIV",{class:!0});var be=f(it);Z=i(be,"H3",{class:!0});var ls=f(Z);st=E(ls,q),ls.forEach(n),G=D(be),dt=i(be,"P",{class:!0,"data-svelte-h":!0}),ot(dt)!=="svelte-1kfkc50"&&(dt.textContent=ft),be.forEach(n),ht=D(kt),ut=i(kt,"DIV",{class:!0});var Gt=f(ut);mt=i(Gt,"H3",{class:!0});var as=f(mt);Ct=E(as,gt),as.forEach(n),Mt=D(Gt),bt=i(Gt,"P",{class:!0,"data-svelte-h":!0}),ot(bt)!=="svelte-1ktcm3i"&&(bt.textContent=Ye),Ce=D(Gt),Tt=i(Gt,"P",{class:!0});var Ee=f(Tt);De=E(Ee,"Out of "),se=E(Ee,Xt),je=E(Ee," possible"),Ee.forEach(n),Gt.forEach(n),Se=D(kt),Et=i(kt,"DIV",{class:!0});var Wt=f(Et);Ut=i(Wt,"H3",{class:!0});var ns=f(Ut);le=E(ns,Zt),ns.forEach(n),Te=D(Wt),Lt=i(Wt,"P",{class:!0,"data-svelte-h":!0}),ot(Lt)!=="svelte-1f4oq2f"&&(Lt.textContent=Ge),we=D(Wt),Ot=i(Wt,"P",{class:!0,"data-svelte-h":!0}),ot(Ot)!=="svelte-hwhjlt"&&(Ot.textContent=We),Wt.forEach(n),Pe=D(kt),wt=i(kt,"DIV",{class:!0});var ke=f(wt);zt=i(ke,"H3",{class:!0});var Ue=f(zt);ae=E(Ue,$t),Ie=E(Ue,"%"),Ue.forEach(n),Ve=D(ke),Bt=i(ke,"P",{class:!0,"data-svelte-h":!0}),ot(Bt)!=="svelte-1moz9j4"&&(Bt.textContent=Ke),ke.forEach(n),kt.forEach(n),ne=D(R),_t=i(R,"DIV",{class:!0});var Rt=f(_t);pt=i(Rt,"DIV",{class:!0});var Jt=f(pt);Pt=i(Jt,"BUTTON",{class:!0});var rs=f(Pt);Ae=E(rs,"üìä Overview"),rs.forEach(n),Ne=D(Jt),It=i(Jt,"BUTTON",{class:!0});var os=f(It);He=E(os,"üë©‚Äç‚öñÔ∏è Judges"),os.forEach(n),Re=D(Jt),Vt=i(Jt,"BUTTON",{class:!0});var is=f(Vt);Je=E(is,"üç∫ Entries"),is.forEach(n),Me=D(Jt),At=i(Jt,"BUTTON",{class:!0});var cs=f(At);Le=E(cs,"üèÜ Rankings"),cs.forEach(n),Jt.forEach(n),Oe=D(Rt),Dt=i(Rt,"BUTTON",{class:!0});var ds=f(Dt);de=E(ds,xt),ds.forEach(n),ze=D(Rt),jt=i(Rt,"BUTTON",{class:!0});var us=f(jt);he=E(us,te),us.forEach(n),Be=D(Rt),Nt=i(Rt,"BUTTON",{class:!0,"data-svelte-h":!0}),ot(Nt)!=="svelte-1g0lb7d"&&(Nt.textContent=Qe),Rt.forEach(n),fe=D(R),Ht=i(R,"DIV",{class:!0});var hs=f(Ht);vt&&vt.l(hs),hs.forEach(n),this.h()},h(){g(l,"class","svelte-at9aht"),g(S,"class","info-label svelte-at9aht"),g(I,"class","info-value svelte-at9aht"),g(_,"class","info-item svelte-at9aht"),g(V,"class","info-label svelte-at9aht"),g(B,"class","info-value svelte-at9aht"),g(p,"class","info-item svelte-at9aht"),g(nt,"class","info-label svelte-at9aht"),g(T,"class","info-value svelte-at9aht"),g(K,"class","info-item svelte-at9aht"),g(r,"class","header-info svelte-at9aht"),g(t,"class","header svelte-at9aht"),g($,"class","stat-value svelte-at9aht"),g(y,"class","stat-label svelte-at9aht"),g(M,"class","stat-card svelte-at9aht"),g(Z,"class","stat-value svelte-at9aht"),g(dt,"class","stat-label svelte-at9aht"),g(it,"class","stat-card svelte-at9aht"),g(mt,"class","stat-value svelte-at9aht"),g(bt,"class","stat-label svelte-at9aht"),g(Tt,"class","stat-description svelte-at9aht"),g(ut,"class","stat-card svelte-at9aht"),g(Ut,"class","stat-value svelte-at9aht"),g(Lt,"class","stat-label svelte-at9aht"),g(Ot,"class","stat-description svelte-at9aht"),g(Et,"class","stat-card svelte-at9aht"),g(zt,"class","stat-value svelte-at9aht"),g(Bt,"class","stat-label svelte-at9aht"),g(wt,"class","stat-card svelte-at9aht"),g(O,"class","stats-grid svelte-at9aht"),g(Pt,"class",re="tab-btn "+(a[4]==="overview"?"active":"")+" svelte-at9aht"),g(It,"class",oe="tab-btn "+(a[4]==="judges"?"active":"")+" svelte-at9aht"),g(Vt,"class",ie="tab-btn "+(a[4]==="entries"?"active":"")+" svelte-at9aht"),g(At,"class",ce="tab-btn "+(a[4]==="rankings"?"active":"")+" svelte-at9aht"),g(pt,"class","view-tabs svelte-at9aht"),g(Dt,"class","action-btn btn-success svelte-at9aht"),Dt.disabled=ue=a[6]||a[7].completedSessions===0,g(jt,"class","action-btn btn-primary svelte-at9aht"),jt.disabled=ve=a[0].results_published,g(Nt,"class","action-btn btn-secondary svelte-at9aht"),g(_t,"class","controls svelte-at9aht"),g(Ht,"class","content-section svelte-at9aht")},m(R,W){F(R,t,W),e(t,l),e(t,o),e(t,h),e(h,v),e(t,d),e(t,r),e(r,_),e(_,S),e(_,N),e(_,I),e(I,b),e(r,P),e(r,p),e(p,V),e(p,Y),e(p,B),e(B,at),e(r,ct),e(r,K),e(K,nt),e(K,C),e(K,T),e(T,A),F(R,U,W),F(R,O,W),e(O,M),e(M,$),e($,lt),e(M,X),e(M,y),e(O,x),e(O,it),e(it,Z),e(Z,st),e(it,G),e(it,dt),e(O,ht),e(O,ut),e(ut,mt),e(mt,Ct),e(ut,Mt),e(ut,bt),e(ut,Ce),e(ut,Tt),e(Tt,De),e(Tt,se),e(Tt,je),e(O,Se),e(O,Et),e(Et,Ut),e(Ut,le),e(Et,Te),e(Et,Lt),e(Et,we),e(Et,Ot),e(O,Pe),e(O,wt),e(wt,zt),e(zt,ae),e(zt,Ie),e(wt,Ve),e(wt,Bt),F(R,ne,W),F(R,_t,W),e(_t,pt),e(pt,Pt),e(Pt,Ae),e(pt,Ne),e(pt,It),e(It,He),e(pt,Re),e(pt,Vt),e(Vt,Je),e(pt,Me),e(pt,At),e(At,Le),e(_t,Oe),e(_t,Dt),e(Dt,de),e(_t,ze),e(_t,jt),e(jt,he),e(_t,Be),e(_t,Nt),F(R,fe,W),F(R,Ht,W),vt&&vt.m(Ht,null),qe||(Xe=[qt(Pt,"click",a[15]),qt(It,"click",a[16]),qt(Vt,"click",a[17]),qt(At,"click",a[18]),qt(Dt,"click",a[11]),qt(jt,"click",a[12]),qt(Nt,"click",a[19])],qe=!0)},p(R,W){W[0]&1&&u!==(u=R[0].name+"")&&L(v,u),W[0]&1&&m!==(m=R[0].results_published?"Results Published":"Judging In Progress")&&L(b,m),W[0]&1&&tt!==(tt=Kt(R[0].judging_date)+"")&&L(at,tt),W[0]&1&&H!==(H=Kt(R[0].updated_at)+"")&&L(A,H),W[0]&128&&et!==(et=R[7].totalEntries+"")&&L(lt,et),W[0]&128&&q!==(q=R[7].totalJudges+"")&&L(st,q),W[0]&128&&gt!==(gt=R[7].completedSessions+"")&&L(Ct,gt),W[0]&128&&Xt!==(Xt=R[7].totalEntries*R[7].totalJudges+"")&&L(se,Xt),W[0]&128&&Zt!==(Zt=R[7].averageScore+"")&&L(le,Zt),W[0]&128&&$t!==($t=R[7].completionPercentage+"")&&L(ae,$t),W[0]&16&&re!==(re="tab-btn "+(R[4]==="overview"?"active":"")+" svelte-at9aht")&&g(Pt,"class",re),W[0]&16&&oe!==(oe="tab-btn "+(R[4]==="judges"?"active":"")+" svelte-at9aht")&&g(It,"class",oe),W[0]&16&&ie!==(ie="tab-btn "+(R[4]==="entries"?"active":"")+" svelte-at9aht")&&g(Vt,"class",ie),W[0]&16&&ce!==(ce="tab-btn "+(R[4]==="rankings"?"active":"")+" svelte-at9aht")&&g(At,"class",ce),W[0]&64&&xt!==(xt=R[6]?"‚è≥ Processing...":"üìä Finalize Results")&&L(de,xt),W[0]&192&&ue!==(ue=R[6]||R[7].completedSessions===0)&&(Dt.disabled=ue),W[0]&1&&te!==(te=R[0].results_published?"‚úÖ Published":"üì¢ Publish Results")&&L(he,te),W[0]&1&&ve!==(ve=R[0].results_published)&&(jt.disabled=ve),Ft===(Ft=Ze(R))&&vt?vt.p(R,W):(vt&&vt.d(1),vt=Ft&&Ft(R),vt&&(vt.c(),vt.m(Ht,null)))},d(R){R&&(n(t),n(U),n(O),n(ne),n(_t),n(fe),n(Ht)),vt&&vt.d(),qe=!1,Ts(Xe)}}}function Ns(a){let t,l='<div class="spinner svelte-at9aht"></div> <p>Loading judging dashboard...</p>';return{c(){t=c("div"),t.innerHTML=l,this.h()},l(s){t=i(s,"DIV",{class:!0,"data-svelte-h":!0}),ot(t)!=="svelte-1ob5ucp"&&(t.innerHTML=l),this.h()},h(){g(t,"class","loading svelte-at9aht")},m(s,o){F(s,t,o)},p:Qt,d(s){s&&n(t)}}}function Hs(a){let t,l='<h2 class="section-title svelte-at9aht">Category Rankings</h2>',s,o,h=yt(a[3]),u=[];for(let v=0;v<h.length;v+=1)u[v]=Es(fs(a,h,v));return{c(){t=c("div"),t.innerHTML=l,s=j(),o=c("div");for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){t=i(v,"DIV",{class:!0,"data-svelte-h":!0}),ot(t)!=="svelte-1jnpvjn"&&(t.innerHTML=l),s=D(v),o=i(v,"DIV",{class:!0});var d=f(o);for(let r=0;r<u.length;r+=1)u[r].l(d);d.forEach(n),this.h()},h(){g(t,"class","section-header svelte-at9aht"),g(o,"class","section-content svelte-at9aht")},m(v,d){F(v,t,d),F(v,s,d),F(v,o,d);for(let r=0;r<u.length;r+=1)u[r]&&u[r].m(o,null)},p(v,d){if(d[0]&1032){h=yt(v[3]);let r;for(r=0;r<h.length;r+=1){const _=fs(v,h,r);u[r]?u[r].p(_,d):(u[r]=Es(_),u[r].c(),u[r].m(o,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=h.length}},d(v){v&&(n(t),n(s),n(o)),ee(u,v)}}}function Rs(a){let t,l,s,o=a[2].length+"",h,u,v,d,r,_,S='<tr class="svelte-at9aht"><th class="svelte-at9aht">Entry</th> <th class="svelte-at9aht">Brewer</th> <th class="svelte-at9aht">Category</th> <th class="svelte-at9aht">Judges</th> <th class="svelte-at9aht">Average Score</th> <th class="svelte-at9aht">Status</th></tr>',w,N,I=yt(a[2]),m=[];for(let b=0;b<I.length;b+=1)m[b]=ks(gs(a,I,b));return{c(){t=c("div"),l=c("h2"),s=k("Entry Scores ("),h=k(o),u=k(")"),v=j(),d=c("div"),r=c("table"),_=c("thead"),_.innerHTML=S,w=j(),N=c("tbody");for(let b=0;b<m.length;b+=1)m[b].c();this.h()},l(b){t=i(b,"DIV",{class:!0});var P=f(t);l=i(P,"H2",{class:!0});var p=f(l);s=E(p,"Entry Scores ("),h=E(p,o),u=E(p,")"),p.forEach(n),P.forEach(n),v=D(b),d=i(b,"DIV",{class:!0});var V=f(d);r=i(V,"TABLE",{class:!0});var z=f(r);_=i(z,"THEAD",{"data-svelte-h":!0}),ot(_)!=="svelte-1vkddlf"&&(_.innerHTML=S),w=D(z),N=i(z,"TBODY",{});var Y=f(N);for(let B=0;B<m.length;B+=1)m[B].l(Y);Y.forEach(n),z.forEach(n),V.forEach(n),this.h()},h(){g(l,"class","section-title svelte-at9aht"),g(t,"class","section-header svelte-at9aht"),g(r,"class","data-table svelte-at9aht"),g(d,"class","section-content svelte-at9aht")},m(b,P){F(b,t,P),e(t,l),e(l,s),e(l,h),e(l,u),F(b,v,P),F(b,d,P),e(d,r),e(r,_),e(r,w),e(r,N);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(N,null)},p(b,P){if(P[0]&4&&o!==(o=b[2].length+"")&&L(h,o),P[0]&518){I=yt(b[2]);let p;for(p=0;p<I.length;p+=1){const V=gs(b,I,p);m[p]?m[p].p(V,P):(m[p]=ks(V),m[p].c(),m[p].m(N,null))}for(;p<m.length;p+=1)m[p].d(1);m.length=I.length}},d(b){b&&(n(t),n(v),n(d)),ee(m,b)}}}function Js(a){let t,l,s,o=a[1].length+"",h,u,v,d,r,_,S='<tr class="svelte-at9aht"><th class="svelte-at9aht">Judge</th> <th class="svelte-at9aht">Role</th> <th class="svelte-at9aht">Progress</th> <th class="svelte-at9aht">Completion</th> <th class="svelte-at9aht">Assigned</th></tr>',w,N,I=yt(a[1]),m=[];for(let b=0;b<I.length;b+=1)m[b]=ys(ps(a,I,b));return{c(){t=c("div"),l=c("h2"),s=k("Judge Progress ("),h=k(o),u=k(")"),v=j(),d=c("div"),r=c("table"),_=c("thead"),_.innerHTML=S,w=j(),N=c("tbody");for(let b=0;b<m.length;b+=1)m[b].c();this.h()},l(b){t=i(b,"DIV",{class:!0});var P=f(t);l=i(P,"H2",{class:!0});var p=f(l);s=E(p,"Judge Progress ("),h=E(p,o),u=E(p,")"),p.forEach(n),P.forEach(n),v=D(b),d=i(b,"DIV",{class:!0});var V=f(d);r=i(V,"TABLE",{class:!0});var z=f(r);_=i(z,"THEAD",{"data-svelte-h":!0}),ot(_)!=="svelte-jnpdc6"&&(_.innerHTML=S),w=D(z),N=i(z,"TBODY",{});var Y=f(N);for(let B=0;B<m.length;B+=1)m[B].l(Y);Y.forEach(n),z.forEach(n),V.forEach(n),this.h()},h(){g(l,"class","section-title svelte-at9aht"),g(t,"class","section-header svelte-at9aht"),g(r,"class","data-table svelte-at9aht"),g(d,"class","section-content svelte-at9aht")},m(b,P){F(b,t,P),e(t,l),e(l,s),e(l,h),e(l,u),F(b,v,P),F(b,d,P),e(d,r),e(r,_),e(r,w),e(r,N);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(N,null)},p(b,P){if(P[0]&2&&o!==(o=b[1].length+"")&&L(h,o),P[0]&258){I=yt(b[1]);let p;for(p=0;p<I.length;p+=1){const V=ps(b,I,p);m[p]?m[p].p(V,P):(m[p]=ys(V),m[p].c(),m[p].m(N,null))}for(;p<m.length;p+=1)m[p].d(1);m.length=I.length}},d(b){b&&(n(t),n(v),n(d)),ee(m,b)}}}function Ms(a){let t,l='<h2 class="section-title svelte-at9aht">Judging Overview</h2>',s,o,h,u,v="Overall Progress",d,r,_,S,w,N=a[7].completedSessions+"",I,m,b=a[7].totalEntries*a[7].totalJudges+"",P,p,V,z,Y,B,tt,at=a[3].length+"",ct,K,nt,rt,C,T,H="Score Distribution",A,U,O,M=a[7].averageScore+"",$,et,lt,X,y,J=a[7].completedSessions+"",x,it=yt(a[3]),Z=[];for(let q=0;q<it.length;q+=1)Z[q]=Cs(ms(a,it,q));return{c(){t=c("div"),t.innerHTML=l,s=j(),o=c("div"),h=c("div"),u=c("h3"),u.textContent=v,d=j(),r=c("div"),_=c("div"),S=j(),w=c("p"),I=k(N),m=k(" of "),P=k(b),p=k(" judging sessions completed"),V=j(),z=c("div"),Y=c("div"),B=c("h4"),tt=k("Categories ("),ct=k(at),K=k(")"),nt=j();for(let q=0;q<Z.length;q+=1)Z[q].c();rt=j(),C=c("div"),T=c("h4"),T.textContent=H,A=j(),U=c("p"),O=k("Average score: "),$=k(M),et=k("/50"),lt=j(),X=c("p"),y=k("Completed judging sessions: "),x=k(J),this.h()},l(q){t=i(q,"DIV",{class:!0,"data-svelte-h":!0}),ot(t)!=="svelte-1lojcdx"&&(t.innerHTML=l),s=D(q),o=i(q,"DIV",{class:!0});var st=f(o);h=i(st,"DIV",{style:!0});var G=f(h);u=i(G,"H3",{"data-svelte-h":!0}),ot(u)!=="svelte-9najj8"&&(u.textContent=v),d=D(G),r=i(G,"DIV",{class:!0});var dt=f(r);_=i(dt,"DIV",{class:!0,style:!0}),f(_).forEach(n),dt.forEach(n),S=D(G),w=i(G,"P",{class:!0});var ft=f(w);I=E(ft,N),m=E(ft," of "),P=E(ft,b),p=E(ft," judging sessions completed"),ft.forEach(n),G.forEach(n),V=D(st),z=i(st,"DIV",{style:!0});var ht=f(z);Y=i(ht,"DIV",{});var ut=f(Y);B=i(ut,"H4",{});var mt=f(B);tt=E(mt,"Categories ("),ct=E(mt,at),K=E(mt,")"),mt.forEach(n),nt=D(ut);for(let bt=0;bt<Z.length;bt+=1)Z[bt].l(ut);ut.forEach(n),rt=D(ht),C=i(ht,"DIV",{});var gt=f(C);T=i(gt,"H4",{"data-svelte-h":!0}),ot(T)!=="svelte-1qj59ri"&&(T.textContent=H),A=D(gt),U=i(gt,"P",{});var Ct=f(U);O=E(Ct,"Average score: "),$=E(Ct,M),et=E(Ct,"/50"),Ct.forEach(n),lt=D(gt),X=i(gt,"P",{});var Mt=f(X);y=E(Mt,"Completed judging sessions: "),x=E(Mt,J),Mt.forEach(n),gt.forEach(n),ht.forEach(n),st.forEach(n),this.h()},h(){g(t,"class","section-header svelte-at9aht"),g(_,"class","progress-fill svelte-at9aht"),Q(_,"width",a[7].completionPercentage+"%"),g(r,"class","progress-bar svelte-at9aht"),g(w,"class","progress-text svelte-at9aht"),Q(h,"margin-bottom","2rem"),Q(z,"display","grid"),Q(z,"grid-template-columns","repeat(auto-fit, minmax(300px, 1fr))"),Q(z,"gap","2rem"),g(o,"class","section-content svelte-at9aht")},m(q,st){F(q,t,st),F(q,s,st),F(q,o,st),e(o,h),e(h,u),e(h,d),e(h,r),e(r,_),e(h,S),e(h,w),e(w,I),e(w,m),e(w,P),e(w,p),e(o,V),e(o,z),e(z,Y),e(Y,B),e(B,tt),e(B,ct),e(B,K),e(Y,nt);for(let G=0;G<Z.length;G+=1)Z[G]&&Z[G].m(Y,null);e(z,rt),e(z,C),e(C,T),e(C,A),e(C,U),e(U,O),e(U,$),e(U,et),e(C,lt),e(C,X),e(X,y),e(X,x)},p(q,st){if(st[0]&128&&Q(_,"width",q[7].completionPercentage+"%"),st[0]&128&&N!==(N=q[7].completedSessions+"")&&L(I,N),st[0]&128&&b!==(b=q[7].totalEntries*q[7].totalJudges+"")&&L(P,b),st[0]&8&&at!==(at=q[3].length+"")&&L(ct,at),st[0]&8){it=yt(q[3]);let G;for(G=0;G<it.length;G+=1){const dt=ms(q,it,G);Z[G]?Z[G].p(dt,st):(Z[G]=Cs(dt),Z[G].c(),Z[G].m(Y,null))}for(;G<Z.length;G+=1)Z[G].d(1);Z.length=it.length}st[0]&128&&M!==(M=q[7].averageScore+"")&&L($,M),st[0]&128&&J!==(J=q[7].completedSessions+"")&&L(x,J)},d(q){q&&(n(t),n(s),n(o)),ee(Z,q)}}}function Ls(a){let t,l,s='<tr class="svelte-at9aht"><th class="svelte-at9aht">Rank</th> <th class="svelte-at9aht">Entry</th> <th class="svelte-at9aht">Judge</th> <th class="svelte-at9aht">Notes</th></tr>',o,h,u=yt(a[37]),v=[];for(let d=0;d<u.length;d+=1)v[d]=bs(_s(a,u,d));return{c(){t=c("table"),l=c("thead"),l.innerHTML=s,o=j(),h=c("tbody");for(let d=0;d<v.length;d+=1)v[d].c();this.h()},l(d){t=i(d,"TABLE",{class:!0});var r=f(t);l=i(r,"THEAD",{"data-svelte-h":!0}),ot(l)!=="svelte-18kgikx"&&(l.innerHTML=s),o=D(r),h=i(r,"TBODY",{});var _=f(h);for(let S=0;S<v.length;S+=1)v[S].l(_);_.forEach(n),r.forEach(n),this.h()},h(){g(t,"class","data-table svelte-at9aht")},m(d,r){F(d,t,r),e(t,l),e(t,o),e(t,h);for(let _=0;_<v.length;_+=1)v[_]&&v[_].m(h,null)},p(d,r){if(r[0]&1032){u=yt(d[37]);let _;for(_=0;_<u.length;_+=1){const S=_s(d,u,_);v[_]?v[_].p(S,r):(v[_]=bs(S),v[_].c(),v[_].m(h,null))}for(;_<v.length;_+=1)v[_].d(1);v.length=u.length}},d(d){d&&n(t),ee(v,d)}}}function Os(a){let t,l="No rankings submitted yet";return{c(){t=c("p"),t.textContent=l,this.h()},l(s){t=i(s,"P",{style:!0,"data-svelte-h":!0}),ot(t)!=="svelte-b3tsya"&&(t.textContent=l),this.h()},h(){Q(t,"color","#666"),Q(t,"font-style","italic")},m(s,o){F(s,t,o)},p:Qt,d(s){s&&n(t)}}}function bs(a){var K,nt,rt;let t,l,s,o=a[40].rank_position===1?"ü•á":a[40].rank_position===2?"ü•à":a[40].rank_position===3?"ü•â":`${a[40].rank_position}.`,h,u,v,d,r,_,S=((K=a[40].entry)==null?void 0:K.entry_number)+"",w,N,I,m=(((nt=a[40].entry)==null?void 0:nt.beer_name)||"No name")+"",b,P,p,V=((rt=a[40].judge)==null?void 0:rt.name)+"",z,Y,B,tt=(a[40].ranking_notes||"-")+"",at,ct;return{c(){t=c("tr"),l=c("td"),s=c("span"),h=k(o),u=j(),v=c("td"),d=c("div"),r=c("div"),_=k("#"),w=k(S),N=j(),I=c("div"),b=k(m),P=j(),p=c("td"),z=k(V),Y=j(),B=c("td"),at=k(tt),ct=j(),this.h()},l(C){t=i(C,"TR",{class:!0});var T=f(t);l=i(T,"TD",{class:!0});var H=f(l);s=i(H,"SPAN",{style:!0});var A=f(s);h=E(A,o),A.forEach(n),H.forEach(n),u=D(T),v=i(T,"TD",{class:!0});var U=f(v);d=i(U,"DIV",{});var O=f(d);r=i(O,"DIV",{style:!0});var M=f(r);_=E(M,"#"),w=E(M,S),M.forEach(n),N=D(O),I=i(O,"DIV",{style:!0});var $=f(I);b=E($,m),$.forEach(n),O.forEach(n),U.forEach(n),P=D(T),p=i(T,"TD",{class:!0});var et=f(p);z=E(et,V),et.forEach(n),Y=D(T),B=i(T,"TD",{class:!0});var lt=f(B);at=E(lt,tt),lt.forEach(n),ct=D(T),T.forEach(n),this.h()},h(){Q(s,"font-size","1.2rem"),Q(s,"font-weight","600"),g(l,"class","svelte-at9aht"),Q(r,"font-weight","600"),Q(r,"color","#ff3e00"),Q(I,"font-size","0.875rem"),g(v,"class","svelte-at9aht"),g(p,"class","svelte-at9aht"),g(B,"class","svelte-at9aht"),g(t,"class","svelte-at9aht")},m(C,T){F(C,t,T),e(t,l),e(l,s),e(s,h),e(t,u),e(t,v),e(v,d),e(d,r),e(r,_),e(r,w),e(d,N),e(d,I),e(I,b),e(t,P),e(t,p),e(p,z),e(t,Y),e(t,B),e(B,at),e(t,ct)},p(C,T){var H,A,U;T[0]&8&&o!==(o=C[40].rank_position===1?"ü•á":C[40].rank_position===2?"ü•à":C[40].rank_position===3?"ü•â":`${C[40].rank_position}.`)&&L(h,o),T[0]&8&&S!==(S=((H=C[40].entry)==null?void 0:H.entry_number)+"")&&L(w,S),T[0]&8&&m!==(m=(((A=C[40].entry)==null?void 0:A.beer_name)||"No name")+"")&&L(b,m),T[0]&8&&V!==(V=((U=C[40].judge)==null?void 0:U.name)+"")&&L(z,V),T[0]&8&&tt!==(tt=(C[40].ranking_notes||"-")+"")&&L(at,tt)},d(C){C&&n(t)}}}function Es(a){let t,l,s=a[26].name+"",o,h,u;function v(_,S){return _[37].length===0?Os:Ls}let d=v(a),r=d(a);return{c(){t=c("div"),l=c("h4"),o=k(s),h=j(),r.c(),u=j(),this.h()},l(_){t=i(_,"DIV",{style:!0});var S=f(t);l=i(S,"H4",{});var w=f(l);o=E(w,s),w.forEach(n),h=D(S),r.l(S),u=D(S),S.forEach(n),this.h()},h(){Q(t,"margin-bottom","2rem")},m(_,S){F(_,t,S),e(t,l),e(l,o),e(t,h),r.m(t,null),e(t,u)},p(_,S){S[0]&8&&s!==(s=_[26].name+"")&&L(o,s),d===(d=v(_))&&r?r.p(_,S):(r.d(1),r=d(_),r&&(r.c(),r.m(t,u)))},d(_){_&&n(t),r.d()}}}function zs(a){let t;return{c(){t=k("Unknown")},l(l){t=E(l,"Unknown")},m(l,s){F(l,t,s)},p:Qt,d(l){l&&n(t)}}}function Bs(a){let t=a[33].bjcp_categories.category_number+"",l,s=(a[33].bjcp_categories.subcategory_letter||"")+"",o,h,u=a[33].bjcp_categories.category_name+"",v;return{c(){l=k(t),o=k(s),h=k(" - "),v=k(u)},l(d){l=E(d,t),o=E(d,s),h=E(d," - "),v=E(d,u)},m(d,r){F(d,l,r),F(d,o,r),F(d,h,r),F(d,v,r)},p(d,r){r[0]&4&&t!==(t=d[33].bjcp_categories.category_number+"")&&L(l,t),r[0]&4&&s!==(s=(d[33].bjcp_categories.subcategory_letter||"")+"")&&L(o,s),r[0]&4&&u!==(u=d[33].bjcp_categories.category_name+"")&&L(v,u)},d(d){d&&(n(l),n(o),n(h),n(v))}}}function qs(a){let t,l="Not scored";return{c(){t=c("span"),t.textContent=l,this.h()},l(s){t=i(s,"SPAN",{style:!0,"data-svelte-h":!0}),ot(t)!=="svelte-c27sxe"&&(t.textContent=l),this.h()},h(){Q(t,"color","#666")},m(s,o){F(s,t,o)},p:Qt,d(s){s&&n(t)}}}function Us(a){let t,l=a[34].average+"",s,o;return{c(){t=c("span"),s=k(l),o=k("/50"),this.h()},l(h){t=i(h,"SPAN",{class:!0,style:!0});var u=f(t);s=E(u,l),o=E(u,"/50"),u.forEach(n),this.h()},h(){g(t,"class","score-badge svelte-at9aht"),Q(t,"background",Ds(a[34].average))},m(h,u){F(h,t,u),e(t,s),e(t,o)},p(h,u){u[0]&4&&l!==(l=h[34].average+"")&&L(s,l),u[0]&4&&Q(t,"background",Ds(h[34].average))},d(h){h&&n(t)}}}function Fs(a){let t,l="‚ùå Pending";return{c(){t=c("span"),t.textContent=l,this.h()},l(s){t=i(s,"SPAN",{style:!0,"data-svelte-h":!0}),ot(t)!=="svelte-lu7cbv"&&(t.textContent=l),this.h()},h(){Q(t,"color","#dc2626")},m(s,o){F(s,t,o)},d(s){s&&n(t)}}}function Ys(a){let t,l="‚è≥ Partial";return{c(){t=c("span"),t.textContent=l,this.h()},l(s){t=i(s,"SPAN",{style:!0,"data-svelte-h":!0}),ot(t)!=="svelte-5b670m"&&(t.textContent=l),this.h()},h(){Q(t,"color","#f59e0b")},m(s,o){F(s,t,o)},d(s){s&&n(t)}}}function Gs(a){let t,l="‚úÖ Complete";return{c(){t=c("span"),t.textContent=l,this.h()},l(s){t=i(s,"SPAN",{style:!0,"data-svelte-h":!0}),ot(t)!=="svelte-19mm700"&&(t.textContent=l),this.h()},h(){Q(t,"color","#059669")},m(s,o){F(s,t,o)},d(s){s&&n(t)}}}function ks(a){var X;let t,l,s,o,h,u=a[33].entry_number+"",v,d,r,_=(a[33].beer_name||"No name")+"",S,w,N,I=((X=a[33].members)==null?void 0:X.name)+"",m,b,P,p,V,z=a[34].count+"",Y,B,tt=a[1].length+"",at,ct,K,nt,rt,C;function T(y,J){return y[33].bjcp_categories?Bs:zs}let H=T(a),A=H(a);function U(y,J){return y[34].count>0?Us:qs}let O=U(a),M=O(a);function $(y,J){return y[34].count===y[1].length?Gs:y[34].count>0?Ys:Fs}let et=$(a),lt=et(a);return{c(){t=c("tr"),l=c("td"),s=c("div"),o=c("div"),h=k("#"),v=k(u),d=j(),r=c("div"),S=k(_),w=j(),N=c("td"),m=k(I),b=j(),P=c("td"),A.c(),p=j(),V=c("td"),Y=k(z),B=k(" / "),at=k(tt),ct=j(),K=c("td"),M.c(),nt=j(),rt=c("td"),lt.c(),C=j(),this.h()},l(y){t=i(y,"TR",{class:!0});var J=f(t);l=i(J,"TD",{class:!0});var x=f(l);s=i(x,"DIV",{});var it=f(s);o=i(it,"DIV",{style:!0});var Z=f(o);h=E(Z,"#"),v=E(Z,u),Z.forEach(n),d=D(it),r=i(it,"DIV",{style:!0});var q=f(r);S=E(q,_),q.forEach(n),it.forEach(n),x.forEach(n),w=D(J),N=i(J,"TD",{class:!0});var st=f(N);m=E(st,I),st.forEach(n),b=D(J),P=i(J,"TD",{class:!0});var G=f(P);A.l(G),G.forEach(n),p=D(J),V=i(J,"TD",{class:!0});var dt=f(V);Y=E(dt,z),B=E(dt," / "),at=E(dt,tt),dt.forEach(n),ct=D(J),K=i(J,"TD",{class:!0});var ft=f(K);M.l(ft),ft.forEach(n),nt=D(J),rt=i(J,"TD",{class:!0});var ht=f(rt);lt.l(ht),ht.forEach(n),C=D(J),J.forEach(n),this.h()},h(){Q(o,"font-weight","600"),Q(o,"color","#ff3e00"),Q(r,"font-size","0.875rem"),g(l,"class","svelte-at9aht"),g(N,"class","svelte-at9aht"),g(P,"class","svelte-at9aht"),g(V,"class","svelte-at9aht"),g(K,"class","svelte-at9aht"),g(rt,"class","svelte-at9aht"),g(t,"class","svelte-at9aht")},m(y,J){F(y,t,J),e(t,l),e(l,s),e(s,o),e(o,h),e(o,v),e(s,d),e(s,r),e(r,S),e(t,w),e(t,N),e(N,m),e(t,b),e(t,P),A.m(P,null),e(t,p),e(t,V),e(V,Y),e(V,B),e(V,at),e(t,ct),e(t,K),M.m(K,null),e(t,nt),e(t,rt),lt.m(rt,null),e(t,C)},p(y,J){var x;J[0]&4&&u!==(u=y[33].entry_number+"")&&L(v,u),J[0]&4&&_!==(_=(y[33].beer_name||"No name")+"")&&L(S,_),J[0]&4&&I!==(I=((x=y[33].members)==null?void 0:x.name)+"")&&L(m,I),H===(H=T(y))&&A?A.p(y,J):(A.d(1),A=H(y),A&&(A.c(),A.m(P,null))),J[0]&4&&z!==(z=y[34].count+"")&&L(Y,z),J[0]&2&&tt!==(tt=y[1].length+"")&&L(at,tt),O===(O=U(y))&&M?M.p(y,J):(M.d(1),M=O(y),M&&(M.c(),M.m(K,null))),et!==(et=$(y))&&(lt.d(1),lt=et(y),lt&&(lt.c(),lt.m(rt,null)))},d(y){y&&n(t),A.d(),M.d(),lt.d()}}}function ys(a){var et,lt;let t,l,s,o,h=((et=a[29].judge)==null?void 0:et.name)+"",u,v,d,r=((lt=a[29].judge)==null?void 0:lt.email)+"",_,S,w,N,I=a[29].judge_role.replace("_"," ")+"",m,b,P,p,V,z,Y,B=a[30].percentage+"",tt,at,ct,K,nt=a[30].completed+"",rt,C,T=a[30].total+"",H,A,U,O=Kt(a[29].assigned_at)+"",M,$;return{c(){t=c("tr"),l=c("td"),s=c("div"),o=c("div"),u=k(h),v=j(),d=c("div"),_=k(r),S=j(),w=c("td"),N=c("span"),m=k(I),b=j(),P=c("td"),p=c("div"),V=c("div"),z=j(),Y=c("div"),tt=k(B),at=k("%"),ct=j(),K=c("td"),rt=k(nt),C=k(" / "),H=k(T),A=j(),U=c("td"),M=k(O),$=j(),this.h()},l(X){t=i(X,"TR",{class:!0});var y=f(t);l=i(y,"TD",{class:!0});var J=f(l);s=i(J,"DIV",{});var x=f(s);o=i(x,"DIV",{style:!0});var it=f(o);u=E(it,h),it.forEach(n),v=D(x),d=i(x,"DIV",{style:!0});var Z=f(d);_=E(Z,r),Z.forEach(n),x.forEach(n),J.forEach(n),S=D(y),w=i(y,"TD",{class:!0});var q=f(w);N=i(q,"SPAN",{style:!0});var st=f(N);m=E(st,I),st.forEach(n),q.forEach(n),b=D(y),P=i(y,"TD",{class:!0});var G=f(P);p=i(G,"DIV",{class:!0,style:!0});var dt=f(p);V=i(dt,"DIV",{class:!0,style:!0}),f(V).forEach(n),dt.forEach(n),z=D(G),Y=i(G,"DIV",{class:!0});var ft=f(Y);tt=E(ft,B),at=E(ft,"%"),ft.forEach(n),G.forEach(n),ct=D(y),K=i(y,"TD",{class:!0});var ht=f(K);rt=E(ht,nt),C=E(ht," / "),H=E(ht,T),ht.forEach(n),A=D(y),U=i(y,"TD",{class:!0});var ut=f(U);M=E(ut,O),ut.forEach(n),$=D(y),y.forEach(n),this.h()},h(){Q(o,"font-weight","600"),Q(d,"font-size","0.875rem"),Q(d,"color","#666"),g(l,"class","svelte-at9aht"),Q(N,"text-transform","capitalize"),g(w,"class","svelte-at9aht"),g(V,"class","progress-fill svelte-at9aht"),Q(V,"width",a[30].percentage+"%"),g(p,"class","progress-bar svelte-at9aht"),Q(p,"width","120px"),g(Y,"class","progress-text svelte-at9aht"),g(P,"class","svelte-at9aht"),g(K,"class","svelte-at9aht"),g(U,"class","svelte-at9aht"),g(t,"class","svelte-at9aht")},m(X,y){F(X,t,y),e(t,l),e(l,s),e(s,o),e(o,u),e(s,v),e(s,d),e(d,_),e(t,S),e(t,w),e(w,N),e(N,m),e(t,b),e(t,P),e(P,p),e(p,V),e(P,z),e(P,Y),e(Y,tt),e(Y,at),e(t,ct),e(t,K),e(K,rt),e(K,C),e(K,H),e(t,A),e(t,U),e(U,M),e(t,$)},p(X,y){var J,x;y[0]&2&&h!==(h=((J=X[29].judge)==null?void 0:J.name)+"")&&L(u,h),y[0]&2&&r!==(r=((x=X[29].judge)==null?void 0:x.email)+"")&&L(_,r),y[0]&2&&I!==(I=X[29].judge_role.replace("_"," ")+"")&&L(m,I),y[0]&2&&Q(V,"width",X[30].percentage+"%"),y[0]&2&&B!==(B=X[30].percentage+"")&&L(tt,B),y[0]&2&&nt!==(nt=X[30].completed+"")&&L(rt,nt),y[0]&2&&T!==(T=X[30].total+"")&&L(H,T),y[0]&2&&O!==(O=Kt(X[29].assigned_at)+"")&&L(M,O)},d(X){X&&n(t)}}}function Cs(a){let t,l,s=a[26].name+"",o,h,u,v=a[26].entryCount+"",d,r,_;return{c(){t=c("div"),l=c("span"),o=k(s),h=j(),u=c("span"),d=k(v),r=k(" entries"),_=j(),this.h()},l(S){t=i(S,"DIV",{style:!0});var w=f(t);l=i(w,"SPAN",{});var N=f(l);o=E(N,s),N.forEach(n),h=D(w),u=i(w,"SPAN",{});var I=f(u);d=E(I,v),r=E(I," entries"),I.forEach(n),_=D(w),w.forEach(n),this.h()},h(){Q(t,"display","flex"),Q(t,"justify-content","space-between"),Q(t,"margin-bottom","0.5rem")},m(S,w){F(S,t,w),e(t,l),e(l,o),e(t,h),e(t,u),e(u,d),e(u,r),e(t,_)},p(S,w){w[0]&8&&s!==(s=S[26].name+"")&&L(o,s),w[0]&8&&v!==(v=S[26].entryCount+"")&&L(d,v)},d(S){S&&n(t)}}}function Ws(a){let t;function l(h,u){if(h[5])return Ns;if(h[0])return As}let s=l(a),o=s&&s(a);return{c(){t=c("div"),o&&o.c(),this.h()},l(h){t=i(h,"DIV",{class:!0});var u=f(t);o&&o.l(u),u.forEach(n),this.h()},h(){g(t,"class","dashboard-container svelte-at9aht")},m(h,u){F(h,t,u),o&&o.m(t,null)},p(h,u){s===(s=l(h))&&o?o.p(h,u):(o&&o.d(1),o=s&&s(h),o&&(o.c(),o.m(t,null)))},i:Qt,o:Qt,d(h){h&&n(t),o&&o.d()}}}function ye(a,t="info"){const l=document.createElement("div");l.textContent=a,l.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 6px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      background: ${t==="success"?"#059669":t==="error"?"#dc2626":"#6b7280"};
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `,document.body.appendChild(l),setTimeout(()=>document.body.removeChild(l),3e3)}function Kt(a){return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Ds(a){return a>=45?"#059669":a>=38?"#0891b2":a>=30?"#eab308":a>=21?"#f59e0b":"#dc2626"}function Ks(a,t,l){let s,o,h;vs(a,Is,C=>l(13,o=C)),vs(a,Vs,C=>l(14,h=C));let u=null,v=[],d=[],r=[],_=[],S=[],w="overview",N=!0,I=!1,m={totalEntries:0,totalJudges:0,completedSessions:0,averageScore:0,completionPercentage:0};Ss(()=>{b()});async function b(){l(5,N=!0);try{const{data:C,error:T}=await St.from("competitions").select("*").eq("id",s).single();if(T)throw T;l(0,u=C);const{data:H,error:A}=await St.from("competition_judges").select(`
          *,
          judge:members!competition_judges_judge_id_fkey(id, name, email, phone)
        `).eq("competition_id",s).eq("active",!0);if(A)throw A;l(1,v=H||[]);const{data:U,error:O}=await St.from("competition_entries").select(`
          *,
          members!competition_entries_member_id_fkey(id, name, email),
          bjcp_categories(id, category_number, subcategory_letter, category_name, subcategory_name)
        `).eq("competition_id",s).order("entry_number");if(O)throw O;l(2,d=U||[]);const{data:M,error:$}=await St.from("competition_judging_sessions").select(`
          *,
          entry:competition_entries!inner(id, entry_number, beer_name),
          judge:members!competition_judging_sessions_judge_id_fkey(id, name)
        `).eq("competition_id",s);$?(console.warn("No judging sessions found:",$),r=[]):r=M||[];const{data:et,error:lt}=await St.from("competition_rankings").select(`
          *,
          entry:competition_entries!inner(id, entry_number, beer_name),
          judge:members!competition_rankings_judge_id_fkey(id, name),
          category:bjcp_categories(category_name, category_number, subcategory_letter)
        `).eq("competition_id",s).order("bjcp_category_id").order("rank_position");lt?(console.warn("No rankings found:",lt),_=[]):_=et||[];const X=new Map;d.forEach(y=>{var J;if(y.bjcp_categories){const x=y.bjcp_categories;X.set(x.id,{id:x.id,name:`${x.category_number}${x.subcategory_letter||""} - ${x.category_name}`,entryCount:(((J=X.get(x.id))==null?void 0:J.entryCount)||0)+1})}}),l(3,S=Array.from(X.values())),P()}catch(C){console.error("Error loading dashboard data:",C),alert("Failed to load judging dashboard"),Fe("/officers/manage-competitions")}finally{l(5,N=!1)}}function P(){l(7,m.totalEntries=d.length,m),l(7,m.totalJudges=v.length,m),l(7,m.completedSessions=r.filter(H=>H.total_score>0).length,m);const C=r.filter(H=>H.total_score>0);l(7,m.averageScore=C.length>0?Math.round(C.reduce((H,A)=>H+A.total_score,0)/C.length*10)/10:0,m);const T=d.length*v.length;l(7,m.completionPercentage=T>0?Math.round(m.completedSessions/T*100):0,m)}function p(C){const H=r.filter(A=>A.judge_id===C).filter(A=>A.total_score>0);return{total:d.length,completed:H.length,percentage:d.length>0?Math.round(H.length/d.length*100):0}}function V(C){const T=r.filter(U=>U.entry_id===C&&U.total_score>0);if(T.length===0)return{count:0,average:0,scores:[]};const H=T.map(U=>U.total_score),A=Math.round(H.reduce((U,O)=>U+O,0)/H.length*10)/10;return{count:T.length,average:A,scores:H,sessions:T}}function z(C){return _.filter(T=>T.bjcp_category_id===C)}async function Y(){if(confirm("Are you sure you want to finalize all results? This will aggregate scores and create final standings.")){l(6,I=!0);try{await B(),ye("Results finalized successfully!","success"),await b()}catch(C){console.error("Error finalizing results:",C),ye("Failed to finalize results","error")}finally{l(6,I=!1)}}}async function B(){const C=[];for(const T of d){const H=V(T.id);if(H.count>0){const A=H.average,U=H.sessions.filter(et=>et.judge_notes).map(et=>et.judge_notes).join(`

---

`),O=z(T.bjcp_category_id);let M=null;const $=O.find(et=>et.entry_id===T.id);$&&($.rank_position===1?M="1":$.rank_position===2?M="2":$.rank_position===3?M="3":$.rank_position<=5&&(M="HM")),C.push({competition_id:s,entry_id:T.id,score:Math.round(A),placement:M,judge_notes:U||null,updated_at:new Date().toISOString()})}}for(const T of C){const{data:H}=await St.from("competition_results").select("id").eq("competition_id",s).eq("entry_id",T.entry_id).single();if(H){const{error:A}=await St.from("competition_results").update(T).eq("id",H.id);if(A)throw A}else{const{error:A}=await St.from("competition_results").insert([T]);if(A)throw A}}}async function tt(){if(confirm("Are you sure you want to publish results? This will make them visible to all members."))try{const{error:C}=await St.from("competitions").update({results_published:!0,updated_at:new Date().toISOString()}).eq("id",s);if(C)throw C;l(0,u.results_published=!0,u),ye("Results published successfully!","success")}catch(C){console.error("Error publishing results:",C),ye("Failed to publish results","error")}}const at=()=>l(4,w="overview"),ct=()=>l(4,w="judges"),K=()=>l(4,w="entries"),nt=()=>l(4,w="rankings"),rt=()=>Fe("/officers/manage-competitions");return a.$$.update=()=>{a.$$.dirty[0]&16384&&h&&!h.is_officer&&Fe("/"),a.$$.dirty[0]&8192&&(s=o.params.id)},[u,v,d,S,w,N,I,m,p,V,z,Y,tt,o,h,at,ct,K,nt,rt]}class sl extends ws{constructor(t){super(),Ps(this,t,Ks,Ws,js,{},null,[-1,-1])}}export{sl as component};
