import{s as nt,n as He,d as i,i as _e,b as t,q as l,c as a,e as d,E as le,g as _,h as r,j as m,k as Le,C as it,D as ot,a as ae,f as N,t as j,r as Ye,w as be,K as rt,I as Ge,x as Je}from"../chunks/Clc9C5PT.js";import{e as ze,u as Qe,d as We}from"../chunks/CERxzA5o.js";import{S as vt,i as dt}from"../chunks/D83E1sq8.js";import{s as Ze}from"../chunks/CCM_4jRA.js";import{t as Be}from"../chunks/mxgsfDyD.js";import{u as ct}from"../chunks/CM1wqcM5.js";import{u as ft}from"../chunks/BZKsMI7B.js";import{l as Fe,a as Ke,m as ut,b as pt}from"../chunks/xJY-mkPT.js";import{p as ht}from"../chunks/CTkKsmfM.js";import{f as Ie}from"../chunks/Bams7pfF.js";function xe(o,e,s){const n=o.slice();return n[31]=e[s],n}function $e(o,e,s){const n=o.slice();return n[31]=e[s],n}function _t(o){let e,s,n="üéâ",p,I,k="All Caught Up!",b,A,w="No pending submissions to review at this time.",V,q,C="üîÑ Refresh",g,c;return{c(){e=r("div"),s=r("div"),s.textContent=n,p=m(),I=r("h3"),I.textContent=k,b=m(),A=r("p"),A.textContent=w,V=m(),q=r("button"),q.textContent=C,this.h()},l(E){e=a(E,"DIV",{class:!0});var h=d(e);s=a(h,"DIV",{class:!0,"data-svelte-h":!0}),le(s)!=="svelte-18cxeop"&&(s.textContent=n),p=_(h),I=a(h,"H3",{class:!0,"data-svelte-h":!0}),le(I)!=="svelte-1lrztn9"&&(I.textContent=k),b=_(h),A=a(h,"P",{class:!0,"data-svelte-h":!0}),le(A)!=="svelte-bm7cdo"&&(A.textContent=w),V=_(h),q=a(h,"BUTTON",{class:!0,"data-svelte-h":!0}),le(q)!=="svelte-1wxlov0"&&(q.textContent=C),h.forEach(i),this.h()},h(){l(s,"class","empty-icon svelte-1fvdqs0"),l(I,"class","svelte-1fvdqs0"),l(A,"class","svelte-1fvdqs0"),l(q,"class","refresh-button svelte-1fvdqs0"),l(e,"class","empty-state svelte-1fvdqs0")},m(E,h){_e(E,e,h),t(e,s),t(e,p),t(e,I),t(e,b),t(e,A),t(e,V),t(e,q),g||(c=be(q,"click",o[26]),g=!0)},p:He,d(E){E&&i(e),g=!1,c()}}}function mt(o){let e,s,n,p="üìã",I,k,b,A=o[8].length+"",w,V,q,C=o[8].length===1?"Submission":"Submissions",g,c,E,h,M,G,$='<tr><th class="svelte-1fvdqs0">Member</th> <th class="svelte-1fvdqs0">Category</th> <th class="svelte-1fvdqs0">Description</th> <th class="svelte-1fvdqs0">Points</th> <th class="svelte-1fvdqs0">Event Date</th> <th class="svelte-1fvdqs0">Submitted</th> <th class="svelte-1fvdqs0">Actions</th></tr>',U,z,R=[],B=new Map,T,P,J=[],re=new Map,H=ze(o[8]);const Q=f=>f[31].id;for(let f=0;f<H.length;f+=1){let u=$e(o,H,f),v=Q(u);B.set(v,R[f]=et(v,u))}let ee=ze(o[8]);const ne=f=>f[31].id;for(let f=0;f<ee.length;f+=1){let u=xe(o,ee,f),v=ne(u);re.set(v,J[f]=tt(v,u))}return{c(){e=r("div"),s=r("div"),n=r("div"),n.textContent=p,I=m(),k=r("div"),b=r("div"),w=j(A),V=m(),q=r("div"),g=j(C),c=j(" Pending Review"),E=m(),h=r("div"),M=r("table"),G=r("thead"),G.innerHTML=$,U=m(),z=r("tbody");for(let f=0;f<R.length;f+=1)R[f].c();T=m(),P=r("div");for(let f=0;f<J.length;f+=1)J[f].c();this.h()},l(f){e=a(f,"DIV",{class:!0});var u=d(e);s=a(u,"DIV",{class:!0});var v=d(s);n=a(v,"DIV",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-1ng6w2l"&&(n.textContent=p),I=_(v),k=a(v,"DIV",{class:!0});var Z=d(k);b=a(Z,"DIV",{class:!0});var O=d(b);w=N(O,A),O.forEach(i),V=_(Z),q=a(Z,"DIV",{class:!0});var S=d(q);g=N(S,C),c=N(S," Pending Review"),S.forEach(i),Z.forEach(i),v.forEach(i),E=_(u),h=a(u,"DIV",{class:!0});var de=d(h);M=a(de,"TABLE",{class:!0});var te=d(M);G=a(te,"THEAD",{"data-svelte-h":!0}),le(G)!=="svelte-1vjs4z1"&&(G.innerHTML=$),U=_(te),z=a(te,"TBODY",{});var y=d(z);for(let oe=0;oe<R.length;oe+=1)R[oe].l(y);y.forEach(i),te.forEach(i),de.forEach(i),T=_(u),P=a(u,"DIV",{class:!0});var W=d(P);for(let oe=0;oe<J.length;oe+=1)J[oe].l(W);W.forEach(i),u.forEach(i),this.h()},h(){l(n,"class","summary-icon svelte-1fvdqs0"),l(b,"class","summary-number svelte-1fvdqs0"),l(q,"class","summary-label svelte-1fvdqs0"),l(k,"class","summary-content"),l(s,"class","summary-card svelte-1fvdqs0"),l(M,"class","desktop-table svelte-1fvdqs0"),l(h,"class","table-wrapper svelte-1fvdqs0"),l(P,"class","mobile-cards svelte-1fvdqs0"),l(e,"class","submissions-container svelte-1fvdqs0")},m(f,u){_e(f,e,u),t(e,s),t(s,n),t(s,I),t(s,k),t(k,b),t(b,w),t(k,V),t(k,q),t(q,g),t(q,c),t(e,E),t(e,h),t(h,M),t(M,G),t(M,U),t(M,z);for(let v=0;v<R.length;v+=1)R[v]&&R[v].m(z,null);t(e,T),t(e,P);for(let v=0;v<J.length;v+=1)J[v]&&J[v].m(P,null)},p(f,u){u[0]&256&&A!==(A=f[8].length+"")&&ae(w,A),u[0]&256&&C!==(C=f[8].length===1?"Submission":"Submissions")&&ae(g,C),u[0]&9600&&(H=ze(f[8]),R=Qe(R,u,Q,1,f,H,B,z,We,et,null,$e)),u[0]&9600&&(ee=ze(f[8]),J=Qe(J,u,ne,1,f,ee,re,P,We,tt,null,xe))},d(f){f&&i(e);for(let u=0;u<R.length;u+=1)R[u].d();for(let u=0;u<J.length;u+=1)J[u].d()}}}function bt(o){let e,s='<div class="empty-icon svelte-1fvdqs0">‚ö†Ô∏è</div> <h3 class="svelte-1fvdqs0">Access Restricted</h3> <p class="svelte-1fvdqs0">Officer privileges are required to review submissions.</p> <a href="/officers" class="back-button svelte-1fvdqs0">Back to Officer Tools</a>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(n){e=a(n,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-16fhtlj"&&(e.innerHTML=s),this.h()},h(){l(e,"class","empty-state svelte-1fvdqs0")},m(n,p){_e(n,e,p)},p:He,d(n){n&&i(e)}}}function qt(o){let e,s='<div class="empty-icon svelte-1fvdqs0">üîí</div> <h3 class="svelte-1fvdqs0">Authentication Required</h3> <p class="svelte-1fvdqs0">Please log in to access the approvals system.</p> <a href="/login" class="login-button svelte-1fvdqs0">Sign In</a>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(n){e=a(n,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-e7ixq1"&&(e.innerHTML=s),this.h()},h(){l(e,"class","empty-state svelte-1fvdqs0")},m(n,p){_e(n,e,p)},p:He,d(n){n&&i(e)}}}function Et(o){let e,s='<div class="spinner svelte-1fvdqs0"></div> <p>Loading submissions...</p>';return{c(){e=r("div"),e.innerHTML=s,this.h()},l(n){e=a(n,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-fpv3d8"&&(e.innerHTML=s),this.h()},h(){l(e,"class","loading-state svelte-1fvdqs0")},m(n,p){_e(n,e,p)},p:He,d(n){n&&i(e)}}}function et(o,e){let s,n,p,I,k=e[31].member.name[0].toUpperCase()+"",b,A,w,V=e[31].member.name+"",q,C,g,c,E=e[31].category+"",h,M,G,$=e[31].description+"",U,z,R,B,T=e[31].points+"",P,J,re,H=Ie(e[31].event_date)+"",Q,ee,ne,f=(e[31].submitted_at?Ie(e[31].submitted_at):"Not available")+"",u,v,Z,O,S,de,te,y,W,oe,ve,ce;function pe(){return e[22](e[31])}function ke(){return e[23](e[31])}return{key:o,first:null,c(){s=r("tr"),n=r("td"),p=r("div"),I=r("div"),b=j(k),A=m(),w=r("span"),q=j(V),C=m(),g=r("td"),c=r("span"),h=j(E),M=m(),G=r("td"),U=j($),z=m(),R=r("td"),B=r("span"),P=j(T),J=m(),re=r("td"),Q=j(H),ee=m(),ne=r("td"),u=j(f),v=m(),Z=r("td"),O=r("div"),S=r("button"),de=j("‚úÖ Approve"),te=m(),y=r("button"),W=j("‚ùå Reject"),oe=m(),this.h()},l(ue){s=a(ue,"TR",{class:!0});var D=d(s);n=a(D,"TD",{class:!0});var se=d(n);p=a(se,"DIV",{class:!0});var F=d(p);I=a(F,"DIV",{class:!0});var X=d(I);b=N(X,k),X.forEach(i),A=_(F),w=a(F,"SPAN",{class:!0});var Y=d(w);q=N(Y,V),Y.forEach(i),F.forEach(i),se.forEach(i),C=_(D),g=a(D,"TD",{class:!0});var qe=d(g);c=a(qe,"SPAN",{class:!0});var ie=d(c);h=N(ie,E),ie.forEach(i),qe.forEach(i),M=_(D),G=a(D,"TD",{class:!0});var Ee=d(G);U=N(Ee,$),Ee.forEach(i),z=_(D),R=a(D,"TD",{class:!0});var Ce=d(R);B=a(Ce,"SPAN",{class:!0});var ge=d(B);P=N(ge,T),ge.forEach(i),Ce.forEach(i),J=_(D),re=a(D,"TD",{class:!0});var Ae=d(re);Q=N(Ae,H),Ae.forEach(i),ee=_(D),ne=a(D,"TD",{class:!0});var fe=d(ne);u=N(fe,f),fe.forEach(i),v=_(D),Z=a(D,"TD",{class:!0});var L=d(Z);O=a(L,"DIV",{class:!0});var K=d(O);S=a(K,"BUTTON",{class:!0});var x=d(S);de=N(x,"‚úÖ Approve"),x.forEach(i),te=_(K),y=a(K,"BUTTON",{class:!0});var he=d(y);W=N(he,"‚ùå Reject"),he.forEach(i),K.forEach(i),L.forEach(i),oe=_(D),D.forEach(i),this.h()},h(){l(I,"class","member-avatar svelte-1fvdqs0"),l(w,"class","member-name svelte-1fvdqs0"),l(p,"class","member-info svelte-1fvdqs0"),l(n,"class","member-cell svelte-1fvdqs0"),l(c,"class","category-badge svelte-1fvdqs0"),l(g,"class","category-cell svelte-1fvdqs0"),l(G,"class","description-cell svelte-1fvdqs0"),l(B,"class","points-value svelte-1fvdqs0"),l(R,"class","points-cell svelte-1fvdqs0"),l(re,"class","date-cell svelte-1fvdqs0"),l(ne,"class","submitted-cell svelte-1fvdqs0"),l(S,"class","approve-btn svelte-1fvdqs0"),S.disabled=e[7],l(y,"class","reject-btn svelte-1fvdqs0"),y.disabled=e[7],l(O,"class","action-buttons svelte-1fvdqs0"),l(Z,"class","actions-cell svelte-1fvdqs0"),l(s,"class","submission-row svelte-1fvdqs0"),this.first=s},m(ue,D){_e(ue,s,D),t(s,n),t(n,p),t(p,I),t(I,b),t(p,A),t(p,w),t(w,q),t(s,C),t(s,g),t(g,c),t(c,h),t(s,M),t(s,G),t(G,U),t(s,z),t(s,R),t(R,B),t(B,P),t(s,J),t(s,re),t(re,Q),t(s,ee),t(s,ne),t(ne,u),t(s,v),t(s,Z),t(Z,O),t(O,S),t(S,de),t(O,te),t(O,y),t(y,W),t(s,oe),ve||(ce=[be(S,"click",pe),be(y,"click",ke)],ve=!0)},p(ue,D){e=ue,D[0]&256&&k!==(k=e[31].member.name[0].toUpperCase()+"")&&ae(b,k),D[0]&256&&V!==(V=e[31].member.name+"")&&ae(q,V),D[0]&256&&E!==(E=e[31].category+"")&&ae(h,E),D[0]&256&&$!==($=e[31].description+"")&&ae(U,$),D[0]&256&&T!==(T=e[31].points+"")&&ae(P,T),D[0]&256&&H!==(H=Ie(e[31].event_date)+"")&&ae(Q,H),D[0]&256&&f!==(f=(e[31].submitted_at?Ie(e[31].submitted_at):"Not available")+"")&&ae(u,f),D[0]&128&&(S.disabled=e[7]),D[0]&128&&(y.disabled=e[7])},d(ue){ue&&i(s),ve=!1,Ye(ce)}}}function tt(o,e){let s,n,p,I,k=e[31].member.name[0].toUpperCase()+"",b,A,w,V,q=e[31].member.name+"",C,g,c,E,h=Ie(e[31].submitted_at)+"",M,G,$,U=e[31].category+"",z,R,B,T,P,J="Description:",re,H,Q=e[31].description+"",ee,ne,f,u,v="Points:",Z,O,S=e[31].points+"",de,te,y,W,oe="Event Date:",ve,ce,pe=Ie(e[31].event_date)+"",ke,ue,D,se,F,X,Y,qe,ie,Ee,Ce;function ge(){return e[24](e[31])}function Ae(){return e[25](e[31])}return{key:o,first:null,c(){s=r("div"),n=r("div"),p=r("div"),I=r("div"),b=j(k),A=m(),w=r("div"),V=r("div"),C=j(q),g=m(),c=r("div"),E=j("Submitted "),M=j(h),G=m(),$=r("span"),z=j(U),R=m(),B=r("div"),T=r("div"),P=r("span"),P.textContent=J,re=m(),H=r("span"),ee=j(Q),ne=m(),f=r("div"),u=r("span"),u.textContent=v,Z=m(),O=r("span"),de=j(S),te=m(),y=r("div"),W=r("span"),W.textContent=oe,ve=m(),ce=r("span"),ke=j(pe),ue=m(),D=r("div"),se=r("button"),F=j("‚úÖ Approve"),X=m(),Y=r("button"),qe=j("‚ùå Reject"),ie=m(),this.h()},l(fe){s=a(fe,"DIV",{class:!0});var L=d(s);n=a(L,"DIV",{class:!0});var K=d(n);p=a(K,"DIV",{class:!0});var x=d(p);I=a(x,"DIV",{class:!0});var he=d(I);b=N(he,k),he.forEach(i),A=_(x),w=a(x,"DIV",{class:!0});var De=d(w);V=a(De,"DIV",{class:!0});var me=d(V);C=N(me,q),me.forEach(i),g=_(De),c=a(De,"DIV",{class:!0});var ye=d(c);E=N(ye,"Submitted "),M=N(ye,h),ye.forEach(i),De.forEach(i),x.forEach(i),G=_(K),$=a(K,"SPAN",{class:!0});var Oe=d($);z=N(Oe,U),Oe.forEach(i),K.forEach(i),R=_(L),B=a(L,"DIV",{class:!0});var we=d(B);T=a(we,"DIV",{class:!0});var Ve=d(T);P=a(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),le(P)!=="svelte-18hxrur"&&(P.textContent=J),re=_(Ve),H=a(Ve,"SPAN",{class:!0});var Se=d(H);ee=N(Se,Q),Se.forEach(i),Ve.forEach(i),ne=_(we),f=a(we,"DIV",{class:!0});var Te=d(f);u=a(Te,"SPAN",{class:!0,"data-svelte-h":!0}),le(u)!=="svelte-11v1tm"&&(u.textContent=v),Z=_(Te),O=a(Te,"SPAN",{class:!0});var Pe=d(O);de=N(Pe,S),Pe.forEach(i),Te.forEach(i),te=_(we),y=a(we,"DIV",{class:!0});var Ne=d(y);W=a(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),le(W)!=="svelte-1c8g29x"&&(W.textContent=oe),ve=_(Ne),ce=a(Ne,"SPAN",{class:!0});var je=d(ce);ke=N(je,pe),je.forEach(i),Ne.forEach(i),we.forEach(i),ue=_(L),D=a(L,"DIV",{class:!0});var Me=d(D);se=a(Me,"BUTTON",{class:!0});var Re=d(se);F=N(Re,"‚úÖ Approve"),Re.forEach(i),X=_(Me),Y=a(Me,"BUTTON",{class:!0});var Ue=d(Y);qe=N(Ue,"‚ùå Reject"),Ue.forEach(i),Me.forEach(i),ie=_(L),L.forEach(i),this.h()},h(){l(I,"class","member-avatar svelte-1fvdqs0"),l(V,"class","member-name svelte-1fvdqs0"),l(c,"class","submission-date svelte-1fvdqs0"),l(w,"class","member-details svelte-1fvdqs0"),l(p,"class","member-info svelte-1fvdqs0"),l($,"class","category-badge svelte-1fvdqs0"),l(n,"class","card-header svelte-1fvdqs0"),l(P,"class","label svelte-1fvdqs0"),l(H,"class","value svelte-1fvdqs0"),l(T,"class","card-row svelte-1fvdqs0"),l(u,"class","label svelte-1fvdqs0"),l(O,"class","value points-value svelte-1fvdqs0"),l(f,"class","card-row svelte-1fvdqs0"),l(W,"class","label svelte-1fvdqs0"),l(ce,"class","value svelte-1fvdqs0"),l(y,"class","card-row svelte-1fvdqs0"),l(B,"class","card-body svelte-1fvdqs0"),l(se,"class","approve-btn mobile svelte-1fvdqs0"),se.disabled=e[7],l(Y,"class","reject-btn mobile svelte-1fvdqs0"),Y.disabled=e[7],l(D,"class","card-actions svelte-1fvdqs0"),l(s,"class","mobile-card svelte-1fvdqs0"),this.first=s},m(fe,L){_e(fe,s,L),t(s,n),t(n,p),t(p,I),t(I,b),t(p,A),t(p,w),t(w,V),t(V,C),t(w,g),t(w,c),t(c,E),t(c,M),t(n,G),t(n,$),t($,z),t(s,R),t(s,B),t(B,T),t(T,P),t(T,re),t(T,H),t(H,ee),t(B,ne),t(B,f),t(f,u),t(f,Z),t(f,O),t(O,de),t(B,te),t(B,y),t(y,W),t(y,ve),t(y,ce),t(ce,ke),t(s,ue),t(s,D),t(D,se),t(se,F),t(D,X),t(D,Y),t(Y,qe),t(s,ie),Ee||(Ce=[be(se,"click",ge),be(Y,"click",Ae)],Ee=!0)},p(fe,L){e=fe,L[0]&256&&k!==(k=e[31].member.name[0].toUpperCase()+"")&&ae(b,k),L[0]&256&&q!==(q=e[31].member.name+"")&&ae(C,q),L[0]&256&&h!==(h=Ie(e[31].submitted_at)+"")&&ae(M,h),L[0]&256&&U!==(U=e[31].category+"")&&ae(z,U),L[0]&256&&Q!==(Q=e[31].description+"")&&ae(ee,Q),L[0]&256&&S!==(S=e[31].points+"")&&ae(de,S),L[0]&256&&pe!==(pe=Ie(e[31].event_date)+"")&&ae(ke,pe),L[0]&128&&(se.disabled=e[7]),L[0]&128&&(Y.disabled=e[7])},d(fe){fe&&i(s),Ee=!1,Ye(Ce)}}}function st(o){let e,s;return{c(){e=r("div"),s=j(o[2]),this.h()},l(n){e=a(n,"DIV",{class:!0});var p=d(e);s=N(p,o[2]),p.forEach(i),this.h()},h(){l(e,"class","message-banner error svelte-1fvdqs0")},m(n,p){_e(n,e,p),t(e,s)},p(n,p){p[0]&4&&ae(s,n[2])},d(n){n&&i(e)}}}function lt(o){let e,s,n,p='<h3 id="approval-modal-title" class="svelte-1fvdqs0">‚úÖ Approve Submission</h3>',I,k,b,A,w,V="Member:",q,C,g=o[5].member.name+"",c,E,h,M,G="Category:",$,U,z=o[5].category+"",R,B,T,P,J="Description:",re,H,Q=o[5].description+"",ee,ne,f,u,v="Points:",Z,O,S=o[5].points+"",de,te,y,W,oe="Event Date:",ve,ce,pe=Ie(o[5].event_date)+"",ke,ue,D,se="Are you sure you want to approve this submission?",F,X,Y,qe,ie,Ee,Ce,ge;function Ae(K,x){return K[7]?Ct:kt}let fe=Ae(o),L=fe(o);return{c(){e=r("div"),s=r("div"),n=r("div"),n.innerHTML=p,I=m(),k=r("div"),b=r("div"),A=r("div"),w=r("span"),w.textContent=V,q=m(),C=r("span"),c=j(g),E=m(),h=r("div"),M=r("span"),M.textContent=G,$=m(),U=r("span"),R=j(z),B=m(),T=r("div"),P=r("span"),P.textContent=J,re=m(),H=r("span"),ee=j(Q),ne=m(),f=r("div"),u=r("span"),u.textContent=v,Z=m(),O=r("span"),de=j(S),te=m(),y=r("div"),W=r("span"),W.textContent=oe,ve=m(),ce=r("span"),ke=j(pe),ue=m(),D=r("p"),D.textContent=se,F=m(),X=r("div"),Y=r("button"),L.c(),qe=m(),ie=r("button"),Ee=j("Cancel"),this.h()},l(K){e=a(K,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var x=d(e);s=a(x,"DIV",{class:!0});var he=d(s);n=a(he,"DIV",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-1v7xkf7"&&(n.innerHTML=p),I=_(he),k=a(he,"DIV",{class:!0});var De=d(k);b=a(De,"DIV",{class:!0});var me=d(b);A=a(me,"DIV",{class:!0});var ye=d(A);w=a(ye,"SPAN",{class:!0,"data-svelte-h":!0}),le(w)!=="svelte-jkdpdi"&&(w.textContent=V),q=_(ye),C=a(ye,"SPAN",{class:!0});var Oe=d(C);c=N(Oe,g),Oe.forEach(i),ye.forEach(i),E=_(me),h=a(me,"DIV",{class:!0});var we=d(h);M=a(we,"SPAN",{class:!0,"data-svelte-h":!0}),le(M)!=="svelte-dtx40s"&&(M.textContent=G),$=_(we),U=a(we,"SPAN",{class:!0});var Ve=d(U);R=N(Ve,z),Ve.forEach(i),we.forEach(i),B=_(me),T=a(me,"DIV",{class:!0});var Se=d(T);P=a(Se,"SPAN",{class:!0,"data-svelte-h":!0}),le(P)!=="svelte-qhn0yq"&&(P.textContent=J),re=_(Se),H=a(Se,"SPAN",{class:!0});var Te=d(H);ee=N(Te,Q),Te.forEach(i),Se.forEach(i),ne=_(me),f=a(me,"DIV",{class:!0});var Pe=d(f);u=a(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),le(u)!=="svelte-1ih93pn"&&(u.textContent=v),Z=_(Pe),O=a(Pe,"SPAN",{class:!0});var Ne=d(O);de=N(Ne,S),Ne.forEach(i),Pe.forEach(i),te=_(me),y=a(me,"DIV",{class:!0});var je=d(y);W=a(je,"SPAN",{class:!0,"data-svelte-h":!0}),le(W)!=="svelte-1cv2ya0"&&(W.textContent=oe),ve=_(je),ce=a(je,"SPAN",{class:!0});var Me=d(ce);ke=N(Me,pe),Me.forEach(i),je.forEach(i),me.forEach(i),ue=_(De),D=a(De,"P",{class:!0,"data-svelte-h":!0}),le(D)!=="svelte-owyabg"&&(D.textContent=se),De.forEach(i),F=_(he),X=a(he,"DIV",{class:!0});var Re=d(X);Y=a(Re,"BUTTON",{class:!0,"aria-describedby":!0});var Ue=d(Y);L.l(Ue),Ue.forEach(i),qe=_(Re),ie=a(Re,"BUTTON",{class:!0});var Xe=d(ie);Ee=N(Xe,"Cancel"),Xe.forEach(i),Re.forEach(i),he.forEach(i),x.forEach(i),this.h()},h(){l(n,"class","modal-header svelte-1fvdqs0"),l(w,"class","preview-label svelte-1fvdqs0"),l(C,"class","preview-value svelte-1fvdqs0"),l(A,"class","preview-row svelte-1fvdqs0"),l(M,"class","preview-label svelte-1fvdqs0"),l(U,"class","preview-value svelte-1fvdqs0"),l(h,"class","preview-row svelte-1fvdqs0"),l(P,"class","preview-label svelte-1fvdqs0"),l(H,"class","preview-value svelte-1fvdqs0"),l(T,"class","preview-row svelte-1fvdqs0"),l(u,"class","preview-label svelte-1fvdqs0"),l(O,"class","preview-value points-highlight svelte-1fvdqs0"),l(f,"class","preview-row svelte-1fvdqs0"),l(W,"class","preview-label svelte-1fvdqs0"),l(ce,"class","preview-value svelte-1fvdqs0"),l(y,"class","preview-row svelte-1fvdqs0"),l(b,"class","submission-preview svelte-1fvdqs0"),l(D,"class","confirmation-text svelte-1fvdqs0"),l(k,"class","modal-body svelte-1fvdqs0"),l(Y,"class","confirm-approve-btn svelte-1fvdqs0"),Y.disabled=o[7],l(Y,"aria-describedby","approval-modal-title"),l(ie,"class","cancel-btn svelte-1fvdqs0"),ie.disabled=o[7],l(X,"class","modal-actions svelte-1fvdqs0"),l(s,"class","modal approval-modal svelte-1fvdqs0"),l(e,"class","modal-overlay svelte-1fvdqs0"),l(e,"role","dialog"),l(e,"aria-modal","true"),l(e,"aria-labelledby","approval-modal-title")},m(K,x){_e(K,e,x),t(e,s),t(s,n),t(s,I),t(s,k),t(k,b),t(b,A),t(A,w),t(A,q),t(A,C),t(C,c),t(b,E),t(b,h),t(h,M),t(h,$),t(h,U),t(U,R),t(b,B),t(b,T),t(T,P),t(T,re),t(T,H),t(H,ee),t(b,ne),t(b,f),t(f,u),t(f,Z),t(f,O),t(O,de),t(b,te),t(b,y),t(y,W),t(y,ve),t(y,ce),t(ce,ke),t(k,ue),t(k,D),t(s,F),t(s,X),t(X,Y),L.m(Y,null),t(X,qe),t(X,ie),t(ie,Ee),Ce||(ge=[be(Y,"click",o[11]),be(ie,"click",o[12]),be(s,"click",rt(o[21])),be(e,"click",o[12]),be(e,"keydown",o[27])],Ce=!0)},p(K,x){x[0]&32&&g!==(g=K[5].member.name+"")&&ae(c,g),x[0]&32&&z!==(z=K[5].category+"")&&ae(R,z),x[0]&32&&Q!==(Q=K[5].description+"")&&ae(ee,Q),x[0]&32&&S!==(S=K[5].points+"")&&ae(de,S),x[0]&32&&pe!==(pe=Ie(K[5].event_date)+"")&&ae(ke,pe),fe!==(fe=Ae(K))&&(L.d(1),L=fe(K),L&&(L.c(),L.m(Y,null))),x[0]&128&&(Y.disabled=K[7]),x[0]&128&&(ie.disabled=K[7])},d(K){K&&i(e),L.d(),Ce=!1,Ye(ge)}}}function kt(o){let e;return{c(){e=j("‚úÖ Yes, Approve")},l(s){e=N(s,"‚úÖ Yes, Approve")},m(s,n){_e(s,e,n)},d(s){s&&i(e)}}}function Ct(o){let e,s;return{c(){e=r("span"),s=j(`
              Approving...`),this.h()},l(n){e=a(n,"SPAN",{class:!0}),d(e).forEach(i),s=N(n,`
              Approving...`),this.h()},h(){l(e,"class","button-spinner svelte-1fvdqs0")},m(n,p){_e(n,e,p),_e(n,s,p)},d(n){n&&(i(e),i(s))}}}function at(o){let e,s,n,p='<h3 id="reject-modal-title" class="svelte-1fvdqs0">‚ùå Reject Submission</h3>',I,k,b,A,w,V="Member:",q,C,g=o[5].member.name+"",c,E,h,M,G="Category:",$,U,z=o[5].category+"",R,B,T,P,J="Description:",re,H,Q=o[5].description+"",ee,ne,f,u,v,Z="Reason for rejection *",O,S,de,te,y,W,oe,ve,ce,pe,ke;function ue(F,X){return F[7]?Dt:gt}let D=ue(o),se=D(o);return{c(){e=r("div"),s=r("div"),n=r("div"),n.innerHTML=p,I=m(),k=r("div"),b=r("div"),A=r("div"),w=r("span"),w.textContent=V,q=m(),C=r("span"),c=j(g),E=m(),h=r("div"),M=r("span"),M.textContent=G,$=m(),U=r("span"),R=j(z),B=m(),T=r("div"),P=r("span"),P.textContent=J,re=m(),H=r("span"),ee=j(Q),ne=m(),f=r("div"),u=r("label"),v=r("span"),v.textContent=Z,O=m(),S=r("textarea"),de=m(),te=r("div"),y=r("button"),se.c(),oe=m(),ve=r("button"),ce=j("Cancel"),this.h()},l(F){e=a(F,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var X=d(e);s=a(X,"DIV",{class:!0});var Y=d(s);n=a(Y,"DIV",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-ai5adu"&&(n.innerHTML=p),I=_(Y),k=a(Y,"DIV",{class:!0});var qe=d(k);b=a(qe,"DIV",{class:!0});var ie=d(b);A=a(ie,"DIV",{class:!0});var Ee=d(A);w=a(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),le(w)!=="svelte-jkdpdi"&&(w.textContent=V),q=_(Ee),C=a(Ee,"SPAN",{class:!0});var Ce=d(C);c=N(Ce,g),Ce.forEach(i),Ee.forEach(i),E=_(ie),h=a(ie,"DIV",{class:!0});var ge=d(h);M=a(ge,"SPAN",{class:!0,"data-svelte-h":!0}),le(M)!=="svelte-dtx40s"&&(M.textContent=G),$=_(ge),U=a(ge,"SPAN",{class:!0});var Ae=d(U);R=N(Ae,z),Ae.forEach(i),ge.forEach(i),B=_(ie),T=a(ie,"DIV",{class:!0});var fe=d(T);P=a(fe,"SPAN",{class:!0,"data-svelte-h":!0}),le(P)!=="svelte-qhn0yq"&&(P.textContent=J),re=_(fe),H=a(fe,"SPAN",{class:!0});var L=d(H);ee=N(L,Q),L.forEach(i),fe.forEach(i),ie.forEach(i),ne=_(qe),f=a(qe,"DIV",{class:!0});var K=d(f);u=a(K,"LABEL",{for:!0});var x=d(u);v=a(x,"SPAN",{class:!0,"data-svelte-h":!0}),le(v)!=="svelte-wte97i"&&(v.textContent=Z),O=_(x),S=a(x,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,"aria-describedby":!0,class:!0}),d(S).forEach(i),x.forEach(i),K.forEach(i),qe.forEach(i),de=_(Y),te=a(Y,"DIV",{class:!0});var he=d(te);y=a(he,"BUTTON",{class:!0,"aria-describedby":!0});var De=d(y);se.l(De),De.forEach(i),oe=_(he),ve=a(he,"BUTTON",{class:!0});var me=d(ve);ce=N(me,"Cancel"),me.forEach(i),he.forEach(i),Y.forEach(i),X.forEach(i),this.h()},h(){l(n,"class","modal-header svelte-1fvdqs0"),l(w,"class","preview-label svelte-1fvdqs0"),l(C,"class","preview-value svelte-1fvdqs0"),l(A,"class","preview-row svelte-1fvdqs0"),l(M,"class","preview-label svelte-1fvdqs0"),l(U,"class","preview-value svelte-1fvdqs0"),l(h,"class","preview-row svelte-1fvdqs0"),l(P,"class","preview-label svelte-1fvdqs0"),l(H,"class","preview-value svelte-1fvdqs0"),l(T,"class","preview-row svelte-1fvdqs0"),l(b,"class","submission-preview svelte-1fvdqs0"),l(v,"class","reason-label svelte-1fvdqs0"),l(S,"id","rejection-reason"),l(S,"placeholder","Please provide a clear reason for rejecting this submission..."),l(S,"rows","4"),S.disabled=o[7],S.required=!0,l(S,"aria-describedby","reject-modal-title"),l(S,"class","svelte-1fvdqs0"),l(u,"for","rejection-reason"),l(f,"class","reason-section svelte-1fvdqs0"),l(k,"class","modal-body svelte-1fvdqs0"),l(y,"class","confirm-reject-btn svelte-1fvdqs0"),y.disabled=W=o[7]||!o[6].trim(),l(y,"aria-describedby","reject-modal-title"),l(ve,"class","cancel-btn svelte-1fvdqs0"),ve.disabled=o[7],l(te,"class","modal-actions svelte-1fvdqs0"),l(s,"class","modal reject-modal svelte-1fvdqs0"),l(e,"class","modal-overlay svelte-1fvdqs0"),l(e,"role","dialog"),l(e,"aria-modal","true"),l(e,"aria-labelledby","reject-modal-title")},m(F,X){_e(F,e,X),t(e,s),t(s,n),t(s,I),t(s,k),t(k,b),t(b,A),t(A,w),t(A,q),t(A,C),t(C,c),t(b,E),t(b,h),t(h,M),t(h,$),t(h,U),t(U,R),t(b,B),t(b,T),t(T,P),t(T,re),t(T,H),t(H,ee),t(k,ne),t(k,f),t(f,u),t(u,v),t(u,O),t(u,S),Ge(S,o[6]),t(s,de),t(s,te),t(te,y),se.m(y,null),t(te,oe),t(te,ve),t(ve,ce),pe||(ke=[be(S,"input",o[28]),be(y,"click",o[14]),be(ve,"click",o[15]),be(s,"click",rt(o[20])),be(e,"click",o[15]),be(e,"keydown",o[29])],pe=!0)},p(F,X){X[0]&32&&g!==(g=F[5].member.name+"")&&ae(c,g),X[0]&32&&z!==(z=F[5].category+"")&&ae(R,z),X[0]&32&&Q!==(Q=F[5].description+"")&&ae(ee,Q),X[0]&128&&(S.disabled=F[7]),X[0]&64&&Ge(S,F[6]),D!==(D=ue(F))&&(se.d(1),se=D(F),se&&(se.c(),se.m(y,null))),X[0]&192&&W!==(W=F[7]||!F[6].trim())&&(y.disabled=W),X[0]&128&&(ve.disabled=F[7])},d(F){F&&i(e),se.d(),pe=!1,Ye(ke)}}}function gt(o){let e;return{c(){e=j("‚ùå Reject Submission")},l(s){e=N(s,"‚ùå Reject Submission")},m(s,n){_e(s,e,n)},d(s){s&&i(e)}}}function Dt(o){let e,s;return{c(){e=r("span"),s=j(`
              Rejecting...`),this.h()},l(n){e=a(n,"SPAN",{class:!0}),d(e).forEach(i),s=N(n,`
              Rejecting...`),this.h()},h(){l(e,"class","button-spinner svelte-1fvdqs0")},m(n,p){_e(n,e,p),_e(n,s,p)},d(n){n&&(i(e),i(s))}}}function wt(o){let e,s,n='<h1 class="svelte-1fvdqs0">‚úÖ Review Submissions</h1> <p class="subtitle svelte-1fvdqs0">Approve or reject member point submissions</p>',p,I,k,b;function A(c,E){var h;return c[9]?Et:c[1]?(h=c[0])!=null&&h.is_officer?c[8].length>0?mt:_t:bt:qt}let w=A(o),V=w(o),q=o[2]&&st(o),C=o[3]&&o[5]&&lt(o),g=o[4]&&o[5]&&at(o);return{c(){e=r("main"),s=r("div"),s.innerHTML=n,p=m(),V.c(),I=m(),q&&q.c(),k=m(),C&&C.c(),b=m(),g&&g.c(),this.h()},l(c){e=a(c,"MAIN",{class:!0});var E=d(e);s=a(E,"DIV",{class:!0,"data-svelte-h":!0}),le(s)!=="svelte-zjcsj0"&&(s.innerHTML=n),p=_(E),V.l(E),I=_(E),q&&q.l(E),k=_(E),C&&C.l(E),b=_(E),g&&g.l(E),E.forEach(i),this.h()},h(){l(s,"class","hero-section svelte-1fvdqs0"),l(e,"class","svelte-1fvdqs0")},m(c,E){_e(c,e,E),t(e,s),t(e,p),V.m(e,null),t(e,I),q&&q.m(e,null),t(e,k),C&&C.m(e,null),t(e,b),g&&g.m(e,null)},p(c,E){w===(w=A(c))&&V?V.p(c,E):(V.d(1),V=w(c),V&&(V.c(),V.m(e,I))),c[2]?q?q.p(c,E):(q=st(c),q.c(),q.m(e,k)):q&&(q.d(1),q=null),c[3]&&c[5]?C?C.p(c,E):(C=lt(c),C.c(),C.m(e,b)):C&&(C.d(1),C=null),c[4]&&c[5]?g?g.p(c,E):(g=at(c),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i:He,o:He,d(c){c&&i(e),V.d(),q&&q.d(),C&&C.d(),g&&g.d()}}}function At(){return()=>{}}function It(o,e,s){let n,p,I,k,b,A,w,V;Le(o,ht,v=>s(17,I=v)),Le(o,ft,v=>s(0,k=v)),Le(o,ct,v=>s(1,b=v)),Le(o,ut,v=>s(18,A=v)),Le(o,Ke,v=>s(19,w=v)),Le(o,pt,v=>s(9,V=v));let q="",C=!1,g=!1,c=null,E="",h=!1,M=[];function G(v){s(5,c=v),s(3,C=!0)}async function $(){if(!(!c||h)){s(7,h=!0);try{const{error:v}=await Ze.from("point_submissions").update({approved:!0,updated_at:new Date().toISOString()}).eq("id",c.id);if(v)throw v;Be.success(`‚úÖ Approved ${c.member.name}'s submission for ${c.points} points!`),Ke.update(Z=>Z.filter(O=>O.id!==c.id)),U()}catch(v){console.error("Approval error:",v),Be.error("Failed to approve submission. Please try again.")}finally{s(7,h=!1)}}}function U(){s(3,C=!1),s(5,c=null)}function z(v){s(5,c=v),s(6,E=""),s(4,g=!0)}async function R(){if(!E.trim()||h){Be.error("Please enter a reason for rejection.");return}s(7,h=!0);try{const{error:v}=await Ze.from("point_submissions").update({rejection_reason:E.trim(),approved:!1,updated_at:new Date().toISOString()}).eq("id",c.id);if(v)throw v;Be.success(`‚ùå Rejected ${c.member.name}'s submission`),Ke.update(Z=>Z.filter(O=>O.id!==c.id)),B()}catch(v){console.error("Rejection error:",v),Be.error("Failed to reject submission. Please try again.")}finally{s(7,h=!1)}}function B(){s(4,g=!1),s(5,c=null),s(6,E="")}it(()=>{const v=At();M.push(v),p&&Fe(!0)}),ot(()=>{M.forEach(v=>v())});function T(v){Je.call(this,o,v)}function P(v){Je.call(this,o,v)}const J=v=>G(v),re=v=>z(v),H=v=>G(v),Q=v=>z(v),ee=()=>Fe(!0),ne=v=>v.key==="Escape"&&U();function f(){E=this.value,s(6,E)}const u=v=>v.key==="Escape"&&B();return o.$$.update=()=>{o.$$.dirty[0]&524288&&s(8,n=w),o.$$.dirty[0]&262144&&s(2,q=A),o.$$.dirty[0]&3&&s(16,p=b&&(k==null?void 0:k.is_officer)),o.$$.dirty[0]&65536&&p&&Fe(!0),o.$$.dirty[0]&196608&&I.url.pathname==="/officers/approvals"&&p&&Fe(!0)},[k,b,q,C,g,c,E,h,n,V,G,$,U,z,R,B,p,I,A,w,T,P,J,re,H,Q,ee,ne,f,u]}class Ht extends vt{constructor(e){super(),dt(this,e,It,wt,nt,{},null,[-1,-1])}}export{Ht as component};
