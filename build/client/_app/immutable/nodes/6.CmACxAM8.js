import{s as tt,C as lt,D as at,d,i as H,q as y,g as j,c as m,e as E,G as me,j as N,h as p,f as $,t as A,a as q,b as r,n as ce,F as $e,H as Oe,w as st,I as Te,E as ee,M as _e}from"../chunks/Clc9C5PT.js";import{S as nt,i as rt,d as Ce,t as ge,a as be,m as De,b as we,e as Ie,g as ot,c as it}from"../chunks/D83E1sq8.js";import{e as fe}from"../chunks/CERxzA5o.js";import{g as ct}from"../chunks/BHWxcDt2.js";import{s as he}from"../chunks/CCM_4jRA.js";import{B as ut}from"../chunks/aYJ4uLIK.js";import{C as _t,H as dt}from"../chunks/Pa8TRaQW.js";import{L as ft}from"../chunks/Ciw1kpL_.js";import{E as mt}from"../chunks/CkDLxbqM.js";function Fe(n,e,l){const t=n.slice();return t[12]=e[l][0],t[13]=e[l][1],t}function Ge(n,e,l){const t=n.slice();return t[16]=e[l],t}function Je(n,e,l){const t=n.slice();return t[16]=e[l],t}function Ue(n,e,l){const t=n.slice();return t[21]=e[l],t}function pt(n){let e;return{c(){e=A("‚Üê Back to Competitions")},l(l){e=$(l,"‚Üê Back to Competitions")},m(l,t){H(l,e,t)},d(l){l&&d(e)}}}function ze(n){let e,l;return{c(){e=p("div"),l=A(n[6]),this.h()},l(t){e=m(t,"DIV",{class:!0});var s=E(e);l=$(s,n[6]),s.forEach(d),this.h()},h(){y(e,"class","error svelte-saa2yl")},m(t,s){H(t,e,s),r(e,l)},p(t,s){s&64&&q(l,t[6])},d(t){t&&d(e)}}}function vt(n){let e,l,t="Select Competition to View Results:",s,i,o,a="Choose a competition...",_,f,h,v,T,w=fe(n[2]),P=[];for(let c=0;c<w.length;c+=1)P[c]=Ze(Ue(n,w,c));let u=n[3]&&Ke(n);return{c(){e=p("div"),l=p("div"),l.textContent=t,s=N(),i=p("select"),o=p("option"),o.textContent=a;for(let c=0;c<P.length;c+=1)P[c].c();f=N(),u&&u.c(),h=me(),this.h()},l(c){e=m(c,"DIV",{class:!0});var C=E(e);l=m(C,"DIV",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-6famh2"&&(l.textContent=t),s=j(C),i=m(C,"SELECT",{class:!0});var I=E(i);o=m(I,"OPTION",{"data-svelte-h":!0}),ee(o)!=="svelte-1urbt8h"&&(o.textContent=a);for(let b=0;b<P.length;b+=1)P[b].l(I);I.forEach(d),C.forEach(d),f=j(c),u&&u.l(c),h=me(),this.h()},h(){y(l,"class","selector-label svelte-saa2yl"),o.__value="",Te(o,o.__value),y(i,"class","competition-select svelte-saa2yl"),y(e,"class","competition-selector svelte-saa2yl")},m(c,C){var I;H(c,e,C),r(e,l),r(e,s),r(e,i),r(i,o);for(let b=0;b<P.length;b+=1)P[b]&&P[b].m(i,null);Oe(i,((I=n[3])==null?void 0:I.id)||""),H(c,f,C),u&&u.m(c,C),H(c,h,C),v||(T=st(i,"change",n[8]),v=!0)},p(c,C){var I,b;if(C&4){w=fe(c[2]);let k;for(k=0;k<w.length;k+=1){const g=Ue(c,w,k);P[k]?P[k].p(g,C):(P[k]=Ze(g),P[k].c(),P[k].m(i,null))}for(;k<P.length;k+=1)P[k].d(1);P.length=w.length}C&12&&_!==(_=((I=c[3])==null?void 0:I.id)||"")&&Oe(i,((b=c[3])==null?void 0:b.id)||""),c[3]?u?u.p(c,C):(u=Ke(c),u.c(),u.m(h.parentNode,h)):u&&(u.d(1),u=null)},i:ce,o:ce,d(c){c&&(d(e),d(f),d(h)),$e(P,c),u&&u.d(c),v=!1,T()}}}function ht(n){let e,l;return e=new mt({props:{icon:"üìÖ",title:"No Results Published",message:"There are currently no competition results available to view. Check back after competitions have been judged and results published."}}),{c(){Ie(e.$$.fragment)},l(t){we(e.$$.fragment,t)},m(t,s){De(e,t,s),l=!0},p:ce,i(t){l||(be(e.$$.fragment,t),l=!0)},o(t){ge(e.$$.fragment,t),l=!1},d(t){Ce(e,t)}}}function gt(n){let e,l;return e=new ft({props:{message:"Loading competition results..."}}),{c(){Ie(e.$$.fragment)},l(t){we(e.$$.fragment,t)},m(t,s){De(e,t,s),l=!0},p:ce,i(t){l||(be(e.$$.fragment,t),l=!0)},o(t){ge(e.$$.fragment,t),l=!1},d(t){Ce(e,t)}}}function Ze(n){let e,l=n[21].name+"",t,s,i=et(n[21].judging_date)+"",o,a,_;return{c(){e=p("option"),t=A(l),s=A(" - Judged "),o=A(i),a=N(),this.h()},l(f){e=m(f,"OPTION",{});var h=E(e);t=$(h,l),s=$(h," - Judged "),o=$(h,i),a=j(h),h.forEach(d),this.h()},h(){e.__value=_=n[21].id,Te(e,e.__value)},m(f,h){H(f,e,h),r(e,t),r(e,s),r(e,o),r(e,a)},p(f,h){h&4&&l!==(l=f[21].name+"")&&q(t,l),h&4&&i!==(i=et(f[21].judging_date)+"")&&q(o,i),h&4&&_!==(_=f[21].id)&&(e.__value=_,Te(e,e.__value))},d(f){f&&d(e)}}}function Ke(n){let e,l,t=!n[5]&&n[0].length>0&&Ye(n);function s(a,_){return a[5]?kt:a[0].length===0?yt:bt}let i=s(n),o=i(n);return{c(){t&&t.c(),e=N(),o.c(),l=me()},l(a){t&&t.l(a),e=j(a),o.l(a),l=me()},m(a,_){t&&t.m(a,_),H(a,e,_),o.m(a,_),H(a,l,_)},p(a,_){!a[5]&&a[0].length>0?t?t.p(a,_):(t=Ye(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),i===(i=s(a))&&o?o.p(a,_):(o.d(1),o=i(a),o&&(o.c(),o.m(l.parentNode,l)))},d(a){a&&(d(e),d(l)),t&&t.d(a),o.d(a)}}}function Ye(n){let e,l,t=n[3].name+"",s,i,o,a,_,f,h="Total Entries",v,T,w=n[7].totalEntries+"",P,u,c,C,I="Awards Given",b,k,g=n[7].placedEntries+"",M,X,O,L,F="Categories",ae,B,G=n[7].categories+"",S,J,R,U,K="Average Score",V,D,te=n[7].averageScore+"",x;return{c(){e=p("div"),l=p("h2"),s=A(t),i=A(" - Results Summary"),o=N(),a=p("div"),_=p("div"),f=p("div"),f.textContent=h,v=N(),T=p("div"),P=A(w),u=N(),c=p("div"),C=p("div"),C.textContent=I,b=N(),k=p("div"),M=A(g),X=N(),O=p("div"),L=p("div"),L.textContent=F,ae=N(),B=p("div"),S=A(G),J=N(),R=p("div"),U=p("div"),U.textContent=K,V=N(),D=p("div"),x=A(te),this.h()},l(Z){e=m(Z,"DIV",{class:!0});var W=E(e);l=m(W,"H2",{style:!0});var ne=E(l);s=$(ne,t),i=$(ne," - Results Summary"),ne.forEach(d),o=j(W),a=m(W,"DIV",{class:!0});var Y=E(a);_=m(Y,"DIV",{class:!0});var se=E(_);f=m(se,"DIV",{class:!0,"data-svelte-h":!0}),ee(f)!=="svelte-ufm050"&&(f.textContent=h),v=j(se),T=m(se,"DIV",{class:!0});var ie=E(T);P=$(ie,w),ie.forEach(d),se.forEach(d),u=j(Y),c=m(Y,"DIV",{class:!0});var de=E(c);C=m(de,"DIV",{class:!0,"data-svelte-h":!0}),ee(C)!=="svelte-1wthacd"&&(C.textContent=I),b=j(de),k=m(de,"DIV",{class:!0});var Ee=E(k);M=$(Ee,g),Ee.forEach(d),de.forEach(d),X=j(Y),O=m(Y,"DIV",{class:!0});var ue=E(O);L=m(ue,"DIV",{class:!0,"data-svelte-h":!0}),ee(L)!=="svelte-1t4zeo0"&&(L.textContent=F),ae=j(ue),B=m(ue,"DIV",{class:!0});var le=E(B);S=$(le,G),le.forEach(d),ue.forEach(d),J=j(Y),R=m(Y,"DIV",{class:!0});var pe=E(R);U=m(pe,"DIV",{class:!0,"data-svelte-h":!0}),ee(U)!=="svelte-r90083"&&(U.textContent=K),V=j(pe),D=m(pe,"DIV",{class:!0});var ve=E(D);x=$(ve,te),ve.forEach(d),pe.forEach(d),Y.forEach(d),W.forEach(d),this.h()},h(){_e(l,"margin","0 0 1.5rem 0"),_e(l,"color","#333"),y(f,"class","summary-label svelte-saa2yl"),y(T,"class","summary-value svelte-saa2yl"),y(_,"class","summary-item svelte-saa2yl"),y(C,"class","summary-label svelte-saa2yl"),y(k,"class","summary-value svelte-saa2yl"),y(c,"class","summary-item svelte-saa2yl"),y(L,"class","summary-label svelte-saa2yl"),y(B,"class","summary-value svelte-saa2yl"),y(O,"class","summary-item svelte-saa2yl"),y(U,"class","summary-label svelte-saa2yl"),y(D,"class","summary-value svelte-saa2yl"),y(R,"class","summary-item svelte-saa2yl"),y(a,"class","summary-grid svelte-saa2yl"),y(e,"class","results-summary svelte-saa2yl")},m(Z,W){H(Z,e,W),r(e,l),r(l,s),r(l,i),r(e,o),r(e,a),r(a,_),r(_,f),r(_,v),r(_,T),r(T,P),r(a,u),r(a,c),r(c,C),r(c,b),r(c,k),r(k,M),r(a,X),r(a,O),r(O,L),r(O,ae),r(O,B),r(B,S),r(a,J),r(a,R),r(R,U),r(R,V),r(R,D),r(D,x)},p(Z,W){W&8&&t!==(t=Z[3].name+"")&&q(s,t),W&128&&w!==(w=Z[7].totalEntries+"")&&q(P,w),W&128&&g!==(g=Z[7].placedEntries+"")&&q(M,g),W&128&&G!==(G=Z[7].categories+"")&&q(S,G),W&128&&te!==(te=Z[7].averageScore+"")&&q(x,te)},d(Z){Z&&d(e)}}}function bt(n){let e,l=fe(Object.entries(n[1])),t=[];for(let s=0;s<l.length;s+=1)t[s]=xe(Fe(n,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=me()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);e=me()},m(s,i){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,i);H(s,e,i)},p(s,i){if(i&2){l=fe(Object.entries(s[1]));let o;for(o=0;o<l.length;o+=1){const a=Fe(s,l,o);t[o]?t[o].p(a,i):(t[o]=xe(a),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(s){s&&d(e),$e(t,s)}}}function yt(n){let e,l="<h3>No Results Available</h3> <p>Results for this competition have not been entered yet.</p>";return{c(){e=p("div"),e.innerHTML=l,this.h()},l(t){e=m(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-5maymk"&&(e.innerHTML=l),this.h()},h(){y(e,"class","empty-state")},m(t,s){H(t,e,s)},p:ce,d(t){t&&d(e)}}}function kt(n){let e,l='<div class="spinner"></div> <p>Loading results...</p>';return{c(){e=p("div"),e.innerHTML=l,this.h()},l(t){e=m(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1wd8za7"&&(e.innerHTML=l),this.h()},h(){y(e,"class","loading")},m(t,s){H(t,e,s)},p:ce,d(t){t&&d(e)}}}function Qe(n){let e,l,t=n[16].judge_count+"",s,i,o=n[16].judge_count===1?"":"s",a;return{c(){e=p("br"),l=p("small"),s=A(t),i=A(" judge"),a=A(o),this.h()},l(_){e=m(_,"BR",{}),l=m(_,"SMALL",{style:!0});var f=E(l);s=$(f,t),i=$(f," judge"),a=$(f,o),f.forEach(d),this.h()},h(){_e(l,"color","#666")},m(_,f){H(_,e,f),H(_,l,f),r(l,s),r(l,i),r(l,a)},p(_,f){f&2&&t!==(t=_[16].judge_count+"")&&q(s,t),f&2&&o!==(o=_[16].judge_count===1?"":"s")&&q(a,o)},d(_){_&&(d(e),d(l))}}}function Et(n){let e,l="-/50";return{c(){e=p("span"),e.textContent=l,this.h()},l(t){e=m(t,"SPAN",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1qmajtw"&&(e.textContent=l),this.h()},h(){y(e,"class","score-badge svelte-saa2yl")},m(t,s){H(t,e,s)},p:ce,d(t){t&&d(e)}}}function Ct(n){let e,l=n[16].score+"",t,s;return{c(){e=p("span"),t=A(l),s=A("/50"),this.h()},l(i){e=m(i,"SPAN",{class:!0});var o=E(e);t=$(o,l),s=$(o,"/50"),o.forEach(d),this.h()},h(){y(e,"class","score-badge svelte-saa2yl")},m(i,o){H(i,e,o),r(e,t),r(e,s)},p(i,o){o&2&&l!==(l=i[16].score+"")&&q(t,l)},d(i){i&&d(e)}}}function Dt(n){let e,l="No Placement";return{c(){e=p("span"),e.textContent=l,this.h()},l(t){e=m(t,"SPAN",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1ngxc4k"&&(e.textContent=l),this.h()},h(){y(e,"class","placement-badge placement-none svelte-saa2yl")},m(t,s){H(t,e,s)},p:ce,d(t){t&&d(e)}}}function wt(n){let e,l,t=re(n[16].calculated_placement).medal+"",s,i,o,a=re(n[16].calculated_placement).text+"",_,f;return{c(){e=p("span"),l=p("span"),s=A(t),i=N(),o=p("span"),_=A(a),this.h()},l(h){e=m(h,"SPAN",{class:!0});var v=E(e);l=m(v,"SPAN",{});var T=E(l);s=$(T,t),T.forEach(d),i=j(v),o=m(v,"SPAN",{});var w=E(o);_=$(w,a),w.forEach(d),v.forEach(d),this.h()},h(){y(e,"class",f="placement-badge "+re(n[16].calculated_placement).class+" svelte-saa2yl")},m(h,v){H(h,e,v),r(e,l),r(l,s),r(e,i),r(e,o),r(o,_)},p(h,v){v&2&&t!==(t=re(h[16].calculated_placement).medal+"")&&q(s,t),v&2&&a!==(a=re(h[16].calculated_placement).text+"")&&q(_,a),v&2&&f!==(f="placement-badge "+re(h[16].calculated_placement).class+" svelte-saa2yl")&&y(e,"class",f)},d(h){h&&d(e)}}}function We(n){let e,l,t,s=n[16].entry_number+"",i,o,a,_=n[16].member_name+"",f,h,v,T=n[16].beer_name+"",w,P,u,c,C=n[16].ranking_points+"",I,b,k=n[16].ranking_points===1?"pt":"pts",g,M,X,O,L,F,ae,B=n[16].judge_count>0&&Qe(n);function G(V,D){return V[16].score?Ct:Et}let S=G(n),J=S(n);function R(V,D){return V[16].calculated_placement?wt:Dt}let U=R(n),K=U(n);return{c(){e=p("tr"),l=p("td"),t=p("span"),i=A(s),o=N(),a=p("td"),f=A(_),h=N(),v=p("td"),w=A(T),P=N(),u=p("td"),c=p("span"),I=A(C),b=N(),g=A(k),M=N(),B&&B.c(),X=N(),O=p("td"),J.c(),L=N(),F=p("td"),K.c(),ae=N(),this.h()},l(V){e=m(V,"TR",{class:!0});var D=E(e);l=m(D,"TD",{class:!0});var te=E(l);t=m(te,"SPAN",{class:!0});var x=E(t);i=$(x,s),x.forEach(d),te.forEach(d),o=j(D),a=m(D,"TD",{class:!0});var Z=E(a);f=$(Z,_),Z.forEach(d),h=j(D),v=m(D,"TD",{class:!0});var W=E(v);w=$(W,T),W.forEach(d),P=j(D),u=m(D,"TD",{class:!0});var ne=E(u);c=m(ne,"SPAN",{style:!0});var Y=E(c);I=$(Y,C),b=j(Y),g=$(Y,k),Y.forEach(d),M=j(ne),B&&B.l(ne),ne.forEach(d),X=j(D),O=m(D,"TD",{class:!0});var se=E(O);J.l(se),se.forEach(d),L=j(D),F=m(D,"TD",{class:!0});var ie=E(F);K.l(ie),ie.forEach(d),ae=j(D),D.forEach(d),this.h()},h(){y(t,"class","entry-number svelte-saa2yl"),y(l,"class","svelte-saa2yl"),y(a,"class","svelte-saa2yl"),y(v,"class","svelte-saa2yl"),_e(c,"font-weight","600"),_e(c,"color",n[16].ranking_points>0?"#059669":"#666"),y(u,"class","svelte-saa2yl"),y(O,"class","svelte-saa2yl"),y(F,"class","svelte-saa2yl"),y(e,"class","svelte-saa2yl")},m(V,D){H(V,e,D),r(e,l),r(l,t),r(t,i),r(e,o),r(e,a),r(a,f),r(e,h),r(e,v),r(v,w),r(e,P),r(e,u),r(u,c),r(c,I),r(c,b),r(c,g),r(u,M),B&&B.m(u,null),r(e,X),r(e,O),J.m(O,null),r(e,L),r(e,F),K.m(F,null),r(e,ae)},p(V,D){D&2&&s!==(s=V[16].entry_number+"")&&q(i,s),D&2&&_!==(_=V[16].member_name+"")&&q(f,_),D&2&&T!==(T=V[16].beer_name+"")&&q(w,T),D&2&&C!==(C=V[16].ranking_points+"")&&q(I,C),D&2&&k!==(k=V[16].ranking_points===1?"pt":"pts")&&q(g,k),D&2&&_e(c,"color",V[16].ranking_points>0?"#059669":"#666"),V[16].judge_count>0?B?B.p(V,D):(B=Qe(V),B.c(),B.m(u,null)):B&&(B.d(1),B=null),S===(S=G(V))&&J?J.p(V,D):(J.d(1),J=S(V),J&&(J.c(),J.m(O,null))),U===(U=R(V))&&K?K.p(V,D):(K.d(1),K=U(V),K&&(K.c(),K.m(F,null)))},d(V){V&&d(e),B&&B.d(),J.d(),K.d()}}}function It(n){let e,l="No Placement";return{c(){e=p("div"),e.textContent=l,this.h()},l(t){e=m(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-18rysov"&&(e.textContent=l),this.h()},h(){y(e,"class","placement-badge-mobile placement-none svelte-saa2yl")},m(t,s){H(t,e,s)},p:ce,d(t){t&&d(e)}}}function Pt(n){let e,l,t=re(n[16].calculated_placement).medal+"",s,i,o,a=re(n[16].calculated_placement).text+"",_,f;return{c(){e=p("div"),l=p("span"),s=A(t),i=N(),o=p("span"),_=A(a),this.h()},l(h){e=m(h,"DIV",{class:!0});var v=E(e);l=m(v,"SPAN",{class:!0});var T=E(l);s=$(T,t),T.forEach(d),i=j(v),o=m(v,"SPAN",{class:!0});var w=E(o);_=$(w,a),w.forEach(d),v.forEach(d),this.h()},h(){y(l,"class","medal"),y(o,"class","placement-text"),y(e,"class",f="placement-badge-mobile "+re(n[16].calculated_placement).class+" svelte-saa2yl")},m(h,v){H(h,e,v),r(e,l),r(l,s),r(e,i),r(e,o),r(o,_)},p(h,v){v&2&&t!==(t=re(h[16].calculated_placement).medal+"")&&q(s,t),v&2&&a!==(a=re(h[16].calculated_placement).text+"")&&q(_,a),v&2&&f!==(f="placement-badge-mobile "+re(h[16].calculated_placement).class+" svelte-saa2yl")&&y(e,"class",f)},d(h){h&&d(e)}}}function jt(n){let e;return{c(){e=A("-/50")},l(l){e=$(l,"-/50")},m(l,t){H(l,e,t)},p:ce,d(l){l&&d(e)}}}function Nt(n){let e=n[16].score+"",l,t;return{c(){l=A(e),t=A("/50")},l(s){l=$(s,e),t=$(s,"/50")},m(s,i){H(s,l,i),H(s,t,i)},p(s,i){i&2&&e!==(e=s[16].score+"")&&q(l,e)},d(s){s&&(d(l),d(t))}}}function Xe(n){let e,l,t,s,i,o=n[16].entry_number+"",a,_,f,h=n[16].beer_name+"",v,T,w,P=n[16].member_name+"",u,c,C,I,b,k,g,M,X="Points",O,L,F=n[16].ranking_points+"",ae,B,G=n[16].ranking_points===1?"pt":"pts",S,J,R,U,K="Score",V,D,te,x,Z,W="Judges",ne,Y,se=n[16].judge_count+"",ie,de;function Ee(z,Q){return z[16].calculated_placement?Pt:It}let ue=Ee(n),le=ue(n);function pe(z,Q){return z[16].score?Nt:jt}let ve=pe(n),oe=ve(n);return{c(){e=p("div"),l=p("div"),t=p("div"),s=p("span"),i=A("#"),a=A(o),_=N(),f=p("h4"),v=A(h),T=N(),w=p("p"),u=A(P),c=N(),C=p("div"),le.c(),I=N(),b=p("div"),k=p("div"),g=p("div"),M=p("span"),M.textContent=X,O=N(),L=p("span"),ae=A(F),B=N(),S=A(G),J=N(),R=p("div"),U=p("span"),U.textContent=K,V=N(),D=p("span"),oe.c(),te=N(),x=p("div"),Z=p("span"),Z.textContent=W,ne=N(),Y=p("span"),ie=A(se),de=N(),this.h()},l(z){e=m(z,"DIV",{class:!0});var Q=E(e);l=m(Q,"DIV",{class:!0});var Pe=E(l);t=m(Pe,"DIV",{class:!0});var ye=E(t);s=m(ye,"SPAN",{class:!0});var Ae=E(s);i=$(Ae,"#"),a=$(Ae,o),Ae.forEach(d),_=j(ye),f=m(ye,"H4",{class:!0});var Le=E(f);v=$(Le,h),Le.forEach(d),T=j(ye),w=m(ye,"P",{class:!0});var Re=E(w);u=$(Re,P),Re.forEach(d),ye.forEach(d),c=j(Pe),C=m(Pe,"DIV",{class:!0});var He=E(C);le.l(He),He.forEach(d),Pe.forEach(d),I=j(Q),b=m(Q,"DIV",{class:!0});var Me=E(b);k=m(Me,"DIV",{class:!0});var ke=E(k);g=m(ke,"DIV",{class:!0});var je=E(g);M=m(je,"SPAN",{class:!0,"data-svelte-h":!0}),ee(M)!=="svelte-1s0cwgq"&&(M.textContent=X),O=j(je),L=m(je,"SPAN",{class:!0,style:!0});var Ne=E(L);ae=$(Ne,F),B=j(Ne),S=$(Ne,G),Ne.forEach(d),je.forEach(d),J=j(ke),R=m(ke,"DIV",{class:!0});var Se=E(R);U=m(Se,"SPAN",{class:!0,"data-svelte-h":!0}),ee(U)!=="svelte-31smhd"&&(U.textContent=K),V=j(Se),D=m(Se,"SPAN",{class:!0});var Be=E(D);oe.l(Be),Be.forEach(d),Se.forEach(d),te=j(ke),x=m(ke,"DIV",{class:!0});var Ve=E(x);Z=m(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),ee(Z)!=="svelte-5b4hqb"&&(Z.textContent=W),ne=j(Ve),Y=m(Ve,"SPAN",{class:!0});var qe=E(Y);ie=$(qe,se),qe.forEach(d),Ve.forEach(d),ke.forEach(d),Me.forEach(d),de=j(Q),Q.forEach(d),this.h()},h(){y(s,"class","entry-number svelte-saa2yl"),y(f,"class","beer-name svelte-saa2yl"),y(w,"class","member-name svelte-saa2yl"),y(t,"class","entry-info svelte-saa2yl"),y(C,"class","ranking-info svelte-saa2yl"),y(l,"class","card-header svelte-saa2yl"),y(M,"class","detail-label svelte-saa2yl"),y(L,"class","detail-value svelte-saa2yl"),_e(L,"color",n[16].ranking_points>0?"#059669":"#666"),_e(L,"font-weight","600"),y(g,"class","detail-item svelte-saa2yl"),y(U,"class","detail-label svelte-saa2yl"),y(D,"class","detail-value svelte-saa2yl"),y(R,"class","detail-item svelte-saa2yl"),y(Z,"class","detail-label svelte-saa2yl"),y(Y,"class","detail-value svelte-saa2yl"),y(x,"class","detail-item svelte-saa2yl"),y(k,"class","detail-row svelte-saa2yl"),y(b,"class","card-details svelte-saa2yl"),y(e,"class","result-card svelte-saa2yl")},m(z,Q){H(z,e,Q),r(e,l),r(l,t),r(t,s),r(s,i),r(s,a),r(t,_),r(t,f),r(f,v),r(t,T),r(t,w),r(w,u),r(l,c),r(l,C),le.m(C,null),r(e,I),r(e,b),r(b,k),r(k,g),r(g,M),r(g,O),r(g,L),r(L,ae),r(L,B),r(L,S),r(k,J),r(k,R),r(R,U),r(R,V),r(R,D),oe.m(D,null),r(k,te),r(k,x),r(x,Z),r(x,ne),r(x,Y),r(Y,ie),r(e,de)},p(z,Q){Q&2&&o!==(o=z[16].entry_number+"")&&q(a,o),Q&2&&h!==(h=z[16].beer_name+"")&&q(v,h),Q&2&&P!==(P=z[16].member_name+"")&&q(u,P),ue===(ue=Ee(z))&&le?le.p(z,Q):(le.d(1),le=ue(z),le&&(le.c(),le.m(C,null))),Q&2&&F!==(F=z[16].ranking_points+"")&&q(ae,F),Q&2&&G!==(G=z[16].ranking_points===1?"pt":"pts")&&q(S,G),Q&2&&_e(L,"color",z[16].ranking_points>0?"#059669":"#666"),ve===(ve=pe(z))&&oe?oe.p(z,Q):(oe.d(1),oe=ve(z),oe&&(oe.c(),oe.m(D,null))),Q&2&&se!==(se=z[16].judge_count+"")&&q(ie,se)},d(z){z&&d(e),le.d(),oe.d()}}}function xe(n){let e,l,t,s=n[12]+"",i,o,a,_,f='<tr class="svelte-saa2yl"><th class="svelte-saa2yl">Entry</th> <th class="svelte-saa2yl">Member</th> <th class="svelte-saa2yl">Beer Name</th> <th class="svelte-saa2yl">Ranking Points</th> <th class="svelte-saa2yl">Score</th> <th class="svelte-saa2yl">Placement</th></tr>',h,v,T,w,P,u=fe(n[13]),c=[];for(let b=0;b<u.length;b+=1)c[b]=We(Je(n,u,b));let C=fe(n[13]),I=[];for(let b=0;b<C.length;b+=1)I[b]=Xe(Ge(n,C,b));return{c(){e=p("div"),l=p("div"),t=p("h3"),i=A(s),o=N(),a=p("table"),_=p("thead"),_.innerHTML=f,h=N(),v=p("tbody");for(let b=0;b<c.length;b+=1)c[b].c();T=N(),w=p("div");for(let b=0;b<I.length;b+=1)I[b].c();P=N(),this.h()},l(b){e=m(b,"DIV",{class:!0});var k=E(e);l=m(k,"DIV",{class:!0});var g=E(l);t=m(g,"H3",{class:!0});var M=E(t);i=$(M,s),M.forEach(d),g.forEach(d),o=j(k),a=m(k,"TABLE",{class:!0});var X=E(a);_=m(X,"THEAD",{"data-svelte-h":!0}),ee(_)!=="svelte-e54ciq"&&(_.innerHTML=f),h=j(X),v=m(X,"TBODY",{});var O=E(v);for(let F=0;F<c.length;F+=1)c[F].l(O);O.forEach(d),X.forEach(d),T=j(k),w=m(k,"DIV",{class:!0});var L=E(w);for(let F=0;F<I.length;F+=1)I[F].l(L);L.forEach(d),P=j(k),k.forEach(d),this.h()},h(){y(t,"class","category-title svelte-saa2yl"),y(l,"class","category-header svelte-saa2yl"),y(a,"class","results-table desktop-view svelte-saa2yl"),y(w,"class","results-cards mobile-view svelte-saa2yl"),y(e,"class","category-section svelte-saa2yl")},m(b,k){H(b,e,k),r(e,l),r(l,t),r(t,i),r(e,o),r(e,a),r(a,_),r(a,h),r(a,v);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(v,null);r(e,T),r(e,w);for(let g=0;g<I.length;g+=1)I[g]&&I[g].m(w,null);r(e,P)},p(b,k){if(k&2&&s!==(s=b[12]+"")&&q(i,s),k&2){u=fe(b[13]);let g;for(g=0;g<u.length;g+=1){const M=Je(b,u,g);c[g]?c[g].p(M,k):(c[g]=We(M),c[g].c(),c[g].m(v,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=u.length}if(k&2){C=fe(b[13]);let g;for(g=0;g<C.length;g+=1){const M=Ge(b,C,g);I[g]?I[g].p(M,k):(I[g]=Xe(M),I[g].c(),I[g].m(w,null))}for(;g<I.length;g+=1)I[g].d(1);I.length=C.length}},d(b){b&&d(e),$e(c,b),$e(I,b)}}}function St(n){let e,l,t,s,i,o,a,_,f,h;e=new dt({props:{title:"Competition Results",subtitle:"View published competition results and standings",icon:"üèÖ",center:!0}}),s=new ut({props:{variant:"secondary",$$slots:{default:[pt]},$$scope:{ctx:n}}}),s.$on("click",n[9]);let v=n[6]&&ze(n);const T=[gt,ht,vt],w=[];function P(u,c){return u[4]?0:u[2].length===0?1:2}return a=P(n),_=w[a]=T[a](n),{c(){Ie(e.$$.fragment),l=N(),t=p("div"),Ie(s.$$.fragment),i=N(),v&&v.c(),o=N(),_.c(),f=me(),this.h()},l(u){we(e.$$.fragment,u),l=j(u),t=m(u,"DIV",{class:!0});var c=E(t);we(s.$$.fragment,c),c.forEach(d),i=j(u),v&&v.l(u),o=j(u),_.l(u),f=me(),this.h()},h(){y(t,"class","controls svelte-saa2yl")},m(u,c){De(e,u,c),H(u,l,c),H(u,t,c),De(s,t,null),H(u,i,c),v&&v.m(u,c),H(u,o,c),w[a].m(u,c),H(u,f,c),h=!0},p(u,c){const C={};c&16777216&&(C.$$scope={dirty:c,ctx:u}),s.$set(C),u[6]?v?v.p(u,c):(v=ze(u),v.c(),v.m(o.parentNode,o)):v&&(v.d(1),v=null);let I=a;a=P(u),a===I?w[a].p(u,c):(ot(),ge(w[I],1,1,()=>{w[I]=null}),it(),_=w[a],_?_.p(u,c):(_=w[a]=T[a](u),_.c()),be(_,1),_.m(f.parentNode,f))},i(u){h||(be(e.$$.fragment,u),be(s.$$.fragment,u),be(_),h=!0)},o(u){ge(e.$$.fragment,u),ge(s.$$.fragment,u),ge(_),h=!1},d(u){u&&(d(l),d(t),d(i),d(o),d(f)),Ce(e,u),Ce(s),v&&v.d(u),w[a].d(u)}}}function Vt(n){let e,l;return e=new _t({props:{size:"xl",$$slots:{default:[St]},$$scope:{ctx:n}}}),{c(){Ie(e.$$.fragment)},l(t){we(e.$$.fragment,t)},m(t,s){De(e,t,s),l=!0},p(t,[s]){const i={};s&16777471&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(be(e.$$.fragment,t),l=!0)},o(t){ge(e.$$.fragment,t),l=!1},d(t){Ce(e,t)}}}function $t(n){switch(n){case 1:return 3;case 2:return 2;case 3:return 1;default:return 0}}function At(n,e,l,t){let s=[],i=null;for(const a of t){let _;try{_=Array.isArray(a.bjcp_category_ids)?a.bjcp_category_ids:JSON.parse(a.bjcp_category_ids)}catch{console.warn("Failed to parse bjcp_category_ids for group:",a.id);continue}if(_.includes(e)){i=a.id;break}}return i?s=l.filter(a=>a.entry_id===n&&a.ranking_group_id===i):s=l.filter(a=>a.entry_id===n&&a.bjcp_category_id===e),{totalPoints:s.reduce((a,_)=>a+$t(_.rank_position),0),judgeCount:s.length,rankings:s}}function re(n){switch(n){case"1":return{text:"1st Place",class:"placement-first",medal:"ü•á"};case"2":return{text:"2nd Place",class:"placement-second",medal:"ü•à"};case"3":return{text:"3rd Place",class:"placement-third",medal:"ü•â"};case"HM":return{text:"Honorable Mention",class:"placement-hm",medal:"üèÖ"};default:return{text:"No Placement",class:"placement-none",medal:""}}}function Tt(n){const e=n.reduce((l,t)=>{const s=t.display_group;return l[s]||(l[s]=[]),l[s].push(t),l},{});return Object.keys(e).forEach(l=>{const t=e[l];if(t.some(i=>i.ranking_points>0)){t.sort((a,_)=>_.ranking_points!==a.ranking_points?_.ranking_points-a.ranking_points:(_.score||0)-(a.score||0));let i=1,o=null;t.forEach((a,_)=>{o!==null&&a.ranking_points<o&&(i=_+1),a.ranking_points>0?i===1?a.calculated_placement="1":i===2?a.calculated_placement="2":i===3?a.calculated_placement="3":i<=6?a.calculated_placement="HM":a.calculated_placement="":a.calculated_placement="",o=a.ranking_points})}else{t.sort((a,_)=>(_.score||0)-(a.score||0));let i=1,o=null;t.forEach((a,_)=>{const f=a.score||0;o!==null&&f<o&&(i=_+1),f>0?i===1?a.calculated_placement="1":i===2?a.calculated_placement="2":i===3?a.calculated_placement="3":i<=6?a.calculated_placement="HM":a.calculated_placement="":a.calculated_placement="",o=f})}}),e}function et(n){if(!n)return"No date set";try{let e=n;n.includes(" ")&&!n.includes("T")&&(e=n.replace(" ","T"),!e.includes("+")&&!e.includes("Z")&&(e+="Z"));const l=new Date(e);return isNaN(l.getTime())?(console.warn("Invalid date after parsing:",n,"->",e),"Invalid Date"):l.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(e){return console.warn("Error formatting date:",n,e),"Invalid Date"}}function Lt(n,e,l){let t,s,i=[],o=null,a=[],_=!0,f=!1,h=null;lt(()=>{v()}),at(()=>{});async function v(){l(4,_=!0),l(6,h=null);try{console.log("Loading published competitions...");const{data:u,error:c}=await he.from("competitions").select("*").eq("results_published",!0).order("judging_date",{ascending:!1});if(c)throw c;l(2,i=u||[]),console.log("Loaded",i.length,"published competitions"),i.length>0&&(l(3,o=i[0]),await w(i[0]))}catch(u){console.error("Error loading competitions:",u),l(6,h=u.message||"Failed to load competitions")}finally{l(4,_=!1)}}async function T(u){const c=u.target.value;if(!c){l(3,o=null),l(0,a=[]);return}const C=i.find(I=>I.id===c);C&&(l(3,o=C),await w(C))}async function w(u){l(5,f=!0),l(6,h=null);try{console.log("Loading results for competition:",u.name);const{data:c,error:C}=await he.from("competition_results").select("id, competition_id, entry_id, score, placement, created_at, updated_at").eq("competition_id",u.id);if(C)throw C;if(!c||c.length===0){l(0,a=[]);return}const I=c.map(G=>G.entry_id),{data:b,error:k}=await he.from("competition_entries").select("*").in("id",I);if(k)throw k;const g=[...new Set(b.map(G=>G.member_id))],{data:M}=await he.from("members").select("id, name").in("id",g),X=[...new Set(b.map(G=>G.bjcp_category_id).filter(Boolean))],{data:O}=await he.from("bjcp_categories").select("id, category_name, category_number, subcategory_letter, subcategory_name").in("id",X);let L=[];if(u.category_system==="custom"){const{data:G,error:S}=await he.from("competition_ranking_groups").select("*").eq("competition_id",u.id).order("group_order");S||(L=G||[])}const{data:F,error:ae}=await he.from("competition_rankings").select(`
          *,
          entry:competition_entries!inner(id, entry_number, beer_name),
          judge:members!competition_rankings_judge_id_fkey(id, name),
          category:bjcp_categories(category_name, category_number, subcategory_letter),
          ranking_group:competition_ranking_groups(id, group_name, group_description)
        `).eq("competition_id",u.id).order("bjcp_category_id").order("rank_position"),B=F||[];l(0,a=c.map(G=>{const S=b.find(D=>D.id===G.entry_id),J=M==null?void 0:M.find(D=>D.id===(S==null?void 0:S.member_id)),R=O==null?void 0:O.find(D=>D.id===(S==null?void 0:S.bjcp_category_id)),U=R?`${R.category_number}${R.subcategory_letter||""} - ${R.category_name}`:"Unknown Category";let K=null;if(L.length>0&&(S!=null&&S.bjcp_category_id)){const D=L.find(te=>te.bjcp_category_ids.includes(S.bjcp_category_id));K=(D==null?void 0:D.group_name)||null}const V=S!=null&&S.bjcp_category_id?At(S.id,S.bjcp_category_id,B,L):{totalPoints:0,judgeCount:0,rankings:[]};return{...G,entry_number:(S==null?void 0:S.entry_number)||"N/A",beer_name:(S==null?void 0:S.beer_name)||"Unknown Beer",member_name:(J==null?void 0:J.name)||"Unknown Member",category_display:U,ranking_group_name:K,display_group:K||U,category_number:(R==null?void 0:R.category_number)||"",subcategory_letter:(R==null?void 0:R.subcategory_letter)||"",ranking_points:V.totalPoints,judge_count:V.judgeCount}})),console.log("Loaded",a.length,"results")}catch(c){console.error("Error loading results:",c),l(6,h=c.message||"Failed to load results")}finally{l(5,f=!1)}}function P(){ct("/competitions")}return n.$$.update=()=>{n.$$.dirty&1&&l(1,t=Tt(a)),n.$$.dirty&3&&l(7,s={totalEntries:a.length,placedEntries:a.filter(u=>u.calculated_placement&&u.calculated_placement!=="").length,categories:Object.keys(t).length,averageScore:a.length>0?Math.round(a.reduce((u,c)=>u+(c.score||0),0)/a.length*10)/10:0})},[a,t,i,o,_,f,h,s,T,P]}class Ut extends nt{constructor(e){super(),rt(this,e,Lt,Vt,tt,{})}}export{Ut as component};
