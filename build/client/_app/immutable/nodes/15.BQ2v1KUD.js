import{s as It,n as J,d as r,i as V,q as i,c as a,e as u,h as o,k as Xe,C as Vt,B as M,E as kt,b as l,g as m,j,a as ne,f as L,t as T}from"../chunks/hctCtYiR.js";import{e as jt}from"../chunks/CnSxDlF_.js";import{S as yt,i as wt}from"../chunks/Cq-BpkVh.js";import{u as Mt}from"../chunks/CIzMrqji.js";import{u as St}from"../chunks/B_6LiPh4.js";import{s as Ze}from"../chunks/CCM_4jRA.js";import{g as xt}from"../chunks/Dye7roNo.js";import{competitionManagementStore as $e}from"../chunks/DTyBf7dJ.js";function gt(n,e,t){const s=n.slice();return s[13]=e[t],s}function qt(n){var ut;let e,t,s="ğŸº Officer Tools ğŸº",v,d,f="Administrative Dashboard",E,y,h,b,C="Administrative Tools",I,w,O,x,p,K="Quick Overview",N,_,D,k,re="ğŸ“",H,P,R,Ce="Pending Reviews",Pe,ie,Oe,U,ae,et="ğŸ‘¥",Re,X,oe,tt="Active Members",ze,ce,Ne,Z,ve,st="ğŸ†™",Ye,$,de,lt="Points This Month",Be,fe,Fe,ee,ue,nt="ğŸ†",Ge,te,he,rt="Active Competitions",We,_e,Qe,se,be,it="ğŸº",Je,le,pe,at="Competition Entries",Ke,me,q=((ut=n[1])==null?void 0:ut.name)&&Ct(n),ge=jt(n[11]),S=[];for(let c=0;c<ge.length;c+=1)S[c]=Et(gt(n,ge,c));function ot(c,g){return c[5]?Pt:Ht}let De=ot(n),Y=De(n);function ct(c,g){return c[5]?Rt:Ot}let Ee=ct(n),B=Ee(n);function vt(c,g){return c[5]?Nt:zt}let Ie=vt(n),F=Ie(n);function dt(c,g){return c[0].isLoading?Bt:Yt}let Ve=dt(n),G=Ve(n);function ft(c,g){return c[0].isLoading?Gt:Ft}let ke=ft(n),W=ke(n);return{c(){e=o("div"),t=o("h1"),t.textContent=s,v=j(),d=o("p"),d.textContent=f,E=j(),q&&q.c(),y=j(),h=o("div"),b=o("h2"),b.textContent=C,I=j(),w=o("div");for(let c=0;c<S.length;c+=1)S[c].c();O=j(),x=o("div"),p=o("h3"),p.textContent=K,N=j(),_=o("div"),D=o("div"),k=o("div"),k.textContent=re,H=j(),P=o("div"),R=o("div"),R.textContent=Ce,Pe=j(),ie=o("div"),Y.c(),Oe=j(),U=o("div"),ae=o("div"),ae.textContent=et,Re=j(),X=o("div"),oe=o("div"),oe.textContent=tt,ze=j(),ce=o("div"),B.c(),Ne=j(),Z=o("div"),ve=o("div"),ve.textContent=st,Ye=j(),$=o("div"),de=o("div"),de.textContent=lt,Be=j(),fe=o("div"),F.c(),Fe=j(),ee=o("div"),ue=o("div"),ue.textContent=nt,Ge=j(),te=o("div"),he=o("div"),he.textContent=rt,We=j(),_e=o("div"),G.c(),Qe=j(),se=o("div"),be=o("div"),be.textContent=it,Je=j(),le=o("div"),pe=o("div"),pe.textContent=at,Ke=j(),me=o("div"),W.c(),this.h()},l(c){e=a(c,"DIV",{class:!0});var g=u(e);t=a(g,"H1",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-cyu02v"&&(t.textContent=s),v=m(g),d=a(g,"P",{class:!0,"data-svelte-h":!0}),M(d)!=="svelte-1tx6c8r"&&(d.textContent=f),E=m(g),q&&q.l(g),g.forEach(r),y=m(c),h=a(c,"DIV",{class:!0});var z=u(h);b=a(z,"H2",{class:!0,"data-svelte-h":!0}),M(b)!=="svelte-1ewb153"&&(b.textContent=C),I=m(z),w=a(z,"DIV",{class:!0});var A=u(w);for(let Ue=0;Ue<S.length;Ue+=1)S[Ue].l(A);A.forEach(r),z.forEach(r),O=m(c),x=a(c,"DIV",{class:!0});var je=u(x);p=a(je,"H3",{class:!0,"data-svelte-h":!0}),M(p)!=="svelte-1mp6kz2"&&(p.textContent=K),N=m(je),_=a(je,"DIV",{class:!0});var Q=u(_);D=a(Q,"DIV",{class:!0});var ye=u(D);k=a(ye,"DIV",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-14idgrf"&&(k.textContent=re),H=m(ye),P=a(ye,"DIV",{class:!0});var we=u(P);R=a(we,"DIV",{class:!0,"data-svelte-h":!0}),M(R)!=="svelte-1lvcfee"&&(R.textContent=Ce),Pe=m(we),ie=a(we,"DIV",{class:!0});var ht=u(ie);Y.l(ht),ht.forEach(r),we.forEach(r),ye.forEach(r),Oe=m(Q),U=a(Q,"DIV",{class:!0});var Me=u(U);ae=a(Me,"DIV",{class:!0,"data-svelte-h":!0}),M(ae)!=="svelte-13mzxv"&&(ae.textContent=et),Re=m(Me),X=a(Me,"DIV",{class:!0});var Se=u(X);oe=a(Se,"DIV",{class:!0,"data-svelte-h":!0}),M(oe)!=="svelte-a0c4iz"&&(oe.textContent=tt),ze=m(Se),ce=a(Se,"DIV",{class:!0});var _t=u(ce);B.l(_t),_t.forEach(r),Se.forEach(r),Me.forEach(r),Ne=m(Q),Z=a(Q,"DIV",{class:!0});var xe=u(Z);ve=a(xe,"DIV",{class:!0,"data-svelte-h":!0}),M(ve)!=="svelte-11nbgq0"&&(ve.textContent=st),Ye=m(xe),$=a(xe,"DIV",{class:!0});var qe=u($);de=a(qe,"DIV",{class:!0,"data-svelte-h":!0}),M(de)!=="svelte-1gsq0n9"&&(de.textContent=lt),Be=m(qe),fe=a(qe,"DIV",{class:!0});var bt=u(fe);F.l(bt),bt.forEach(r),qe.forEach(r),xe.forEach(r),Fe=m(Q),ee=a(Q,"DIV",{class:!0});var Ae=u(ee);ue=a(Ae,"DIV",{class:!0,"data-svelte-h":!0}),M(ue)!=="svelte-cwrisn"&&(ue.textContent=nt),Ge=m(Ae),te=a(Ae,"DIV",{class:!0});var Le=u(te);he=a(Le,"DIV",{class:!0,"data-svelte-h":!0}),M(he)!=="svelte-1vn6wxa"&&(he.textContent=rt),We=m(Le),_e=a(Le,"DIV",{class:!0});var pt=u(_e);G.l(pt),pt.forEach(r),Le.forEach(r),Ae.forEach(r),Qe=m(Q),se=a(Q,"DIV",{class:!0});var Te=u(se);be=a(Te,"DIV",{class:!0,"data-svelte-h":!0}),M(be)!=="svelte-1yllf8j"&&(be.textContent=it),Je=m(Te),le=a(Te,"DIV",{class:!0});var He=u(le);pe=a(He,"DIV",{class:!0,"data-svelte-h":!0}),M(pe)!=="svelte-21kqb1"&&(pe.textContent=at),Ke=m(He),me=a(He,"DIV",{class:!0});var mt=u(me);W.l(mt),mt.forEach(r),He.forEach(r),Te.forEach(r),Q.forEach(r),je.forEach(r),this.h()},h(){i(t,"class","svelte-1brnj10"),i(d,"class","subtitle svelte-1brnj10"),i(e,"class","hero-section svelte-1brnj10"),i(b,"class","svelte-1brnj10"),i(w,"class","tools-grid svelte-1brnj10"),i(h,"class","tools-section svelte-1brnj10"),i(p,"class","svelte-1brnj10"),i(k,"class","stat-icon svelte-1brnj10"),i(R,"class","stat-label svelte-1brnj10"),i(ie,"class","stat-value svelte-1brnj10"),i(P,"class","stat-content svelte-1brnj10"),i(D,"class","stat-card svelte-1brnj10"),i(ae,"class","stat-icon svelte-1brnj10"),i(oe,"class","stat-label svelte-1brnj10"),i(ce,"class","stat-value svelte-1brnj10"),i(X,"class","stat-content svelte-1brnj10"),i(U,"class","stat-card svelte-1brnj10"),i(ve,"class","stat-icon svelte-1brnj10"),i(de,"class","stat-label svelte-1brnj10"),i(fe,"class","stat-value svelte-1brnj10"),i($,"class","stat-content svelte-1brnj10"),i(Z,"class","stat-card svelte-1brnj10"),i(ue,"class","stat-icon svelte-1brnj10"),i(he,"class","stat-label svelte-1brnj10"),i(_e,"class","stat-value svelte-1brnj10"),i(te,"class","stat-content svelte-1brnj10"),i(ee,"class","stat-card svelte-1brnj10"),i(be,"class","stat-icon svelte-1brnj10"),i(pe,"class","stat-label svelte-1brnj10"),i(me,"class","stat-value svelte-1brnj10"),i(le,"class","stat-content svelte-1brnj10"),i(se,"class","stat-card svelte-1brnj10"),i(_,"class","stats-grid svelte-1brnj10"),i(x,"class","quick-stats svelte-1brnj10")},m(c,g){V(c,e,g),l(e,t),l(e,v),l(e,d),l(e,E),q&&q.m(e,null),V(c,y,g),V(c,h,g),l(h,b),l(h,I),l(h,w);for(let z=0;z<S.length;z+=1)S[z]&&S[z].m(w,null);V(c,O,g),V(c,x,g),l(x,p),l(x,N),l(x,_),l(_,D),l(D,k),l(D,H),l(D,P),l(P,R),l(P,Pe),l(P,ie),Y.m(ie,null),l(_,Oe),l(_,U),l(U,ae),l(U,Re),l(U,X),l(X,oe),l(X,ze),l(X,ce),B.m(ce,null),l(_,Ne),l(_,Z),l(Z,ve),l(Z,Ye),l(Z,$),l($,de),l($,Be),l($,fe),F.m(fe,null),l(_,Fe),l(_,ee),l(ee,ue),l(ee,Ge),l(ee,te),l(te,he),l(te,We),l(te,_e),G.m(_e,null),l(_,Qe),l(_,se),l(se,be),l(se,Je),l(se,le),l(le,pe),l(le,Ke),l(le,me),W.m(me,null)},p(c,g){var z;if((z=c[1])!=null&&z.name?q?q.p(c,g):(q=Ct(c),q.c(),q.m(e,null)):q&&(q.d(1),q=null),g&3585){ge=jt(c[11]);let A;for(A=0;A<ge.length;A+=1){const je=gt(c,ge,A);S[A]?S[A].p(je,g):(S[A]=Et(je),S[A].c(),S[A].m(w,null))}for(;A<S.length;A+=1)S[A].d(1);S.length=ge.length}De===(De=ot(c))&&Y?Y.p(c,g):(Y.d(1),Y=De(c),Y&&(Y.c(),Y.m(ie,null))),Ee===(Ee=ct(c))&&B?B.p(c,g):(B.d(1),B=Ee(c),B&&(B.c(),B.m(ce,null))),Ie===(Ie=vt(c))&&F?F.p(c,g):(F.d(1),F=Ie(c),F&&(F.c(),F.m(fe,null))),Ve===(Ve=dt(c))&&G?G.p(c,g):(G.d(1),G=Ve(c),G&&(G.c(),G.m(_e,null))),ke===(ke=ft(c))&&W?W.p(c,g):(W.d(1),W=ke(c),W&&(W.c(),W.m(me,null)))},d(c){c&&(r(e),r(y),r(h),r(O),r(x)),q&&q.d(),kt(S,c),Y.d(),B.d(),F.d(),G.d(),W.d()}}}function At(n){let e,t='<div class="error-icon svelte-1brnj10">âš ï¸</div> <h2 class="svelte-1brnj10">Access Restricted</h2> <p class="svelte-1brnj10">You are not authorized to view this page. Officer privileges are required.</p> <a href="/" class="cta-button svelte-1brnj10">Return Home</a>';return{c(){e=o("div"),e.innerHTML=t,this.h()},l(s){e=a(s,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-i7gyt5"&&(e.innerHTML=t),this.h()},h(){i(e,"class","access-denied svelte-1brnj10")},m(s,v){V(s,e,v)},p:J,d(s){s&&r(e)}}}function Lt(n){let e,t='<div class="error-icon svelte-1brnj10">ğŸ”’</div> <h2 class="svelte-1brnj10">Authentication Required</h2> <p class="svelte-1brnj10">Please log in to access officer tools.</p> <a href="/login" class="cta-button svelte-1brnj10">Sign In</a>';return{c(){e=o("div"),e.innerHTML=t,this.h()},l(s){e=a(s,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-61zh6b"&&(e.innerHTML=t),this.h()},h(){i(e,"class","auth-required svelte-1brnj10")},m(s,v){V(s,e,v)},p:J,d(s){s&&r(e)}}}function Tt(n){let e,t='<div class="spinner svelte-1brnj10"></div> <p>Verifying permissions...</p>';return{c(){e=o("div"),e.innerHTML=t,this.h()},l(s){e=a(s,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1qu3jfi"&&(e.innerHTML=t),this.h()},h(){i(e,"class","loading-state svelte-1brnj10")},m(s,v){V(s,e,v)},p:J,d(s){s&&r(e)}}}function Ct(n){let e,t,s,v,d=n[1].name+"",f,E,y,h,b="You have administrative privileges";return{c(){e=o("div"),t=o("p"),s=T("Welcome, Officer "),v=o("strong"),f=T(d),E=T("!"),y=j(),h=o("p"),h.textContent=b,this.h()},l(C){e=a(C,"DIV",{class:!0});var I=u(e);t=a(I,"P",{class:!0});var w=u(t);s=L(w,"Welcome, Officer "),v=a(w,"STRONG",{});var O=u(v);f=L(O,d),O.forEach(r),E=L(w,"!"),w.forEach(r),y=m(I),h=a(I,"P",{class:!0,"data-svelte-h":!0}),M(h)!=="svelte-1od60id"&&(h.textContent=b),I.forEach(r),this.h()},h(){i(t,"class","svelte-1brnj10"),i(h,"class","access-level svelte-1brnj10"),i(e,"class","welcome-message svelte-1brnj10")},m(C,I){V(C,e,I),l(e,t),l(t,s),l(t,v),l(v,f),l(t,E),l(e,y),l(e,h)},p(C,I){I&2&&d!==(d=C[1].name+"")&&ne(f,d)},d(C){C&&r(e)}}}function Dt(n){let e,t,s,v,d,f,E,y;return{c(){e=o("div"),t=o("span"),s=T(n[9]),v=T(" Active"),d=j(),f=o("span"),E=T(n[10]),y=T(" Entries"),this.h()},l(h){e=a(h,"DIV",{class:!0});var b=u(e);t=a(b,"SPAN",{class:!0});var C=u(t);s=L(C,n[9]),v=L(C," Active"),C.forEach(r),d=m(b),f=a(b,"SPAN",{class:!0});var I=u(f);E=L(I,n[10]),y=L(I," Entries"),I.forEach(r),b.forEach(r),this.h()},h(){i(t,"class","stat-badge svelte-1brnj10"),i(f,"class","stat-badge svelte-1brnj10"),i(e,"class","tool-stats svelte-1brnj10")},m(h,b){V(h,e,b),l(e,t),l(t,s),l(t,v),l(e,d),l(e,f),l(f,E),l(f,y)},p(h,b){b&512&&ne(s,h[9]),b&1024&&ne(E,h[10])},d(h){h&&r(e)}}}function Et(n){let e,t,s=n[13].icon+"",v,d,f,E,y=n[13].label+"",h,b,C,I=n[13].description+"",w,O,x,p,K="â†’",N,_=n[13].label==="Manage Competitions"&&!n[0].isLoading&&Dt(n);return{c(){e=o("a"),t=o("div"),v=T(s),d=j(),f=o("div"),E=o("h3"),h=T(y),b=j(),C=o("p"),w=T(I),O=j(),_&&_.c(),x=j(),p=o("div"),p.textContent=K,N=j(),this.h()},l(D){e=a(D,"A",{href:!0,class:!0});var k=u(e);t=a(k,"DIV",{class:!0});var re=u(t);v=L(re,s),re.forEach(r),d=m(k),f=a(k,"DIV",{class:!0});var H=u(f);E=a(H,"H3",{class:!0});var P=u(E);h=L(P,y),P.forEach(r),b=m(H),C=a(H,"P",{class:!0});var R=u(C);w=L(R,I),R.forEach(r),O=m(H),_&&_.l(H),H.forEach(r),x=m(k),p=a(k,"DIV",{class:!0,"data-svelte-h":!0}),M(p)!=="svelte-1rtrb6l"&&(p.textContent=K),N=m(k),k.forEach(r),this.h()},h(){i(t,"class","tool-icon svelte-1brnj10"),i(E,"class","tool-label svelte-1brnj10"),i(C,"class","tool-description svelte-1brnj10"),i(f,"class","tool-content svelte-1brnj10"),i(p,"class","tool-arrow svelte-1brnj10"),i(e,"href",n[13].href),i(e,"class","tool-card "+n[13].color+" svelte-1brnj10")},m(D,k){V(D,e,k),l(e,t),l(t,v),l(e,d),l(e,f),l(f,E),l(E,h),l(f,b),l(f,C),l(C,w),l(f,O),_&&_.m(f,null),l(e,x),l(e,p),l(e,N)},p(D,k){D[13].label==="Manage Competitions"&&!D[0].isLoading?_?_.p(D,k):(_=Dt(D),_.c(),_.m(f,null)):_&&(_.d(1),_=null)},d(D){D&&r(e),_&&_.d()}}}function Ht(n){let e;return{c(){e=T(n[6])},l(t){e=L(t,n[6])},m(t,s){V(t,e,s)},p(t,s){s&64&&ne(e,t[6])},d(t){t&&r(e)}}}function Pt(n){let e;return{c(){e=o("div"),this.h()},l(t){e=a(t,"DIV",{class:!0}),u(e).forEach(r),this.h()},h(){i(e,"class","stat-loading svelte-1brnj10")},m(t,s){V(t,e,s)},p:J,d(t){t&&r(e)}}}function Ot(n){let e;return{c(){e=T(n[7])},l(t){e=L(t,n[7])},m(t,s){V(t,e,s)},p(t,s){s&128&&ne(e,t[7])},d(t){t&&r(e)}}}function Rt(n){let e;return{c(){e=o("div"),this.h()},l(t){e=a(t,"DIV",{class:!0}),u(e).forEach(r),this.h()},h(){i(e,"class","stat-loading svelte-1brnj10")},m(t,s){V(t,e,s)},p:J,d(t){t&&r(e)}}}function zt(n){let e=n[8].toLocaleString()+"",t;return{c(){t=T(e)},l(s){t=L(s,e)},m(s,v){V(s,t,v)},p(s,v){v&256&&e!==(e=s[8].toLocaleString()+"")&&ne(t,e)},d(s){s&&r(t)}}}function Nt(n){let e;return{c(){e=o("div"),this.h()},l(t){e=a(t,"DIV",{class:!0}),u(e).forEach(r),this.h()},h(){i(e,"class","stat-loading svelte-1brnj10")},m(t,s){V(t,e,s)},p:J,d(t){t&&r(e)}}}function Yt(n){let e;return{c(){e=T(n[9])},l(t){e=L(t,n[9])},m(t,s){V(t,e,s)},p(t,s){s&512&&ne(e,t[9])},d(t){t&&r(e)}}}function Bt(n){let e;return{c(){e=o("div"),this.h()},l(t){e=a(t,"DIV",{class:!0}),u(e).forEach(r),this.h()},h(){i(e,"class","stat-loading svelte-1brnj10")},m(t,s){V(t,e,s)},p:J,d(t){t&&r(e)}}}function Ft(n){let e;return{c(){e=T(n[10])},l(t){e=L(t,n[10])},m(t,s){V(t,e,s)},p(t,s){s&1024&&ne(e,t[10])},d(t){t&&r(e)}}}function Gt(n){let e;return{c(){e=o("div"),this.h()},l(t){e=a(t,"DIV",{class:!0}),u(e).forEach(r),this.h()},h(){i(e,"class","stat-loading svelte-1brnj10")},m(t,s){V(t,e,s)},p:J,d(t){t&&r(e)}}}function Wt(n){let e;function t(d,f){return d[3]?Tt:d[2]?d[4]?At:qt:Lt}let s=t(n),v=s(n);return{c(){e=o("main"),v.c(),this.h()},l(d){e=a(d,"MAIN",{class:!0});var f=u(e);v.l(f),f.forEach(r),this.h()},h(){i(e,"class","svelte-1brnj10")},m(d,f){V(d,e,f),v.m(e,null)},p(d,[f]){s===(s=t(d))&&v?v.p(d,f):(v.d(1),v=s(d),v&&(v.c(),v.m(e,null)))},i:J,o:J,d(d){d&&r(e),v.d()}}}function Qt(n,e,t){let s,v,d;Xe(n,$e,p=>t(0,s=p)),Xe(n,St,p=>t(1,v=p)),Xe(n,Mt,p=>t(2,d=p));let f=!0,E=!1,y=!0,h=0,b=0,C=0,I=0,w=0;Vt(()=>{typeof window<"u"&&v!=null&&v.is_officer&&x()});const O=[{href:"/officers/approvals",label:"Review Submissions",icon:"âœ…",description:"Approve or deny point submissions",color:"primary"},{href:"/officers/view-all",label:"View All Points",icon:"ğŸ“Š",description:"Browse all member points and submissions",color:"secondary"},{href:"/officers/manage-competitions",label:"Manage Competitions",icon:"ğŸ†",description:"Create and manage brewing competitions",color:"competition"},{href:"/officers/members",label:"Manage Members",icon:"ğŸ‘¥",description:"View and manage member accounts",color:"tertiary"},{href:"/officers/reports",label:"Generate Reports",icon:"ğŸ“ˆ",description:"Create activity and performance reports",color:"quaternary"}];async function x(){try{t(5,y=!0);const{data:p,error:K}=await Ze.from("point_submissions").select("id").neq("approved",!0);if(K)throw K;t(6,h=(p==null?void 0:p.length)||0);const{data:N,error:_}=await Ze.from("members").select("id").eq("active",!0);if(_)throw _;t(7,b=(N==null?void 0:N.length)||0);const D=new Date,k=new Date(D.getFullYear(),D.getMonth(),1),re=new Date(D.getFullYear(),D.getMonth()+1,1),{data:H,error:P}=await Ze.from("point_submissions").select("points").gte("submitted_at",k.toISOString()).lt("submitted_at",re.toISOString()).eq("approved",!0);if(P)throw P;t(8,C=(H==null?void 0:H.reduce((R,Ce)=>R+(Ce.points||0),0))||0),await $e.loadCompetitions()}catch(p){console.error("Error loading dashboard stats:",p),t(6,h=0),t(7,b=0),t(8,C=0)}finally{t(5,y=!1)}}return n.$$.update=()=>{n.$$.dirty&6&&d!==void 0&&v!==void 0&&(t(3,f=!1),d?v&&!v.is_officer?t(4,E=!0):v&&v.is_officer&&(t(4,E=!1),x(),$e.initialize()):xt("/login")),n.$$.dirty&1&&s.stats&&(t(9,I=s.stats.active),t(10,w=s.stats.totalEntries))},[s,v,d,f,E,y,h,b,C,I,w,O]}class ss extends yt{constructor(e){super(),wt(this,e,Qt,Wt,It,{})}}export{ss as component};
